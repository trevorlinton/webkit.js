commit 61404bd5022b913f58ecda8dc9e8922b4fc6f80b
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 27 15:44:52 2006 +0200

    Update version to 1.2.0 and add notes to NEWS file.
    
    Also update libtool version information to 11:0:9.

 NEWS         |   40 ++++++++++++++++++++++++++++++++++++++++
 ROADMAP      |    8 ++++----
 configure.in |    8 ++++----
 3 files changed, 48 insertions(+), 8 deletions(-)

commit cea70741e851993fe181a76872fb97549d0769d5
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 03:24:21 2006 +0200

    Add src/cairo-features.h and test/*.ps to CLEANFILES

 src/Makefile.am  |    2 +-
 test/Makefile.am |    1 +
 2 files changed, 2 insertions(+), 1 deletions(-)

commit 55b5fedbc1df32e4dc9d1fccf40e12e14f7b6cd0
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 02:54:22 2006 +0200

    Add many references images (and a font) missing from EXTRA_DIST

 test/Makefile.am |   77 +++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 74 insertions(+), 3 deletions(-)

commit 3d4a8fd741df328bd969454791163bc945d3ad8b
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 02:53:26 2006 +0200

    Don't remove INSTALL during maintainer-clean

 Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit cfddf93afb692819548adb85c5b75f60be7e7349
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Jul 1 01:55:12 2006 +0200

    Make CAIRO_EXTEND_REFLECT and CAIRO_EXTEND_PAD not crash on surface patterns,
    
    but return error.

 src/cairo-surface.c |   30 ++++++++++++++++++++++++++++++
 src/cairo.h         |    5 +++--
 2 files changed, 33 insertions(+), 2 deletions(-)

commit 01b1f3572c3c15a08dd6f32788106c0e42fd2436
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 30 22:01:24 2006 +0200

    Detect and report crashes in tests.

 test/cairo-test.c |   59 +++++++++++++++++++++++++++++++++++++++++-----------
 test/cairo-test.h |    3 +-
 2 files changed, 48 insertions(+), 14 deletions(-)

commit 19c4700101bfce7d73a50017021b4ec198ddd783
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 01:05:30 2006 +0200

    Even _more_ valgrind suppresions for Xrm (XrmGetFileDatabase this time)

 test/.valgrind-suppressions |  190 +++++++++++++++++++++++++++++++++++++++---
 1 files changed, 176 insertions(+), 14 deletions(-)

commit 84b06eed4e53eb34b0ec378216fa246286998acd
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 00:47:59 2006 +0200

    SVG: Fix leak in _cairo_svg_surface_mask

 src/cairo-svg-surface.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 35ec5747ca5eb8a63ec334d61eb13357b4aa3802
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 00:38:06 2006 +0200

    Add yet another XrmGetStringDatabase valgrind suppression.

 test/.valgrind-suppressions |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 80cb0d5ba1e3622b4b71639cf03e7dc277cbb457
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 00:37:44 2006 +0200

    Fix some leaks in the test suite itself.

 test/cairo-test.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 14e7883fae58e51c2deab5b97c9a405c5dbb3aeb
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jul 1 00:00:43 2006 +0200

    Fix a memory leak by removing accidentally duplicated code.

 test/cairo-test.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 8919b6b3243db5db59a73f804854364a00a8586d
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 23:24:23 2006 +0200

    Add valgrind suppressions for pthread initialization still reachable/possibly lost memory

 test/.valgrind-suppressions |   39 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 39 insertions(+), 0 deletions(-)

commit 98cc1651cf19699a0c90e8e2e7f2c2da2ae83760
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 23:21:06 2006 +0200

    Add valgrind suppressions for still-reachable memory from XGetDefault and XrmGetStringDatabase

 test/.valgrind-suppressions |  142 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 142 insertions(+), 0 deletions(-)

commit f6b10a6aabb121e1a4ca092ca175aad39b3c828d
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 23:06:56 2006 +0200

    Add another suppression due to mysterious occurences in libc

 test/.valgrind-suppressions |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit c6c943f3cfefa535e6c2da6adcac15507a8f0952
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 23:00:39 2006 +0200

    ps: Fix to not walk off the end of the data array.
    
    This fixes a bug recently introduced with the special case for the ~> sequence.

 src/cairo-ps-surface.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0853ccd05314d618afd0d640a33f0a744842a0d2
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 22:58:36 2006 +0200

    Add new libz/libpng suppressions.
    
    It would appear we have to keep updating these for new library versions.

 test/.valgrind-suppressions |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit ee75e1e6853ada5c4218788148e2f5a09669a2b3
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 17:07:42 2006 +0200

    Add ps-specific reference image for test/degenerate-path

 test/degenerate-path-ps-argb32-ref.png |  Bin 0 -> 197 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit e0db22c6bc40d4576d9c1131d3192f1df3b942ca
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 16:54:16 2006 +0200

    ps: Fix degenerate-path test failure.
    
    This is as simple as simply not emitting any degenerate sub-paths when the cap
    style is CAIRO_LINE_CAP_SQUARE or CAIRO_LINE_CAP_BUTT.

 src/cairo-ps-surface.c |   84 ++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 68 insertions(+), 16 deletions(-)

commit 057c0abeea1ee80c7156be5a1c15594765d88fe0
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 30 16:07:11 2006 +0200

    ps: Fix transformation of source surfaces.
    
    This makes the following four tests pass, (which were previously
    failing on the ps backend).
    
    	move-to-show-surface
    	scale-source-surface-paint
    	source-surface-scale-paint
    	translate-show-surface

 src/cairo-ps-surface.c |   63 +++++++++++++++++++++++++++++------------------
 1 files changed, 39 insertions(+), 24 deletions(-)

commit 54ce585817d78ffeeb0ba6b03b868e63b9552cb8
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 23:34:29 2006 +0200

    Update PDF-specific reference image for scale-source-surface-paint

 test/scale-source-surface-paint-pdf-argb32-ref.png |  Bin 152 -> 182 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit a6fc321d1793e97e4601429a98c36bed9af365a0
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 23:28:48 2006 +0200

    Add PDF-specific reference image for paint-source-alpha

 test/paint-source-alpha-pdf-argb32-ref.png |  Bin 0 -> 475 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit aaef92f8307fedd864fca66054b06c8bfe7ae40d
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 23:27:05 2006 +0200

    Add PDF-specific reference image for composite-integer-translate-over

 ...osite-integer-translate-over-pdf-argb32-ref.png |  Bin 0 -> 12946 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit 45ebf2d1f3c6cb4588c3bebf6acf1818eb723515
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 30 01:45:47 2006 +0200

    Fix an oops.

 src/cairo-xlib-surface.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit e5d18d7696eb9a48369b89517738dbaa101106d7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 30 01:44:55 2006 +0200

    Use $no_x in configure.in.

 configure.in |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 6c3deb0be1b9d6db0104af02fb193849a8329133
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 30 01:33:14 2006 +0200

    Minor doc syntax fixes.

 src/cairo-surface.c |    2 +-
 src/cairo.h         |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8860263c6a18a0b196e2b462a538dfc166fbea04
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 30 01:29:54 2006 +0200

    Remove CAIRO_SVG_VERSION_LAST from public header file.

 src/cairo-svg-surface.c |    8 ++++++--
 src/cairo-svg.h         |   13 ++++++++++---
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 6672529541e01b0da53fff279cb1f8030c931ffb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 30 00:58:01 2006 +0200

    Hook some more symbols into docs.

 doc/public/cairo-sections.txt |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 66436d132772af627447a929ced3a8a18cc6915f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 30 00:46:48 2006 +0200

    Update lots of docs.

 doc/public/Makefile.am        |    9 ++++-
 doc/public/cairo-sections.txt |   90 +++++++++++++++++++++++------------------
 src/cairo-pdf-surface.c       |   10 ++--
 src/cairo-ps-surface.c        |   16 +++----
 src/cairo-svg-surface.c       |   14 +++---
 src/cairo-win32-font.c        |   19 ++++++++-
 src/cairo-win32-surface.c     |    3 +
 src/cairo-xlib-surface.c      |   72 ++++++++++++++++++++++++++++++++
 src/cairo.h                   |   18 ++++-----
 9 files changed, 177 insertions(+), 74 deletions(-)

commit de939f52061ba9a1c739c193e3e4f549668855cc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 29 18:54:02 2006 +0200

    Require gtk-doc 1.6, and make it ignore cairo_public and cairo_private
    
    decorators.

 configure.in           |    2 +-
 doc/public/Makefile.am |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 647ca37ca3d4b1954f7400deeeaaf245b5c90e69
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 29 18:47:35 2006 +0200

    Mark enum additions as "Since 1.2" too.

 src/cairo.h |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit 320ce67d630e4aac1f0007982aef27c831b04b66
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 29 18:36:53 2006 +0200

    Add "Since: 1.2" to docs for most new API functions.

 src/cairo-font.c          |    2 ++
 src/cairo-image-surface.c |    6 ++++++
 src/cairo-pattern.c       |    2 ++
 src/cairo-pdf-surface.c   |    6 ++++++
 src/cairo-ps-surface.c    |   14 +++++++++++++-
 src/cairo-scaled-font.c   |   12 ++++++++++++
 src/cairo-surface.c       |   14 +++++++-------
 src/cairo-svg-surface.c   |   14 ++++++++++----
 src/cairo.c               |   14 ++++++++++++++
 9 files changed, 72 insertions(+), 12 deletions(-)

commit bd92eb7f3c58fdcbe05f67b9a879798246c616bc
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 19:47:26 2006 +0200

    Move device_transform of path to before floating->fixed conversion.
    
    This is an attempt to fix the following bug:
    
    	http://bugzilla.gnome.org/show_bug.cgi?id=332266
    
    With the recent rewrite of the device-offset code, which pushed things
    from the gstate to the surface layer, the 16-bit limitations on coordinates
    which previously applied to device space only, have lately been applying to
    user space. This commit moves the device_transform back up above the conversion
    from floating-point to fixed-point values so that once again the limitation
    only applies to device space.

 src/cairo-clip.c             |   10 -------
 src/cairo-gstate.c           |    8 ++++--
 src/cairo-surface-fallback.c |    1 +
 src/cairo-surface.c          |   54 ++++++++++++++++++------------------------
 src/cairo-xlib-surface.c     |    1 +
 src/cairoint.h               |    1 +
 6 files changed, 31 insertions(+), 44 deletions(-)

commit 29caf8915f822778f0e59add7d364a03bcdb8327
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 29 16:09:46 2006 +0200

    Fix support for non-pkg-config cflags and libs (needed for supporting
    freetype-config)

 configure.in            |   20 ++++++++++++--------
 src/cairo-backend.pc.in |    4 ++--
 2 files changed, 14 insertions(+), 10 deletions(-)

commit 195b1142e7a1652e0f65cfd822bba7ea8b6ba505
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 29 15:22:44 2006 +0200

    Prefix "cairo_*_test_*" symbols with underscore.

 src/cairo-pdf-surface.c      |    4 ++--
 src/cairo-pdf-test.h         |    4 ++--
 src/cairo-ps-surface.c       |    4 ++--
 src/cairo-ps-test.h          |    4 ++--
 src/cairo-scaled-font-test.h |    4 ++--
 src/cairo-scaled-font.c      |    2 +-
 src/cairo-svg-surface.c      |    4 ++--
 src/cairo-svg-test.h         |    4 ++--
 src/cairo-xlib-surface.c     |    4 ++--
 src/cairo-xlib-test.h        |    4 ++--
 test/fallback-resolution.c   |    6 +++---
 test/glyph-cache-pressure.c  |    2 +-
 test/xlib-surface.c          |    2 +-
 13 files changed, 24 insertions(+), 24 deletions(-)

commit f26da6c464c60ab2ed87175ab0a9b81e3cf363fb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 29 12:32:58 2006 +0200

    Remove cairo_public from source files.

 src/cairo-atsui-font.c  |    2 +-
 src/cairo-svg-surface.c |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8effd25c1b05607ff6501821f1d80745677d8e72
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 06:25:24 2006 +0200

    Update PDF and PS reference images for test/text-pattern.

 test/text-pattern-pdf-argb32-ref.png |  Bin 0 -> 1632 bytes
 test/text-pattern-ps-argb32-ref.png  |  Bin 0 -> 1681 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit a64b946ee0512d85d3c790c67aad8a882c5c3533
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 06:24:44 2006 +0200

    Mark test/leaky-dash as an expected failure.

 test/Makefile.am  |    1 +
 test/leaky-dash.c |    3 ++-
 2 files changed, 3 insertions(+), 1 deletions(-)

commit 734e10709f5c62c0b64e51a03df8e109e7eebe0d
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 06:12:48 2006 +0200

    Add several more stress tests to test/dash-zero-length

 test/dash-zero-length-ps-argb32-ref.png |  Bin 214 -> 272 bytes
 test/dash-zero-length-ref.png           |  Bin 235 -> 238 bytes
 test/dash-zero-length-rgb24-ref.png     |  Bin 222 -> 218 bytes
 test/dash-zero-length.c                 |   85 ++++++++++++++++++++-----------
 4 files changed, 56 insertions(+), 29 deletions(-)

commit 8aa306caac99ebe074a6cde8b424b1780cafefee
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 05:13:37 2006 +0200

    PS: Fix for dash-zero-length

 src/cairo-ps-surface.c |   79 +++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 75 insertions(+), 4 deletions(-)

commit 7285499700a4f0f4bb95f003d0c730246bf3eabd
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 05:07:51 2006 +0200

    Squelch some bogus compiler warnings about possibly uninitialized values.

 pixman/src/fbcompose.c  |    9 +++++----
 src/cairo-font-subset.c |    4 ++--
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 20e3a99bbaa2624ecad7b505158edc8dce706ea8
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Jun 29 04:10:35 2006 +0200

    Skip TrueType font output for PS/PDF until it handles vertical layout.
    
    The TrueType font subsetting code fails to emit VHEA/VMTX headers for the
    font, so WMode 1 doesn't work to switch to vertical metrics. Added a bug
    about this, and changed the PS/PDF output code to just use Type3 in this
    case until the bug is fixed. Updated the reference images to match the
    output for PDF/PS backends for the vertical font check.

 BUGS                                            |    7 +++++++
 src/cairo-font-subset.c                         |    3 +++
 src/cairo-ft-font.c                             |   16 +++++++++++++++-
 src/cairo-ft-private.h                          |    3 +++
 test/ft-text-vertical-layout-pdf-argb32-ref.png |  Bin 1018 -> 956 bytes
 test/ft-text-vertical-layout-pdf-rgb24-ref.png  |  Bin 1037 -> 0 bytes
 test/ft-text-vertical-layout-ps-argb32-ref.png  |  Bin 351 -> 349 bytes
 test/ft-text-vertical-layout-ps-rgb24-ref.png   |  Bin 1086 -> 0 bytes
 8 files changed, 28 insertions(+), 1 deletions(-)

commit 2e2799d4f921b22030eb63585dcec2ed4503fd5b
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 02:41:46 2006 +0200

    Ignore degenerate-path

 test/.gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c90cc4e33f1549cde1d7a6a94599dbb3de84d387
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 29 02:41:17 2006 +0200

    Update reference images for ft-text-vertical-layout

 test/ft-text-vertical-layout-ref.png           |  Bin 1130 -> 1130 bytes
 test/ft-text-vertical-layout-svg-rgb24-ref.png |  Bin 1100 -> 1098 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit 92021d169fea48eed9349e5821353f976df56be1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 28 04:14:07 2006 +0200

    Make docs not build by "make all", but by "make doc", "make dist", and "make
    install".

 Makefile.am                        |    4 ++++
 doc/Makefile.am                    |    4 +++-
 doc/public/tmpl/cairo-types.sgml   |    4 +---
 doc/public/tmpl/cairo-version.sgml |    7 +++++++
 gtk-doc.make                       |    8 ++++++--
 5 files changed, 21 insertions(+), 6 deletions(-)

commit 0d073c2e86ced3a94ef76e7e4c2a00f8fb76efb1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 28 03:25:08 2006 +0200

    Use $RELEASE_OR_SNAPSHOT to determine upload directory.
    Turn distcheck on release-check on again, as CAIRO_TEST_TARGET="" can be used
    to disable all failures now.

 Makefile.am |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit b37562868d2254d2dbd93a8808d32f0a0d769195
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 28 03:16:33 2006 +0200

    Ignore *.bak

 doc/public/.gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9fe0ea16d344d5b9bed1cd7f6046e378ce76ae1f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 28 03:15:41 2006 +0200

    Update list of ignored header files.

 doc/public/Makefile.am |   44 ++++++++++++++++++++++++++++----------------
 1 files changed, 28 insertions(+), 16 deletions(-)

commit ddb81d3cade326fecfe1ed05037542e958e734b5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jun 27 16:55:53 2006 +0200

    Report Xlib Xrender status.

 configure.in |   29 +++++++++++++++--------------
 1 files changed, 15 insertions(+), 14 deletions(-)

commit 34f24d2aad90d4a737b513ac6858ed879316e132
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 27 15:38:45 2006 +0200

    ROADMAP: Note that degenerate path stuff has been pushed out now.

 ROADMAP |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 988a28e259924e7ce50f4d3119bcef7a3b18c931
Merge: 973c9ab ce2b9e1
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 27 15:37:58 2006 +0200

    Merge branch 'degenerate-path' into cairo

commit 973c9abd53df4e6d6583de045514e003827bc7b9
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Tue Jun 27 15:33:47 2006 +0200

    PS: Workaround to avoid splitting final ~> terminating sequence.

 src/cairo-ps-surface.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 5d60ceb9b85a6b39865bc760ef7467c10f2ec7b6
Author: Michael Emmel <memmel@debian.localdomain>
Date:   Mon Jun 26 22:27:14 2006 -0700

    Added major updates fixes and enhancements by
    Claudio Ciccani klan@directfb.org
    Almost a full rewrite

 src/cairo-directfb-surface.c | 2175 +++++++++++++++++++++++++++++-------------
 1 files changed, 1523 insertions(+), 652 deletions(-)

commit 289e8b8af30ae3f00e7649109a933a673f346b37
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 26 12:26:15 2006 +0200

    Remove config.cache in make distclean.

 Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 73a0e792b4115a1012c5f618650a6265377cc6e5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 26 12:21:18 2006 +0200

    More configure foo fixes for .pc files.

 configure.in            |   14 ++++++++------
 src/Makefile.am         |    9 ++++++++-
 src/cairo-backend.pc.in |    4 ++--
 3 files changed, 18 insertions(+), 9 deletions(-)

commit 5ba974ea0b7974e8c985d7414fcf6a8a5e415c12
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 26 11:54:04 2006 +0200

    Fix circular dependency in cairo.pc and cairo-xlib.pc.

 configure.in |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 53a478d233e7b8e02ecbc93bf102fb4dc29e0d57
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jun 25 17:43:27 2006 +0200

    Rewrite configure caching.

 configure.in    |  285 ++++++++++++++++++++++++------------------------------
 src/cairo.pc.in |    2 +-
 2 files changed, 128 insertions(+), 159 deletions(-)

commit ce2b9e1b5cc816e4a6a4345daab539cc58e2d043
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 16:57:59 2006 +0200

    Prefer TRUE and FALSE over 1 and 0 for assigning cairo_bool_t values

 src/cairo-path-stroke.c |   24 ++++++++++++------------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 58a60ed9fdd53a4cf29d33624b866bf6ccd637ae
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 16:53:13 2006 +0200

    Prefer sub-path over subpath in documentation.

 src/cairo.c |   24 ++++++++++++------------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 773cb6475b68199e5ef0839cd22c9f3445d7d5d3
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 16:51:25 2006 +0200

    Prefer sub_path over subpath in identifiers.

 src/cairo-path-stroke.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 8f0dd658b1fff3f4e9225b8fb23884f0bbcdb822
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 16:49:45 2006 +0200

    Add documentation for how degenerate segments and sub-paths are treated.

 src/cairo.c |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 15caa88c6416ce8e0c4c026e76f84ccaf7a3c840
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Jun 25 16:12:38 2006 +0200

    Initial support for degenerate-path stroking
    
    This follows the PDF and SVG specifications which only draw degenerate paths when
    round caps are in effect.
    
    With this commit, the degenerate-path test passes with the image, xlib, and pdf
    backends, (but still fails with ps and svg backends).

 src/cairo-path-stroke.c |   54 +++++++++++++++++++++++++++++-----------------
 1 files changed, 34 insertions(+), 20 deletions(-)

commit 20df4af12617ad6459dcb234dfd98954282710f5
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Jun 25 15:48:48 2006 +0200

    Add new test case degenerate-path to show current 'bug'

 test/Makefile.am                   |    4 ++
 test/degenerate-path-ref.png       |  Bin 0 -> 193 bytes
 test/degenerate-path-rgb24-ref.png |  Bin 0 -> 174 bytes
 test/degenerate-path.c             |   68 ++++++++++++++++++++++++++++++++++++
 4 files changed, 72 insertions(+), 0 deletions(-)

commit e747bbd350e9630c18849dd7975036d1260264be
Author: Torsten Schoenfeld <kaffeetisch@gmx.de>
Date:   Sun Jun 25 15:07:19 2006 +0200

    Fix build after recent pixman.h change.
    
    The recent pixman.h change to use configure-generated defines
    accidentally broke the build.  Pulling in config.h fixes it.

 pixman/src/pixman.h |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit e32138aa93ba37d760af87294fbb47046bfe6dec
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 14:42:27 2006 +0200

    Prefer using configure-generated variable for finding stdint.h or similar.
    
    We were doing something more complicated originally, and that was because
    pixman.h was an installed public header file at one time. But that hasn't
    been the case for quite a long time.

 pixman/src/pixman.h |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 14ffde038038deda66973856a5f3b9442c8d3c7d
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 12:16:36 2006 +0200

    ROADMAP: Note that bug 6759 is now fixed.

 ROADMAP |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d2ea21b4aef8ab5338718ddd6ccdff35609e9f6c
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 11:48:32 2006 +0200

    ft-text-antialias-none: Update reference images and igore list.
    
    Add a new ps reference image due to slightly different rasterization. Also
    update pdf and svg backends to ignore this test since those backends do not
    support ANTIALIAS_NONE.
    
    Note in ROADMAP that bug 6759 is fixed now.

 test/cairo-test.c                             |    2 ++
 test/ft-text-antialias-none-ps-argb32-ref.png |  Bin 0 -> 335 bytes
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 7e0e503fba80767dc68556054e937123fdcea359
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 11:32:36 2006 +0200

    xlib: Fix failure path to do cache thawing cleanup.

 src/cairo-xlib-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4bff3d559e1d931cd47701f11765b1a574a7eac4
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 11:28:03 2006 +0200

    ROADMAP: Note that cairo_xlib_surface_get_width/height exist now.

 ROADMAP |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ddead8e0612162e121868ba561498b8565112f8b
Author: Robert O'Callahan <rocallahan@novell.com>
Date:   Wed Jun 21 15:47:03 2006 +1200

    Surface size getters for xlib
    
    When accessing the underlying drawable etc of an xlib surface, it is
    also helpful to be able to get the width and height without a server
    round trip. This patch provides those functions.

 src/cairo-xlib-surface.c |   26 ++++++++++++++++++++++++++
 src/cairo-xlib.h         |    6 ++++++
 test/xlib-surface.c      |    7 ++++++-
 3 files changed, 38 insertions(+), 1 deletions(-)

commit 113bef399a2ca27f4c49a3d917ac1e6075449616
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 11:20:50 2006 +0200

    ROADMAP: Note that bug 6617 might already be fixed.

 ROADMAP |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 9ab5678e53219f95de7183e300bba3edac7fe72d
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 10:02:10 2006 +0200

    Fix bug 7268: Fix coordinate space for _cairo_surface_get_extents
    
    Previously this function was attempting to return values in surface
    space, (but even then it was doing it wrong). However, all callers
    actually expect values in backend space. Fixing this cleans up bug
    7268 quite nicely.

 ROADMAP             |    2 +-
 src/cairo-surface.c |   31 +++++++++++++------------------
 2 files changed, 14 insertions(+), 19 deletions(-)

commit 95355c854f1894e7bbcd370f3bb0d00223c077b6
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 02:25:16 2006 +0200

    ROADMAP: Note that SVG bitmap glyphs now work. Move some bugs to a punt list.

 ROADMAP |   22 ++++++++++++++--------
 1 files changed, 14 insertions(+), 8 deletions(-)

commit 4c7074ceb42c50fc55929291330658f693c66bc7
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Jun 25 02:23:14 2006 +0200

    Remove comment which had been incorrectly copied

 src/cairo-ft-font.c |   16 +---------------
 1 files changed, 1 insertions(+), 15 deletions(-)

commit 3a313070e5b5a1168225dec008f63ff68ed20559
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri Jun 23 20:13:58 2006 +0200

    SVG: fix bit order for bitmap font data and use a group with matrix
    
    transformation instead of applying the same matrix on each rect
    coordinates.

 src/cairo-svg-surface.c |   55 +++++++++++++++++++---------------------------
 1 files changed, 23 insertions(+), 32 deletions(-)

commit 8b6fcaf8ff17786ab5394a4aa2d6289f5d9601c2
Author: Jonathon Jongsma <jonathon.jongsma@gmail.com>
Date:   Fri Jun 23 08:29:17 2006 -0500

    Fix a minor documentation typo in cairo_pop_group_to_source

 src/cairo.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bfa133f9e6dbe511ab696cb1d4b1cea59451f1c1
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 22 22:39:39 2006 -0700

    ROADMAP: Note that bug 6955 is fixed.

 ROADMAP |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5488c3b462260126a000928aa599684d7b1041e7
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 22 22:38:17 2006 -0700

    xlib: Prefer BAIL over FAIL when the cleanup code is also used in succesful cases.

 src/cairo-xlib-surface.c |   28 ++++++++++++++--------------
 1 files changed, 14 insertions(+), 14 deletions(-)

commit 7e457cb4c1e69670f27e3e8e134a9e32a8f75788
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 22 22:32:57 2006 -0700

    Bug 6955: Fix by adding freeze/thaw around scaled_font glyph cache in _cairo_xlib_surface_show_glyphs

 src/cairo-scaled-font.c     |   12 ++++++++++++
 src/cairo-xlib-surface.c    |   15 ++++++++++++++-
 src/cairoint.h              |    6 ++++++
 test/glyph-cache-pressure.c |    7 +++++++
 4 files changed, 39 insertions(+), 1 deletions(-)

commit 6a58658b73924fa6897bd1e290d754ce1df44b0d
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 22 22:05:20 2006 -0700

    Add test/glyph-cache-pressure to demonstrate xlib failure (bug 6955)

 test/.gitignore                              |    1 +
 test/Makefile.am                             |    2 +
 test/glyph-cache-pressure-pdf-argb32-ref.png |  Bin 0 -> 2879 bytes
 test/glyph-cache-pressure-ps-argb32-ref.png  |  Bin 0 -> 591 bytes
 test/glyph-cache-pressure-ref.png            |  Bin 0 -> 3223 bytes
 test/glyph-cache-pressure-svg-argb32-ref.png |  Bin 0 -> 3635 bytes
 test/glyph-cache-pressure-svg-rgb24-ref.png  |  Bin 0 -> 3165 bytes
 test/glyph-cache-pressure.c                  |   89 ++++++++++++++++++++++++++
 8 files changed, 92 insertions(+), 0 deletions(-)

commit 333ac8f4d9ccc356cb91e7118ed56bfc07e78c2f
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 22 22:03:06 2006 -0700

    Add 'private' cairo_scaled_font_test_set_max_glyphs_cached_per_font for testing

 src/Makefile.am              |    1 +
 src/cairo-scaled-font-test.h |   49 ++++++++++++++++++++++++++++++++++++++++++
 src/cairo-scaled-font.c      |   17 +++++++++++++-
 3 files changed, 66 insertions(+), 1 deletions(-)

commit d5197c1e0defc1018320efcb461977557a7d5d6e
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Jun 22 22:32:47 2006 +0200

    SVG: dumb implementation of bitmap glyphs.
    
    Bitmap glyphs are emited as tiny svg rectangles. An improvement would be
    to calculate glyph outline from bitmap data.

 src/cairo-svg-surface.c |   39 ++++++++++++++++++++++++++++++++-------
 1 files changed, 32 insertions(+), 7 deletions(-)

commit cd5eb70e4e45962c88b4bfe13de6f26211601e55
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 21 22:36:27 2006 -0700

    ROADMAP: Update with 1.1.10 notes as well as new blockers and fixes

 ROADMAP |   23 +++++++++++++++++++----
 1 files changed, 19 insertions(+), 4 deletions(-)

commit 25e0acfee0ae790329c2f558ce6a9f997eeace6d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 21 17:23:35 2006 -0700

    PDF: Fix display of bitmapped glyphs (bitmap-font test now passes)

 src/cairo-pdf-surface.c |   37 ++++++++++++++++++++++++++++++++-----
 1 files changed, 32 insertions(+), 5 deletions(-)

commit b4720ca51d4b1de02d6beb898b7d04a33e1d99fd
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 20 23:12:58 2006 -0700

    PDF: Push glyph stream creation down from emit glyph to outline/bitmap variants

 src/cairo-pdf-surface.c |   42 +++++++++++++++++++++++++-----------------
 1 files changed, 25 insertions(+), 17 deletions(-)

commit 83a8a50735746a4591c3bcc1aaa46fb7a0f87224
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 21 19:57:40 2006 -0400

    Pass --cache-file=config.cache and --disable-static to configure from
    autogen.sh.

 autogen.sh      |    2 +-
 src/Makefile.am |    6 ++++++
 2 files changed, 7 insertions(+), 1 deletions(-)

commit f5ee9557c3dc7bc72098cd08698f147ed685ccb2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 21 07:22:50 2006 -0400

    Removed excess mkdir.

 configure.in |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit f71313d427565cb37a25393ff8a5a2ffdcfb798b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 21 07:00:34 2006 -0400

    Minor refinements, mostly to configure.in.

 configure.in     |  113 +++++++++++++++++++++++++++++------------------------
 test/.gitignore  |    1 +
 test/Makefile.am |    3 +-
 3 files changed, 65 insertions(+), 52 deletions(-)

commit c88bab66ab258e0bbd2cb80eaf4edc9e5f1ad6f0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 21 06:25:01 2006 -0400

    Make configure generate cairo-features.h. Generate AC_DEFINE and AM_CONDITIONALS
    
    for all CAIRO_HAS_*  in CAIRO_BACKEND_ENABLE.

 configure.in            |  198 ++++++++++++++++++++++-------------------------
 src/Makefile.am         |    2 +
 src/cairo-features.h.in |   86 --------------------
 3 files changed, 96 insertions(+), 190 deletions(-)

commit c6c1da2a2346de6c1df82fab2e7bafec7f37db50
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 20 17:49:05 2006 -0700

    PS: Add support for emitting bitmapped glyphs into type3 fonts.
    
    The bitmap-font now passes when run against the ps backend.

 src/cairo-ps-surface.c |   45 +++++++++++++++++++++++++++++++++++++++------
 1 files changed, 39 insertions(+), 6 deletions(-)

commit cca08d9bce1647444acdb78aedb6ad6967c07661
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 20 17:48:06 2006 -0700

    New bitmap-font test with bundled 6x13 font.
    
    The 6x13 font is a public-domain terminal font from the X
    distribution.

 test/.gitignore                |    1 +
 test/6x13.pcf                  |  Bin 10560 -> 5239 bytes
 test/Makefile.am               |    3 +
 test/bitmap-font-ref.png       |  Bin 0 -> 552 bytes
 test/bitmap-font-rgb24-ref.png |  Bin 0 -> 513 bytes
 test/bitmap-font.c             |  106 ++++++++++++++++++++++++++++++++++++++++
 6 files changed, 110 insertions(+), 0 deletions(-)

commit ab8ae66f9d5c92af96b4a530957537ec7d33c128
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 20 17:15:07 2006 -0700

    SVG: Fix to not crash on bitmapped glyphs
    
    This is similar to a change that was recently made to the PDF and PS backends.
    Bitmap glyphs are not yet drawn correctly, (drawn as filled rectangles instead),
    but the crash is at least eliminated.

 src/cairo-svg-surface.c |   87 ++++++++++++++++++++++++++++++++++-------------
 test/6x13.pcf           |  Bin 0 -> 10560 bytes
 2 files changed, 63 insertions(+), 24 deletions(-)

commit 2f43a79e4e87341dd0df49fc6c11fd17a21350c2
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 20 11:28:23 2006 -0700

    ft-font: Use compile-time test (WORDS_BIGENDIAN) rather than run-time function to test endian-ness.

 src/cairo-ft-font.c |   11 ++---------
 1 files changed, 2 insertions(+), 9 deletions(-)

commit b806b50cfe890b534dbf86f0b4d2cc0c22b880ff
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 20 10:59:22 2006 -0700

    Add new CAIRO_BITSWAP8 macro for swapping the bits within a byte.
    
    This uses a technique devised by Sean Anderson, July 13, 2001 as found
    at http://graphics.stanford.edu/~seander/bithacks.html#ReverseByteWith32Bits
    This technique uses 3 multiplies rather than just shifts and masks, but
    performance seems comparable to the old approach, (but more significantly,
    the new approach is easier to implement as a macro, and I plan to start
    using this bit-swapping elsewhere very soon).

 src/cairo-ft-font.c |    9 +++------
 src/cairoint.h      |   12 ++++++++++++
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 3465ae1c58a87382c33117f6c5dec52403c9694e
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 20 10:43:53 2006 -0700

    output-stream: Support %X in addition to %x

 src/cairo-output-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit bb11980f14560ea16174c6531678b9b7a623f813
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Jun 20 02:16:17 2006 -0400

    Add 'x' case to printf switch so we actually implement %02x.

 src/cairo-output-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 651b2a9ab0bdb5f8fa952e47e95c21d2f530950d
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jun 19 21:16:03 2006 -0700

    test/fallback-resolution: Remove extra call to cairo_show_page

 test/fallback-resolution.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 7026e24548fd0e4fbfb2bd3af7cffab8eab88d44
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jun 19 21:15:26 2006 -0700

    PS PDF: Drop unused hex_digit functions, (now that output stream supports %02x)

 src/cairo-pdf-surface.c |    8 --------
 src/cairo-ps-surface.c  |    8 --------
 2 files changed, 0 insertions(+), 16 deletions(-)

commit cd5e08a9fee70b1ed2252d24e04db806769babcd
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jun 19 22:42:32 2006 -0400

    Implement 0-padding and field width for _cairo_output_stream_printf().
    
    Use it instead of %c%c in PS and PDF surfaces.

 src/cairo-output-stream.c |   46 +++++++++++++++++++++++++++++---------------
 src/cairo-pdf-surface.c   |    5 +--
 src/cairo-ps-surface.c    |    5 +--
 3 files changed, 34 insertions(+), 22 deletions(-)

commit a3f2d92f11a1ab4d30dd0e33a0cd5ee19495eeb1
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jun 19 11:03:32 2006 -0700

    PDF: Don't fallback due to CAIRO_ANTIALIAS_NONE
    
    This was a gratuitous thing that was causing excessive fallbacks in
    mozilla printing to PDF. The only reason it was ever there was to
    get some of the tests that rely on CAIRO_ANTIALIAS_NONE to pass.
    Instead we now simply don't run those tests against the PDF backend.

 src/cairo-pdf-surface.c |   16 ++--------------
 test/cairo-test.c       |   15 ++++++++++++++-
 2 files changed, 16 insertions(+), 15 deletions(-)

commit 72e7667ed904b93475d7e4540778c498aa781cdf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 19 04:29:49 2006 -0400

    Replace noinst_ with check_, such that nothing is built with default make
    target.

 test/Makefile.am |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit fdc109dc5902f362bfec2f90b5d357c2d16b96d6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 19 04:17:19 2006 -0400

    Add create-for-stream.* to .gitignore.

 test/.gitignore |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit d12afb7eac80d66cc140721031940feddc2586c6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 19 04:10:56 2006 -0400

    Update .gitignore

 test/.gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a28557f55a49ac812e69b59fe803fd0cba10d10b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 19 04:10:19 2006 -0400

    Reference images for new test...

 test/device-offset-positive-ref.png       |  Bin 0 -> 139 bytes
 test/device-offset-positive-rgb24-ref.png |  Bin 0 -> 130 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit 2f59dd4a5e9f4ce3853b055620bbada4526e3f58
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Mon Jun 19 15:52:36 2006 +0800

    Turn hinting off to get consistent results for ft-text-vertical-layout test case.

 test/ft-text-vertical-layout-ref.png            |  Bin 1145 -> 1130 bytes
 test/ft-text-vertical-layout-rgb24-ref.png      |  Bin 1059 -> 0 bytes
 test/ft-text-vertical-layout-svg-argb32-ref.png |  Bin 1106 -> 1021 bytes
 test/ft-text-vertical-layout-svg-rgb24-ref.png  |  Bin 1106 -> 1100 bytes
 test/ft-text-vertical-layout.c                  |    5 +++++
 5 files changed, 5 insertions(+), 0 deletions(-)

commit f5b6fc139c8e455b27df52139578d2546a826e6d
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Mon Jun 19 15:51:43 2006 +0800

    Turn hinting off to get consistent results for ft-text-antialias-none test case.

 test/ft-text-antialias-none-ref.png |  Bin 332 -> 336 bytes
 test/ft-text-antialias-none.c       |    3 +++
 2 files changed, 3 insertions(+), 0 deletions(-)

commit ddc01a3c5530aa9480eb19aded7ba08f97529440
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 19 03:22:53 2006 -0400

    Correct comment about expected result in device-offset-positive test.

 test/device-offset-positive.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 70d3719ec9d0dbe7e37f3ad3c5cfbe596be4f409
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 19 03:13:56 2006 -0400

    Add test device-offset-positive.

 test/.gitignore               |    1 +
 test/Makefile.am              |    2 +
 test/device-offset-positive.c |   88 +++++++++++++++++++++++++++++++++++++++++
 test/device-offset.c          |    2 +-
 4 files changed, 92 insertions(+), 1 deletions(-)

commit fde08da55f293cd40927c8a1d41db0e478785e8e
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Mon Jun 19 14:49:46 2006 +0800

    freetype: Don't ignore antialias in some cases.

 src/cairo-ft-font.c |   57 ++++++++++++++++++++++++++-------------------------
 1 files changed, 29 insertions(+), 28 deletions(-)

commit c9de7b1286309fc2da1a5ea798674b528aa2eab6
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Mon Jun 19 14:17:24 2006 +0800

    freetype: Compare all elements in ft_options but not use memcmp.

 src/cairo-ft-font.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit e4736fcf76855c7ca5c9e8b922622dfffe08e4e1
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sun Jun 18 23:50:51 2006 +0800

    freetype: Clear target mode correctly in _cairo_ft_options_merge.

 src/cairo-ft-font.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1e0e56e0223116bf48e5acd4a974f16fae824df2
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sun Jun 18 17:30:39 2006 +0800

    freetype: Fix warnings in _decompose_glyph_outline.

 src/cairo-ft-font.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 117b062756de9fc99f635b3e712ea3e258c53165
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sun Jun 18 17:26:19 2006 +0800

    freetype: cleanup _cairo_ft_scaled_glyph_init.

 src/cairo-ft-font.c |   32 ++++++++++++++++++--------------
 1 files changed, 18 insertions(+), 14 deletions(-)

commit 54b4a2fccdcaa4fbc126818c7cb7b96a1a8acf35
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sun Jun 18 17:20:38 2006 +0800

    freetype: Respect configurations in font pattern.
    
    cairo freetype font backend doesn't handle fontconfig configurations
    quiet well, it always renders glyphs using configurations in
    scaled_font->base.options which usually isn't corresponding to
    font pattern used to create the font face and the load flags. As a
    result, turning antialias off with fontconfig doesn't work with cairo
    HEAD, subpixel order either.
    
    This commit make cairo respect configurations in font pattern and handle
    load flags correctly. The ft-text-antialias-none test case passess now.
    And should fix bug #6759 and #4792.

 src/cairo-ft-font.c |  232 ++++++++++++++++++++++++++++-----------------------
 1 files changed, 129 insertions(+), 103 deletions(-)

commit 4b2b8f939a9e786ead080f85d1b101680230f168
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sat Jun 17 16:29:54 2006 +0800

    Add ft-text-antilaias-none test case demonstrating bug #6759.

 test/.gitignore                     |    1 +
 test/Makefile.am                    |    1 +
 test/ft-text-antialias-none-ref.png |  Bin 0 -> 332 bytes
 test/ft-text-antialias-none.c       |  128 +++++++++++++++++++++++++++++++++++
 4 files changed, 130 insertions(+), 0 deletions(-)

commit efaf88d4092db5e4ca37508d87fdb8ac39496018
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sat Jun 17 15:52:05 2006 +0800

    Add missing prototype for _cairo_lzw_compress.

 src/cairoint.h |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 6f0a85c8f76ba2fb77862f2da506bfd405ce218d
Author: Ian Osgood <iano@quirkster.com>
Date:   Fri Jun 16 08:18:37 2006 -0700

    Update the XCB backend for screen sensitivity.

 src/cairo-xcb-surface.c |   87 +++++++++++++++++++++++++++++++++++-----------
 src/cairo-xcb-xrender.h |    1 +
 src/cairo-xcb.h         |    1 +
 test/cairo-test.c       |    2 +-
 4 files changed, 69 insertions(+), 22 deletions(-)

commit bc4a6796f851a9f10764feb783988641d26cf2ce
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 16 19:01:20 2006 -0400

    Accept CAIRO_TEST_TARGET being empty or containing a list of backends to test.
    The list can be separated by any of space, tab, comma, colon, or semicolon.
    Moreover, a CAIRO_TEST_TARGET of e.g. "glitz" matches any subtarget like
    "glitz-glx".

 test/cairo-test.c |   33 ++++++++++++++++++++++++---------
 1 files changed, 24 insertions(+), 9 deletions(-)

commit 8bc05f15ab3f2054f802cfbc9564476a4acbb4a8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 16 18:39:36 2006 -0400

    Note that create_similar clears surface.

 src/cairo-surface.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3bad1f0b0c431f1e5832d8755d0e22fe31120007
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 16 10:09:54 2006 -0700

    Increment CAIRO_VERSION to 1.1.11 after making the 1.1.10 snapshot

 configure.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 65e73c81b83222de873935cf384e514ea20ac854
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 16 09:45:44 2006 -0700

    Update version to 1.1.10 and add notes to NEWS file.
    
    Also update libtool version information to 10:0:8.

 NEWS         |   17 +++++++++++++++++
 configure.in |    6 +++---
 2 files changed, 20 insertions(+), 3 deletions(-)

commit b992e1e29d6d63de2a6b5b48b93d23be50fc29ca
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 16 09:44:33 2006 -0700

    Annoying doc template churn.

 doc/public/tmpl/cairo-image.sgml |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4a5111695c25ce9178f1eb69acd825b3466fcb11
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 16 09:22:36 2006 -0700

    Update release rules in Makefile to add git signature information.

 Makefile.am |   25 ++++++++++++++++++++++---
 RELEASING   |    2 +-
 2 files changed, 23 insertions(+), 4 deletions(-)

commit c6164d0d2a9ca16a00c2768f24a0230de6cbc6f6
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 15 16:22:52 2006 -0700

    New API: Add support for new CAIRO_FORMAT_RGB16_565

 pixman/src/icformat.c     |    6 ++++++
 pixman/src/pixman.h       |    3 ++-
 src/cairo-image-surface.c |   17 ++++++++++++++++-
 src/cairo.h               |    6 +++++-
 4 files changed, 29 insertions(+), 3 deletions(-)

commit 36e59ca5f854de2740c7ef4f0b6022785dd9dc4c
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Fri Jun 16 21:13:21 2006 +0800

    xlib: free resources before return if looking up glyph surface fails.

 src/cairo-xlib-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bf2c0e44d8c8e1e692eafba7bccddd26f1f31c1b
Merge: b8231f8 a8b736c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 16 00:13:18 2006 -0400

    Merge branch 'cairo' into cairo-origin

commit a8b736c1608c3d0b98b81f79ab1f5607cce245ed
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 16 00:08:44 2006 -0400

    Use enum time instead of int (shuts intel compiler up.)

 pixman/src/pixregion.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b8231f8949818099c4e6ed4e0669de6f8c8bf856
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jun 15 22:07:17 2006 -0400

    Add cairo-output-stream-private.h to libcairo_la_SOURCES.
    
    We now pass distcheck again.

 src/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit abe1bfad8d8a3252bdc65da40bf303626881b163
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 15 15:43:00 2006 -0700

    Add missing breaks in switch statement.
    
    Yes, I am an idiot.

 src/cairo-image-surface.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 9fa24975b4b9cc9983331991d2a3c53a37272162
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 15 15:33:45 2006 -0700

    Drop _cairo_surface_is_opaque now that we have cairo_surface_get_content

 src/cairo-pattern.c |    2 +-
 src/cairo-surface.c |   37 +------------------------------------
 src/cairoint.h      |    1 +
 3 files changed, 3 insertions(+), 37 deletions(-)

commit 0ba040d7f63c62e482d40fc6db0e1f0714806839
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 15 14:56:59 2006 -0700

    Remove _cairo_image_surface_is_alpha_only in favor of just looking at content value.

 src/cairo-image-surface.c |   16 +---------------
 1 files changed, 1 insertions(+), 15 deletions(-)

commit 82496a6f7c5b0a9f91db6abc9e34202b8ffa77c4
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jun 15 14:15:42 2006 -0700

    _cairo_format_from_pixman_format: Add useful error mesage and assertion when failing.

 src/cairo-image-surface.c |   64 ++++++++++++++++++++++++++-------------------
 1 files changed, 37 insertions(+), 27 deletions(-)

commit dedc51ba51eaa61e4b11f274fac06c6f0acd8a87
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 14 19:25:37 2006 -0400

    Only call close function for output streams if it's non-NULL.

 src/cairo-output-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 9ef99d10bb7eb6cde421e0d93ae55988882d9b56
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 14 19:15:50 2006 -0400

    Add test case for the PDF, PS and SVG stream constructors.

 test/Makefile.am         |    1 +
 test/create-for-stream.c |  218 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 219 insertions(+), 0 deletions(-)

commit 8c8bcaf99b1c8d6cb26dfc89751d71de535c11e7
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed Jun 14 20:57:42 2006 +0200

    SVG: Update of reference images.

 test/linear-gradient-svg-argb32-ref.png            |  Bin 947 -> 1000 bytes
 test/linear-gradient-svg-rgb24-ref.png             |  Bin 947 -> 1000 bytes
 test/mask-svg-argb32-ref.png                       |  Bin 87715 -> 87728 bytes
 test/mask-svg-rgb24-ref.png                        |  Bin 81874 -> 81753 bytes
 test/paint-source-alpha-svg-argb32-ref.png         |  Bin 353 -> 505 bytes
 test/paint-source-alpha-svg-rgb24-ref.png          |  Bin 353 -> 505 bytes
 test/paint-with-alpha-svg-argb32-ref.png           |  Bin 420 -> 516 bytes
 test/paint-with-alpha-svg-rgb24-ref.png            |  Bin 420 -> 516 bytes
 test/push-group-svg-argb32-ref.png                 |  Bin 2945 -> 2935 bytes
 test/push-group-svg-rgb24-ref.png                  |  Bin 2901 -> 2887 bytes
 test/scale-source-surface-paint-svg-argb32-ref.png |  Bin 146 -> 182 bytes
 test/scale-source-surface-paint-svg-rgb24-ref.png  |  Bin 158 -> 192 bytes
 test/text-pattern-svg-argb32-ref.png               |  Bin 1720 -> 1708 bytes
 test/text-pattern-svg-rgb24-ref.png                |  Bin 1567 -> 1563 bytes
 test/trap-clip-svg-argb32-ref.png                  |  Bin 71765 -> 71728 bytes
 test/trap-clip-svg-rgb24-ref.png                   |  Bin 73066 -> 73082 bytes
 16 files changed, 0 insertions(+), 0 deletions(-)

commit 2cea3a2710cd4c6eb68e25eadaaf96cdc921ef14
Merge: 17ea755 4932d09
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 14 15:00:33 2006 -0400

    Merge branch 'svg-rewrite'

commit 4932d09a06228a08d1c8f4d2892378c004ff3313
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 14 14:12:55 2006 -0400

    Actually add src/cairo-output-stream-private.h.

 src/cairo-output-stream-private.h |  156 +++++++++++++++++++++++++++++++++++++
 1 files changed, 156 insertions(+), 0 deletions(-)

commit 17ea7552355d9925fb99cd4ca98cf38946f99421
Author: Torsten Schönfeld <kaffeetisch@gmx.de>
Date:   Wed Jun 14 11:09:00 2006 -0700

    Add missing cairo_public tag for cairo_image_surface_get_stride

 src/cairo.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1599ab8fa91fd2b5b611825d1e1b46fcacfb7982
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 14 10:41:29 2006 -0700

    Increment CAIRO_VERSION to 1.1.9 after making the 1.1.8 snapshot

 configure.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dd859b8736bb4d1bcf3ed78d0bd1f72a7aad9ca9
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 14 08:14:43 2006 -0700

    Update version to 1.1.8 and add notes to NEWS file.
    
    Also update libtool version information to 9:0:7.

 NEWS         |  132 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.in |    6 +-
 2 files changed, 135 insertions(+), 3 deletions(-)

commit 65c9c072d207b04cac8da21b40b2dd5c14791547
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 14 06:39:23 2006 -0700

    Update refefence images due to pattern source shift.
    
    The commit that introduced this change is:
    
    commit b104a79502e2c01c508e40d83613ecfa001a2a4e
    Author: Bertram Felgenhauer <int-e@gmx.de>
    Date:   Tue Jun 13 20:07:28 2006 -0400
    
        Patch to fix pixman samping location bug (#2488).

 test/gradient-alpha-ref.png        |  Bin 155 -> 147 bytes
 test/gradient-alpha-rgb24-ref.png  |  Bin 142 -> 142 bytes
 test/linear-gradient-ref.png       |  Bin 972 -> 1023 bytes
 test/mask-ref.png                  |  Bin 87837 -> 87890 bytes
 test/mask-rgb24-ref.png            |  Bin 71069 -> 70978 bytes
 test/operator-source-ref.png       |  Bin 19684 -> 19726 bytes
 test/operator-source-rgb24-ref.png |  Bin 14699 -> 14701 bytes
 test/push-group-ref.png            |  Bin 3012 -> 2996 bytes
 test/push-group-rgb24-ref.png      |  Bin 2858 -> 2840 bytes
 test/text-pattern-ref.png          |  Bin 1721 -> 1721 bytes
 test/text-pattern-rgb24-ref.png    |  Bin 1423 -> 1418 bytes
 test/trap-clip-ref.png             |  Bin 71785 -> 71753 bytes
 test/trap-clip-rgb24-ref.png       |  Bin 63087 -> 63049 bytes
 13 files changed, 0 insertions(+), 0 deletions(-)

commit 4bdfff477a1d7fa19890f0a5c4f3cc6533e39149
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 14 06:00:11 2006 -0700

    PS PDF: Update reference images due to truetype subsetting

 test/select-font-face-pdf-argb32-ref.png        |  Bin 2782 -> 2237 bytes
 test/select-font-face-ps-argb32-ref.png         |  Bin 528 -> 481 bytes
 test/show-text-current-point-pdf-argb32-ref.png |  Bin 3838 -> 2157 bytes
 test/show-text-current-point-ps-argb32-ref.png  |  Bin 645 -> 602 bytes
 test/text-antialias-gray-pdf-argb32-ref.png     |  Bin 1004 -> 950 bytes
 test/text-antialias-gray-ps-argb32-ref.png      |  Bin 306 -> 310 bytes
 test/text-antialias-none-pdf-argb32-ref.png     |  Bin 1004 -> 950 bytes
 test/text-antialias-none-ps-argb32-ref.png      |  Bin 306 -> 310 bytes
 test/text-antialias-subpixel-pdf-argb32-ref.png |  Bin 1004 -> 950 bytes
 test/text-antialias-subpixel-ps-argb32-ref.png  |  Bin 306 -> 310 bytes
 10 files changed, 0 insertions(+), 0 deletions(-)

commit 7e0be461b595c3561fa75472fdfd5954e4666cfc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jun 13 22:40:50 2006 -0400

    Rename cairo-wideint.h to cairo-wideint-private.h.

 RELEASING                   |    2 +-
 src/Makefile.am             |    2 +-
 src/cairo-wideint-private.h |  313 +++++++++++++++++++++++++++++++++++++++++++
 src/cairo-wideint.h         |  313 -------------------------------------------
 src/cairoint.h              |    2 +-
 5 files changed, 316 insertions(+), 316 deletions(-)

commit b9cfe941c8e1ae427780117fedfd47d458e29f02
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jun 13 22:37:34 2006 -0400

    Add backend-specific pkg-config files.

 .gitignore              |    1 -
 configure.in            |   56 +++++++++++++++++++++++++++++++---------------
 src/.gitignore          |    1 +
 src/Makefile.am         |   35 ++++++++++++++++++++++------
 src/cairo-backend.pc.in |   12 ++++++++++
 5 files changed, 78 insertions(+), 27 deletions(-)

commit 2249fb89ae36859d1d3f6c9d0b72e95e45726170
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jun 13 19:13:05 2006 -0400

    Move cairo.pc into src/.

 Makefile.am     |    8 ++------
 cairo.pc.in     |   12 ------------
 configure.in    |    2 +-
 src/Makefile.am |    3 +++
 src/cairo.pc.in |   12 ++++++++++++
 5 files changed, 18 insertions(+), 19 deletions(-)

commit e346eca1386e8ec14f9bda7d76662a16706f1e7c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 14 04:58:54 2006 -0700

    Add zero-alpha reference image to Makefile.am for the sake of make dist

 test/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 211741cce61075b526edfacd728c9c5de8dd1aac
Author: Bertram Felgenhauer <bertram.felgenhauer@googlemail.com>
Date:   Wed Jun 14 04:51:27 2006 -0700

    Bug 4723: configure.in: Fix m4 quoting when examining pkg-config version

 configure.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b8e93f9c5598d5452e08728546677a977e41617f
Author: Brian Cameron <brian.cameron@sun.com>
Date:   Wed Jun 14 04:44:01 2006 -0700

    Bug 4882: Flag Sun's X server has having buggy_repeat.
    
    This is the Sun labelling of Xorg 6.8 as shipped with Solaris 10.

 src/cairo-xlib-surface.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 32d049a7bf9549f8c797c50654546b6526518f0a
Author: Dom Lachowicz <cinamod@hotmail.com>
Date:   Wed Jun 14 04:37:08 2006 -0700

    Bug 5306: test/pdf2png: Add missing include of stdio.h

 test/pdf2png.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e9269aefcbc96a417012107c17ec2bc4de608cc1
Author: Behdad Esfahbod <freedesktop@behdad.org>
Date:   Wed Jun 14 04:07:29 2006 -0700

    Bug 7075: Fix make clean to remove cairo.def

 src/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c8e7ff096648a53b780f14c2cd2467157fae8385
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 14 04:04:21 2006 -0700

    ROADMAP: Update with PDF bugs from minefield test. Slip non-1.0 regressions off of 1.2.

 ROADMAP |   32 +++++++++++++++++++-------------
 1 files changed, 19 insertions(+), 13 deletions(-)

commit c515b15cfc8c88b330f16a9263841476c29ded99
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 14 03:53:18 2006 -0700

    ft: If glyph->format is not OUTLINE use _render_glyph_bitmap to coerce to a bitmap

 src/cairo-ft-font.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 61a3260e44b40b8aa344f806979b60a82400105e
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Wed Jun 14 15:57:23 2006 +0800

    ROADMAP: Mark bugs FC_ADVANCE and _transform_glyph_bitmap as fixed.

 ROADMAP |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0d2900477cd6edfe6025be06c3f1eda63cbe5230
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Wed Jun 14 15:56:17 2006 +0800

    freetype: Return an error if the glyph format isn't outline or bitmap
    while getting glyph surface.

 src/cairo-ft-font.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b104a79502e2c01c508e40d83613ecfa001a2a4e
Author: Bertram Felgenhauer <int-e@gmx.de>
Date:   Tue Jun 13 20:07:28 2006 -0400

    Patch to fix pixman samping location bug (#2488).

 pixman/src/fbcompose.c                |   21 +++++++++++++++------
 test/pixman-rotate-rgb24-ref.png      |  Bin 385 -> 244 bytes
 test/pixman-rotate-svg-argb32-ref.png |  Bin 0 -> 258 bytes
 test/pixman-rotate-svg-rgb24-ref.png  |  Bin 0 -> 358 bytes
 4 files changed, 15 insertions(+), 6 deletions(-)

commit 0ee64b84689c22bba1d9bb2758170bbc104f5cf1
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 13 16:50:43 2006 -0700

    Bug 4196: undef MIN an MAX before defining to avoid duplicate definition

 pixman/src/icint.h     |    2 ++
 pixman/src/pixregion.c |    2 ++
 2 files changed, 4 insertions(+), 0 deletions(-)

commit 1b11d3830b26f6ce7f0d8ddcc315a9c19f56658a
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 13 16:42:06 2006 -0700

    test/zero-alpha: Drop REPS from 100 to 10 for a faster test.
    
    Hopefully this still triggers the bug of interest. I think it should.

 test/zero-alpha.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2d269664f166c4fc835e70a176ad46b2d7ccb41d
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 13 16:13:23 2006 -0700

    Add new zero-alpha test to demonstrate (X server?) bug found by Paul Giblock

 test/.gitignore         |    1 +
 test/Makefile.am        |    3 +-
 test/zero-alpha-ref.png |  Bin 0 -> 115 bytes
 test/zero-alpha.c       |   97 +++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 100 insertions(+), 1 deletions(-)

commit 1d18af9f5adb0ce2e01bc42578fe117c4e924ce8
Merge: c7b194c 27e9e3c
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 13 15:51:57 2006 -0700

    Merge branch 'type1-subsetting' into cairo
    
    Conflicts:
    
    	src/cairo-ps-surface.c

commit c7b194c59544ff441d1e83827242667c0e86dc5a
Merge: 4b063c6 127fab4
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 13 15:46:14 2006 -0700

    Merge branch 'truetype-subsetting' into cairo
    
    Conflicts:
    
    	src/Makefile.am
    	src/cairo-font-subset.c
    	src/cairo-pdf-surface.c
    	src/cairo-ps-surface.c

commit cdf07a9be87515b75156a6f02f050bc5b1e6b5d1
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Jun 13 17:45:55 2006 -0400

    Remove libxml2 checks from configure.in.

 configure.in |   14 --------------
 1 files changed, 0 insertions(+), 14 deletions(-)

commit ed60128bd0822e56c8002f3503044d5b0efaec79
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Jun 13 17:25:24 2006 -0400

    Rewrite SVG backend to just use cairo output stream instead of libxml2.

 src/cairo-svg-surface.c | 1161 +++++++++++++++++++----------------------------
 1 files changed, 471 insertions(+), 690 deletions(-)

commit 17d41d1f71a5d5af489bc395e3bb3cf414aeda57
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Jun 13 17:24:36 2006 -0400

    Only run fallback-resolution test case when all of PDF, PS and SVG are enabled.

 test/Makefile.am |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 4b063c607208935fad040d481d42085c4ed6e64d
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 13 12:48:00 2006 -0700

    PS, PDF: Re-organize handling of bitmapped fonts to avoid invalid output.
    
    Previously, using the ps or pdf backend with a bitmapped font would
    result in a coorupt output file, filled with uninitialized values and
    missing procedures for drawing the glyphs.
    
    Now, the file should actually be valid, but it's simply drawing black
    boxes instead of the correct glyphs.

 src/cairo-pdf-surface.c |   92 ++++++++++++++++++++++++++++++++--------------
 src/cairo-ps-surface.c  |   91 +++++++++++++++++++++++++++++++++-------------
 2 files changed, 129 insertions(+), 54 deletions(-)

commit d2045c1f7465f7f3625ce14a7b0e395b35ba8dc0
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 13 12:45:16 2006 -0700

    Change return type of _cairo_scaled_glyph_lookup to allow UNSUPPORTED.
    
    This allows graceful recovery when first requesting a path from a font
    that only supports bitmapped glyph. The changed return type is also
    pushed down into the scaled_glyph_init function of the
    cairo_scaled_font backend.

 src/cairo-atsui-font.c  |    2 +-
 src/cairo-ft-font.c     |    4 ++--
 src/cairo-scaled-font.c |   10 ++++++++--
 src/cairoint.h          |    4 ++--
 4 files changed, 13 insertions(+), 7 deletions(-)

commit 0e30fc44363435c52c762fa8a353de43fe087822
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jun 12 08:45:58 2006 -0700

    Add aliases for deprecated cairo_{pdf,ps,svg}_surface_set_dpi
    
    The aliases should allow binaries with the old symbols to continue to run.
    
    Meanwhile, the macros in cairo.h prevent any code from being compiled without
    using the new, future-proof function names.
    
    This is a temporary, transition strategy and the aliases will be dropped
    before the next major release.

 src/cairo-surface.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 7015cc0b90f99898852ca276368854f9465f4c82
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jun 12 08:18:09 2006 -0700

    Add cairo-ps-test.h and cairo-svg-test.h to Makefile.am

 src/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 8581447e7b26f34c7be43fef7dfa5458f2278556
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jun 12 03:15:33 2006 -0400

    Add an in-memory output-stream implementation.

 src/cairo-output-stream.c |   59 +++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 59 insertions(+), 0 deletions(-)

commit d43321066081eacca2e0c86258c68bae49036087
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jun 12 03:10:40 2006 -0400

    Convert the word wrap stream, the base85 stream and the ps string stream.

 src/cairo-base85-stream.c |   27 ++++++++++++---------------
 src/cairo-ps-surface.c    |   44 +++++++++++++++++++++-----------------------
 2 files changed, 33 insertions(+), 38 deletions(-)

commit 45cbe055d9cf4ac2cf2fbcd21b020c8f869a0380
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jun 12 03:08:51 2006 -0400

    Convert the stdio output stream to use the new output stream interface.

 src/cairo-output-stream.c |   50 +++++++++++++++++++++++++++++++++-----------
 1 files changed, 37 insertions(+), 13 deletions(-)

commit 3575c942f81d54c88fd48aee2352ecd29406e711
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jun 12 03:07:19 2006 -0400

    Make cairo_output_stream_t an embeddable type.
    
    Most internal cairo types are transparent within cairo and have init and fini
    functions to intialize and finialize them in place.  This way they can be
    easily be embedded in other structs or derived from.  Initially, the
    cairo_output_stream_t type was proposed as a publically visible type and
    thus kept opaque.  However, now it's only used internally and derived from
    in a number of places so let's make it an embeddable type for consistency
    and ease of use.
    
    The patch keeps _cairo_output_stream_create() and _cairo_output_stream_close()
    around for (internal) backwards compatibility by deriving a
    cairo_output_stream_with_closure_t stream type.
    
    The patch also moves all cairo_output_stream_t functions out of cairoint.h
    and into new file cairo-output-stream-private.h, thus chipping away at the
    monolithic cairoint.h.

 src/cairo-base85-stream.c |    1 +
 src/cairo-output-stream.c |   76 ++++++++++++++++++++++++++++++-----------
 src/cairo-pdf-surface.c   |    1 +
 src/cairo-ps-surface.c    |    1 +
 src/cairo-svg-surface.c   |    1 +
 src/cairoint.h            |   84 ---------------------------------------------
 6 files changed, 60 insertions(+), 104 deletions(-)

commit 9d3443e86ab32711d332b1474bc2fe23f9796723
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Mon Jun 12 14:18:25 2006 +0800

    xlib: bugfix for #7172.
    
    When the glyph format does not match the font format, the glyph will
    be rendered incorrectly. Setting the {x, y}_offset correctly when
    converting glyph format fix that.

 src/cairo-xlib-surface.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 79928101352a84af1884e993fd06bf6cd44f2af3
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sun Jun 11 20:56:09 2006 +0200

    SVG: Sets fallback resolution when compositing a meta surface.
    
    For doing so, I've changed document owner to be the paginated surface,
    instead of the svg surface like previously. That's because fallback
    resolution is stored in paginated surface.

 src/cairo-svg-surface.c |   29 ++++++++++++++---------------
 1 files changed, 14 insertions(+), 15 deletions(-)

commit 7e1a01092c94c7b67e95f4f4ff27c76fb5b21295
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sun Jun 11 18:37:59 2006 +0800

    freetype: build fix for _transform_glyph_bitmap.
    
    I sorry for this noise, I didn't notice cworth's device_{x, y}_offset
    changes. Now cairo builds again.
    paths...

 src/cairo-ft-font.c |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 4af28e639dcf7fe3332c0302295e6d590a505af7
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sun Jun 11 18:16:46 2006 +0800

    ignore FC_MATRIX in font pattern.
    
    With previous commit, freetype font backend is able to transform
    both bitmap and outline glyphs, so ignores FC_MATRIX from now,
    cairo doesn't need this for artificial oblique. And cairo doesn't
    use FC_MATRIX direct anyway, it has its own font matrix that may be not
    equal to FC_MATRIX in the font pattern! You should pass the matrix
    (usually the matrix is multiplied by font's pixel size) to cairo when
    creating scaled font.

 src/cairo-ft-font.c |   11 +----------
 1 files changed, 1 insertions(+), 10 deletions(-)

commit f5bc26b75dd030ada70f87113e2d132dfcb0b0f3
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Sun Jun 11 18:09:05 2006 +0800

    freetype: rework _transform_glyph_bitmap.
    
    This function is used to shape bitmap glyphs(outline glyphs are
    transformed by freetype). That means freetype backend is able to
    tranform both bitmap & outline glyphs now. This is needed for glyph
    rotating, artificial oblique etc.

 src/cairo-ft-font.c |   58 +++++++++++++++++++++++++++++----------------------
 1 files changed, 33 insertions(+), 25 deletions(-)

commit da9cd55afbb55ae70991e3f5b4c0dc5b9a58e0d6
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 16:31:05 2006 -0700

    ROADMAP: Note that cairo_surface_set_fallback_resolution is in place now.

 ROADMAP |   32 +++++++++++++++++---------------
 1 files changed, 17 insertions(+), 15 deletions(-)

commit 2f4210d346d10a2bff9a1ba74e6e9279cd4dddc3
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 11:20:21 2006 -0700

    Change _cairo_meta_surface_get_extents to return a bounded size.
    
    The old behavior of returning "infinite" extents is inconsistent with
    the current usage of meta-surface where it is always created for
    replay against a particular (sized) target surface and that size is
    passed to _cairo_meta_surface_create.
    
    Also clarify documentation of _cairo_surface_get_extents to eliminate
    the possibility of inifinite extents.

 src/cairo-meta-surface.c |   25 ++++++++++++++++---------
 src/cairo-surface.c      |   20 +++++++++++---------
 2 files changed, 27 insertions(+), 18 deletions(-)

commit d758d5104a09019b65c1b2e93fd5ab80b0e4d056
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 10:42:32 2006 -0700

    Don't create a new scaled_font if there's a device_offset but no device_scale.
    
    (This is covering up my mistake from the last batch of 12 commits which
    wasn't ready to be pushed yet. This fixes some of the crashes which
    were introduced, and is a good thing to do regardless.)

 src/cairo-surface.c |   34 ++++++++++++++++------------------
 1 files changed, 16 insertions(+), 18 deletions(-)

commit 0662928e4fd7bd432fdd815b95271d5c74eaba70
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 09:44:30 2006 -0700

    Clarify that fallback_resolution acts on a per-page granularity.
    
    This explains why the SVG result from the fallback-resolution test
    doesn't actually show multiple resolutions in effect at the same time.

 src/cairo-surface.c        |    5 +++++
 test/fallback-resolution.c |   16 ++++++++++++++++
 2 files changed, 21 insertions(+), 0 deletions(-)

commit 13ba5316fbc4b9d2aac13da644f4c87069447246
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 09:15:31 2006 -0700

    Test PS and SVG backends in addition to PDF in test/fallback-resolution.

 test/.gitignore            |    2 +
 test/fallback-resolution.c |  112 +++++++++++++++++++++++++++++++------------
 2 files changed, 83 insertions(+), 31 deletions(-)

commit 6ca30e108f32862948fa332b31f60fa79b566d77
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 09:14:47 2006 -0700

    Add cairo_{ps,svg}_test_force_fallbacks so tests can force fallbacks.

 src/cairo-ps-surface.c  |   24 ++++++++++++++++++++
 src/cairo-ps-test.h     |   54 +++++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-svg-surface.c |   24 ++++++++++++++++++++
 src/cairo-svg-test.h    |   54 +++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 156 insertions(+), 0 deletions(-)

commit 100b30d1c09cb7fe73414c4d3466032a8c99b088
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 08:35:01 2006 -0700

    Fix font size when drawing text with a device_scale.
    
    The trick is to create a new scaled_font with the device_transform
    multiplied into the CTM within _cairo_surface_show_glyphs before
    calling into the backend. The fallback-resolution test shows that
    the font size is now correct.

 src/cairo-surface.c |   27 +++++++++++++++++++++++++--
 1 files changed, 25 insertions(+), 2 deletions(-)

commit 74857181c96c734d7e735cfc9862e22b01599913
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 08:29:14 2006 -0700

    Fix line width for stroking with a device_scale.
    
    The trick is to simply multiply the device_transform into the CTM
    within _cairo_surface_stroke before passing the CTM down to the
    backend. The fallback-resolution test shows that the stroke width is
    now correct.

 src/cairo-surface.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit ebb53b2572cc74f90d2afd03807b7d4f41a4965a
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 08:21:18 2006 -0700

    Add text and stroke to falback-resolution test (showing bugs in each).

 test/fallback-resolution.c |   42 +++++++++++++++++++++++++++++++++++-------
 1 files changed, 35 insertions(+), 7 deletions(-)

commit 6efeb1e19b4c30d6a88bd9248a1d67b791b8df0d
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 08:19:41 2006 -0700

    Hook up device scaling so fallback_resolution starts working.
    
    Add new, private _cairo_surface_set_device_scale for getting at the
    scaling components of device_transform. Use this in paginated surface
    when replaying to an image surface. The fallback-resolution test now
    clearly shows that image fallback resolution can be controlled by the
    user. Hurrah!

 src/cairo-paginated-surface.c |   11 +++++++++--
 src/cairo-surface.c           |   39 +++++++++++++++++++++++++++++++++++++++
 src/cairoint.h                |    5 +++++
 3 files changed, 53 insertions(+), 2 deletions(-)

commit b129f747c5c7edc37982f286940d3583c74cfee9
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Jun 10 00:12:51 2006 -0700

    Change {x,y}_device_offset values to a device_transform matrix.
    
    This is a step toward allowing device scaling in addition to device offsets.
    So far, the scale values are still always 1.0 so only the translation is
    actually being used. But most of the code is in place for doing scaling as
    well and it just needs to be hooked up.
    
    There are some fragile parts in this code, all of which involve using the
    translation without the scale, (so grep for device_transform.x0 or
    device_transform->x0). Some of these are likely bugs that will hopefully
    be obvious once we start using the scale. Others are OK if only because
    we 'know' that we aren't ever setting device scaling on a surface that
    has a device offset (we only set device scaling on surfaces we create
    internally and we don't export device scaling to the user).
    
    All of these fragile parts in the code have been marked with comments of
    the form: XXX: FRAGILE.

 src/cairo-clip.c             |   15 +++--
 src/cairo-directfb-surface.c |    5 +-
 src/cairo-ft-font.c          |   12 ++--
 src/cairo-glitz-surface.c    |    8 +-
 src/cairo-gstate.c           |   13 +---
 src/cairo-matrix.c           |    8 +++
 src/cairo-path.c             |   29 ++++++++--
 src/cairo-scaled-font.c      |    5 +-
 src/cairo-surface-fallback.c |    3 +-
 src/cairo-surface.c          |  129 ++++++++++++++++++++++-------------------
 src/cairo-xlib-surface.c     |    8 +-
 src/cairo.c                  |    4 +-
 src/cairoint.h               |   13 ++--
 13 files changed, 144 insertions(+), 108 deletions(-)

commit 24da744d03e961078e68691225fb1363e47b2b22
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 9 23:59:24 2006 -0700

    doc: SGML template churn

 doc/public/tmpl/cairo-pdf.sgml    |    7 +++++++
 doc/public/tmpl/cairo-ps.sgml     |    7 +++++++
 doc/public/tmpl/cairo-status.sgml |    7 -------
 doc/public/tmpl/cairo-svg.sgml    |    7 +++++++
 4 files changed, 21 insertions(+), 7 deletions(-)

commit 999315cc0ad326d31c66f2e6fa1ae72dfb9bb57e
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 9 21:12:44 2006 -0700

    Rename device_{x,y}_offset to {x,y}_device_offset for better consitency/grepability

 src/cairo-clip.c             |    4 +-
 src/cairo-directfb-surface.c |    4 +-
 src/cairo-ft-font.c          |    8 +++---
 src/cairo-glitz-surface.c    |    8 +++---
 src/cairo-gstate.c           |    8 +++---
 src/cairo-scaled-font.c      |    4 +-
 src/cairo-surface-fallback.c |    4 +-
 src/cairo-surface.c          |   56 +++++++++++++++++++++---------------------
 src/cairo-xlib-surface.c     |    8 +++---
 src/cairo.c                  |    4 +-
 src/cairoint.h               |    4 +-
 11 files changed, 56 insertions(+), 56 deletions(-)

commit 6f6bdb6663fc439387db6b410bf742de6b501015
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 9 16:54:09 2006 -0700

    Add REPLACED_BY macros to help porting to new set_fallback_resolution

 src/cairo.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit b2f274b3e86983b312ec19e33b3a1231bd3e51d0
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 9 16:52:17 2006 -0700

    New API: Replace cairo_{ps,pdf,svg}_set_dpi with new cairo_surface_set_fallback_resolution.
    
    This just provides the mechanics for storing the value and removing the old
    function calls. The new value is still not used anywhere (though nor where
    the old values), so there should be no functional change (other than forcing
    any programs calling the old API to be updated).

 src/cairo-pdf-surface.c    |   35 -----------------------------------
 src/cairo-pdf.h            |    5 -----
 src/cairo-ps-surface.c     |   35 -----------------------------------
 src/cairo-ps.h             |    5 -----
 src/cairo-surface.c        |   44 ++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-svg-surface.c    |   38 --------------------------------------
 src/cairo-svg.h            |    5 -----
 src/cairo.h                |    5 +++++
 src/cairoint.h             |    5 +++++
 test/cairo-test.c          |    6 +++---
 test/fallback-resolution.c |    2 +-
 11 files changed, 58 insertions(+), 127 deletions(-)

commit a812b3c4908ff296877a648915d5f06696eebe9e
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jun 9 15:37:50 2006 -0700

    Ignore ft-text-vertical-layout binary

 test/.gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ac20c80960ccf233f9582da88f0d7aa4a181099e
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Fri Jun 9 07:06:51 2006 +0800

    freetype: Ignore global advance unconditionally.
    
    Global advance exists for historical reasons. Nowadays, most of fonts
    support unicode, means it's no guaranteed to every glyphs in the font
    has the same advance.Sometimes it maybe is biger/smaller then the global
    advance even for monospace fonts!So forcing their advance to global
    advance, it's obviously wrong.

 src/cairo-ft-font.c      |    3 +++
 src/cairo-xlib-surface.c |    3 +++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit d3c782320a76d8e79099e5c5dc03c7dd819573d7
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 7 17:38:09 2006 -0700

    Rename ft-text-vertical-layout reference image according to standard convention.
    
    The standard convention is that the ARGB32 reference image has no
    -argb32- component in its name (no real important reason, just
    historical). So let's be consist and rename:
    test/ft-text-vertical-layout-argb32-ref.png -> test/ft-text-vertical-layout-ref.png

 test/ft-text-vertical-layout-argb32-ref.png |  Bin 1145 -> 0 bytes
 test/ft-text-vertical-layout-ref.png        |  Bin 0 -> 1145 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit b7b3d05d78f22b6b45c6a54f2647dbdaeb034d37
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 7 13:51:58 2006 -0700

    Fix bug in get-group-target (in the test itself) letting it now pass.

 test/get-group-target.c |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 45ca22e5e1a177a4dc9854cd310e5c683df058cb
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Thu Jun 8 04:06:30 2006 +0800

    Make image-*-ref.png image as reference image.

 test/ft-text-vertical-layout-argb32-ref.png       |  Bin 0 -> 1145 bytes
 test/ft-text-vertical-layout-image-argb32-ref.png |  Bin 1145 -> 0 bytes
 test/ft-text-vertical-layout-image-rgb24-ref.png  |  Bin 1059 -> 0 bytes
 test/ft-text-vertical-layout-rgb24-ref.png        |  Bin 0 -> 1059 bytes
 4 files changed, 0 insertions(+), 0 deletions(-)

commit 5ae2a78a297730cd9d2f45be9f23fbf6e2bffe7d
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Thu Jun 8 03:45:38 2006 +0800

    freetype: Fix for test case ft-text-vertial-layout.
    
    Fix scaled font metrics and glyph metrics calculation for vertical
    layout. Test case ft-text-vertial-layout passes now.

 src/cairo-ft-font.c |  130 ++++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 97 insertions(+), 33 deletions(-)

commit 6b5be506ed160675232bea31b17f458040f6b2d8
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Thu Jun 8 03:33:38 2006 +0800

    Add ft-text-vertical-layout test case for vertical layout.

 test/Makefile.am                                  |    1 +
 test/ft-text-vertical-layout-image-argb32-ref.png |  Bin 0 -> 1145 bytes
 test/ft-text-vertical-layout-image-rgb24-ref.png  |  Bin 0 -> 1059 bytes
 test/ft-text-vertical-layout-pdf-argb32-ref.png   |  Bin 0 -> 1018 bytes
 test/ft-text-vertical-layout-pdf-rgb24-ref.png    |  Bin 0 -> 1037 bytes
 test/ft-text-vertical-layout-ps-argb32-ref.png    |  Bin 0 -> 351 bytes
 test/ft-text-vertical-layout-ps-rgb24-ref.png     |  Bin 0 -> 1086 bytes
 test/ft-text-vertical-layout-svg-argb32-ref.png   |  Bin 0 -> 1106 bytes
 test/ft-text-vertical-layout-svg-rgb24-ref.png    |  Bin 0 -> 1106 bytes
 test/ft-text-vertical-layout.c                    |  131 +++++++++++++++++++++
 10 files changed, 132 insertions(+), 0 deletions(-)

commit bb66d15a7998740b6ce2525ab5d852fb2966f8f8
Merge: 3594fd2 b7c7d2e
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Thu Jun 8 02:38:17 2006 +0800

    Merge branch 'master' of git+ssh://jinghua@git.cairographics.org/git/cairo

commit 3594fd2d273398b10748c8ed03c7a9da7af377fa
Author: Jinghua Luo <sunmoon1997@gmail.com>
Date:   Thu Jun 8 02:35:42 2006 +0800

    glitz: Don't hardcode content type when initializing cairo surface
    since we can compute it from glitz format.

 src/cairo-glitz-surface.c |   23 ++++++++++++++++++++---
 1 files changed, 20 insertions(+), 3 deletions(-)

commit b7c7d2e57c2721c3a900694d5620b3f45f495233
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 7 10:37:29 2006 -0700

    Add new test get-group-target (currently failing with paginated).
    
    This test exercises the combination of cairo_get_group_target along
    with cairo_surface_get_device_offset. Something funny is currently
    going on with the surfaces based on the paginated surface.

 test/.gitignore               |    1 +
 test/Makefile.am              |    2 +
 test/get-group-target-ref.png |  Bin 0 -> 134 bytes
 test/get-group-target.c       |   80 +++++++++++++++++++++++++++++++++++++++++
 4 files changed, 83 insertions(+), 0 deletions(-)

commit 53bf2f8d5dd82e9cff0960ebec536597bc7701e9
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 7 10:29:33 2006 -0700

    Remove debugging "prints" of images from test/device-offset.c

 test/device-offset.c |    8 +-------
 1 files changed, 1 insertions(+), 7 deletions(-)

commit 32c0e85d45ee26c34ba1af0e4ba6ced044e469cc
Author: Zakharov Mikhail <zmey20000@yahoo.com>
Date:   Wed Jun 7 18:32:16 2006 +0400

    pixman: fix compilation on HP-UX 11.11

 pixman/src/pixman.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3690eeb44cd86ac02eb21163d9a5e84784f6417d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 7 02:59:51 2006 -0700

    Change all instances of UINT16_MAX to INT16_MAX to avoid new bug.
    
    A recent renaming from CAIRO_MAXSHORT also changed the range of some
    values from INT16_MAX to UINT16_MAX. The test suite shows one case
    where this introduces a bug, (push/pop_group with SVG and RGB24
    surfaces).
    
    I haven't tracked the bug down, (presumably there's overflow of the
    unsigned value at some point), but I'm now reverting this to avoid
    triggering the bug.

 src/cairo-meta-surface.c |    4 ++--
 src/cairo-pattern.c      |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 7f2cf378d595fa559401c76f051ca9b5e6809763
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jun 7 01:17:53 2006 -0700

    Fix MAX vs. MIN bug introduced with rename away from CAIRO_MINSHORT

 src/cairo-traps.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bf458c9c67120a2d175f18447dd710060f0ba014
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 17:06:57 2006 -0700

    win32: Add conditional definitions for INT16_{MIN,MAX} and UINT16_MAX now that we use them.

 src/cairo-wideint.h |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit c1855f17624c62e1f7451b3c673bca23a4575ff7
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 16:59:59 2006 -0700

    Remove CAIRO_{MIN,MAX}SHORT which did not distinguish signed vs. unsigned.
    
    Instead, use the standard INT16_{MIN,MAX} and UINT16_{MIN,MAX} as
    appropriate.

 src/cairo-meta-surface.c |    4 ++--
 src/cairo-pattern.c      |    8 ++++----
 src/cairo-scaled-font.c  |    4 ++--
 src/cairo-traps.c        |    4 ++--
 src/cairoint.h           |    3 ---
 5 files changed, 10 insertions(+), 13 deletions(-)

commit 746f66c3fce6de39ac9afa7be8bcf8f74c750e85
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 16:54:03 2006 -0700

    Fix bogus cairo_rectangle_fixed_t to be cairo_rectangle_int16_t.
    
    This rectangle has regular integer values, not fixed-point values.
    So the old name was horribly wrong and misleading, (and yes I think
    it was even I that had suggested it).

 src/cairo-analysis-surface.c         |    2 +-
 src/cairo-atsui-font.c               |    2 +-
 src/cairo-clip-private.h             |    6 ++--
 src/cairo-clip.c                     |    6 ++--
 src/cairo-directfb-surface.c         |   16 ++++++------
 src/cairo-glitz-surface.c            |   16 ++++++------
 src/cairo-image-surface.c            |   12 ++++----
 src/cairo-meta-surface.c             |    2 +-
 src/cairo-paginated-surface.c        |    6 ++--
 src/cairo-pattern.c                  |    4 +-
 src/cairo-pdf-surface.c              |    4 +-
 src/cairo-ps-surface.c               |    4 +-
 src/cairo-quartz-private.h           |    2 +-
 src/cairo-quartz-surface.c           |   10 ++++----
 src/cairo-rectangle.c                |   10 ++++----
 src/cairo-region.c                   |    8 +++---
 src/cairo-scaled-font.c              |    2 +-
 src/cairo-surface-fallback-private.h |    2 +-
 src/cairo-surface-fallback.c         |   42 ++++++++++++++++----------------
 src/cairo-surface.c                  |   36 ++++++++++++++--------------
 src/cairo-svg-surface.c              |    2 +-
 src/cairo-win32-private.h            |    4 +-
 src/cairo-win32-surface.c            |   12 ++++----
 src/cairo-xcb-surface.c              |   18 +++++++-------
 src/cairo-xlib-surface.c             |   20 +++++++-------
 src/cairo.c                          |    2 +-
 src/cairoint.h                       |   44 +++++++++++++++++-----------------
 src/test-fallback-surface.c          |   10 ++++----
 src/test-meta-surface.c              |    4 +-
 src/test-paginated-surface.c         |    2 +-
 30 files changed, 155 insertions(+), 155 deletions(-)

commit 5570bf0a9e99019ac24b2b856455afcf360c14fc
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 16:36:24 2006 -0700

    CODING_STYLE: Fix misspellings.

 CODING_STYLE |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a21a2e935d3a75b045ce5f7e917524052f018758
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 16:28:15 2006 -0700

    CODING_STYLE: Add notes on avoiding trailing whitespace.

 CODING_STYLE |   20 +++++++++++++++++---
 1 files changed, 17 insertions(+), 3 deletions(-)

commit ef10a0403a8a466199615e34a34df9ea860ef9c0
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 15:50:33 2006 -0700

    Remove initial, final, and duplicate blank lines.
    
    This patch was produced by running git-stripspace on all *.[ch] files
    within cairo. Note that this script would have also created all the changes
    from the previous commits to remove trailing whitespace.

 doc/tutorial/src/include/cairo-tutorial.h |    1 -
 pixman/src/fbcompose.c                    |   15 ---------------
 pixman/src/fbedge.c                       |    1 -
 pixman/src/fbmmx.c                        |    7 -------
 pixman/src/fbpict.c                       |    4 ----
 pixman/src/fbpict.h                       |    1 -
 pixman/src/icbltone.c                     |    1 -
 pixman/src/icimage.c                      |    1 -
 pixman/src/icimage.h                      |    1 -
 pixman/src/icint.h                        |   11 -----------
 pixman/src/icpixels.c                     |    1 -
 pixman/src/icrect.c                       |    2 --
 pixman/src/ictransform.c                  |    1 -
 pixman/src/ictri.c                        |    1 -
 pixman/src/icutil.c                       |    1 -
 pixman/src/pixman-xserver-compat.h        |    1 -
 pixman/src/pixman.h                       |   10 ----------
 pixman/src/pixregion.c                    |   12 ------------
 pixman/src/pixregionint.h                 |    1 -
 pixman/src/renderedge.c                   |    1 -
 src/cairo-analysis-surface.c              |    2 --
 src/cairo-array.c                         |    1 -
 src/cairo-atsui-font.c                    |    6 ------
 src/cairo-base85-stream.c                 |    1 -
 src/cairo-beos.h                          |    1 -
 src/cairo-cache.c                         |    2 --
 src/cairo-clip.c                          |    2 --
 src/cairo-debug.c                         |    1 -
 src/cairo-directfb-surface.c              |   11 -----------
 src/cairo-directfb.h                      |    9 ---------
 src/cairo-font-subset-private.h           |    1 -
 src/cairo-font-subset.c                   |    2 --
 src/cairo-ft-font.c                       |    1 -
 src/cairo-glitz-surface.c                 |    1 -
 src/cairo-matrix.c                        |    3 ---
 src/cairo-output-stream.c                 |    2 --
 src/cairo-path-fill.c                     |    1 -
 src/cairo-path.c                          |    1 -
 src/cairo-pdf-surface.c                   |    2 --
 src/cairo-pdf-test.h                      |    1 -
 src/cairo-png.c                           |    1 -
 src/cairo-ps-surface.c                    |    1 -
 src/cairo-quartz-surface.c                |    1 -
 src/cairo-quartz.h                        |    1 -
 src/cairo-region.c                        |    1 -
 src/cairo-scaled-font-subsets.c           |    1 -
 src/cairo-scaled-font.c                   |    1 -
 src/cairo-slope.c                         |    4 ----
 src/cairo-spline.c                        |    1 -
 src/cairo-stroke-style.c                  |    1 -
 src/cairo-svg-surface.c                   |    1 -
 src/cairo-traps.c                         |    1 -
 src/cairo-unicode.c                       |    3 ---
 src/cairo-win32-font.c                    |    3 ---
 src/cairo-win32-surface.c                 |    2 --
 src/cairo-xcb-surface.c                   |    1 -
 src/cairo-xlib-surface.c                  |    3 ---
 src/cairo-xlib-test.h                     |    1 -
 src/cairo-xlib-xrender.h                  |    1 -
 src/cairo-xlib.h                          |    1 -
 src/cairo.c                               |    3 ---
 src/cairo.h                               |    3 ---
 src/cairoint.h                            |    4 ----
 test/buffer-diff.c                        |    1 -
 test/buffer-diff.h                        |    2 --
 test/cairo-test-directfb.c                |    4 ----
 test/cairo-test.c                         |    2 --
 test/font-face-get-type.c                 |    4 ----
 test/push-group.c                         |    2 --
 test/read-png.c                           |    1 -
 test/surface-finish-twice.c               |    1 -
 test/text-cache-crash.c                   |    1 -
 test/xmalloc.c                            |    1 -
 73 files changed, 0 insertions(+), 184 deletions(-)

commit 5278de09973c3e41028dc80a8862db01fc70cf11
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 15:41:31 2006 -0700

    Remove all remaining trailing whitespace.
    
    This patch was produced with the following (GNU) sed script:
    
    	sed -i -r -e 's/[ \t]+$//'
    
    run on all *.[ch] files within cairo.
    
    Note that the above script would have also created all the changes
    from the previous commits to remove trailing whitespace.

 doc/tutorial/src/include/cairo-tutorial-gtk.h |    6 +-
 doc/tutorial/src/include/cairo-tutorial-pdf.h |    2 +-
 doc/tutorial/src/include/cairo-tutorial-png.h |    2 +-
 pixman/src/fbcompose.c                        |    2 +-
 pixman/src/fbmmx.c                            |    8 +-
 pixman/src/fbpict.c                           |   10 +-
 pixman/src/icblt.c                            |   42 ++++----
 pixman/src/icbltone.c                         |    8 +-
 pixman/src/icformat.c                         |    4 +-
 pixman/src/icimage.c                          |    6 +-
 pixman/src/icimage.h                          |    2 +-
 pixman/src/icint.h                            |    8 +-
 pixman/src/icrect.c                           |   16 ++--
 pixman/src/ictransform.c                      |    2 +-
 pixman/src/ictrap.c                           |    4 +-
 pixman/src/ictri.c                            |    4 +-
 pixman/src/pixman-xserver-compat.h            |    2 +-
 pixman/src/pixman.h                           |    8 +-
 pixman/src/pixregion.c                        |   22 ++--
 pixman/src/pixregionint.h                     |    8 +-
 pixman/src/slim_internal.h                    |    2 +-
 src/cairo-atsui-font.c                        |   18 ++--
 src/cairo-clip.c                              |    4 +-
 src/cairo-directfb-surface.c                  |   60 ++++++------
 src/cairo-directfb.h                          |    4 +-
 src/cairo-font-options.c                      |    4 +-
 src/cairo-font-subset.c                       |    4 +-
 src/cairo-font.c                              |    8 +-
 src/cairo-ft-font.c                           |   34 ++++----
 src/cairo-gstate.c                            |   32 +++---
 src/cairo-hash.c                              |    6 +-
 src/cairo-matrix.c                            |   28 +++---
 src/cairo-meta-surface.c                      |    4 +-
 src/cairo-path.c                              |    2 +-
 src/cairo-pattern.c                           |    4 +-
 src/cairo-pen.c                               |    6 +-
 src/cairo-polygon.c                           |    2 +-
 src/cairo-ps-surface.c                        |    8 +-
 src/cairo-quartz-surface.c                    |    6 +-
 src/cairo-scaled-font-subsets.c               |    2 +-
 src/cairo-scaled-font.c                       |   34 ++++----
 src/cairo-slope.c                             |    2 +-
 src/cairo-surface-fallback.c                  |   12 +-
 src/cairo-surface.c                           |    8 +-
 src/cairo-svg-surface.c                       |  126 ++++++++++++------------
 src/cairo-traps.c                             |    2 +-
 src/cairo-unicode.c                           |    2 +-
 src/cairo-wideint.c                           |    2 +-
 src/cairo-win32-font.c                        |   30 +++---
 src/cairo-win32-surface.c                     |   12 +-
 src/cairo-xcb-surface.c                       |    4 +-
 src/cairo-xlib-surface.c                      |   32 +++---
 src/cairo.c                                   |   18 ++--
 src/cairo.h                                   |   14 ++--
 src/cairoint.h                                |   56 ++++++------
 test/cairo-test-directfb.c                    |   16 ++--
 test/cairo-test.c                             |   28 +++---
 test/cairo-test.h                             |    2 +-
 test/imagediff.c                              |    2 +-
 test/write-png.c                              |    2 +-
 60 files changed, 404 insertions(+), 404 deletions(-)

commit 00592e075754594605fddfb2a702f3d2caa7c55c
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 15:38:58 2006 -0700

    Remove trailing whitespace from lines with a single brace.
    
    This patch was produced with the following (GNU) sed script:
    
    	sed -i -r -e '/^[ \t]*[{}][ \t]*/ s/[ \t]+$//'
    
    run on all *.[ch] files within cairo.

 pixman/src/fbmmx.c           |    6 +++---
 pixman/src/icimage.c         |    4 ++--
 src/cairo-atsui-font.c       |    2 +-
 src/cairo-clip.c             |    2 +-
 src/cairo-directfb-surface.c |    4 ++--
 src/cairo-font-options.c     |    2 +-
 src/cairo-font-subset.c      |    2 +-
 src/cairo-font.c             |    2 +-
 src/cairo-ft-font.c          |    2 +-
 src/cairo-hash.c             |    4 ++--
 src/cairo-image-surface.c    |    2 +-
 src/cairo-pattern.c          |    2 +-
 src/cairo-png.c              |    2 +-
 src/cairo-rectangle.c        |    2 +-
 src/cairo-surface.c          |    2 +-
 src/cairo-svg-surface.c      |    4 ++--
 src/cairo-win32-surface.c    |    4 ++--
 test/clip-operator.c         |    2 +-
 test/operator-clear.c        |    4 ++--
 test/operator-source.c       |    4 ++--
 test/unbounded-operator.c    |    4 ++--
 21 files changed, 31 insertions(+), 31 deletions(-)

commit 4670366ede0b0ed1abf47f4595a64bc5cd3c19fc
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 15:35:48 2006 -0700

    Remove trailing whitespace from lines that look like comments.
    
    This patch was produced with the following (GNU) sed script:
    
    	sed -i -r -e '/^[ \t]*\/?\*/ s/[ \t]+$//'
    
    run on all *.[ch] files within cairo, (though I manually excluded
    src/cairo-atsui-font.c which has a code line that appears as a comment
    to this script).

 doc/tutorial/src/include/cairo-tutorial-xlib.h |    2 +-
 pixman/src/fbmmx.c                             |    8 +-
 pixman/src/fbmmx.h                             |    2 +-
 pixman/src/icbltone.c                          |   10 +-
 pixman/src/iccolor.c                           |    2 +-
 pixman/src/icformat.c                          |    2 +-
 pixman/src/icimage.c                           |    4 +-
 pixman/src/icint.h                             |    8 +-
 pixman/src/icrop.h                             |    2 +-
 pixman/src/ictransform.c                       |    2 +-
 pixman/src/pixregion.c                         |   12 +-
 pixman/src/slim_internal.h                     |    2 +-
 src/cairo-arc.c                                |    4 +-
 src/cairo-array.c                              |   32 +++---
 src/cairo-base85-stream.c                      |    2 +-
 src/cairo-cache.c                              |   30 ++--
 src/cairo-clip-private.h                       |    2 +-
 src/cairo-debug.c                              |    2 +-
 src/cairo-font-options.c                       |   46 ++++----
 src/cairo-font.c                               |   22 ++--
 src/cairo-ft-font.c                            |   22 ++--
 src/cairo-gstate.c                             |   14 +-
 src/cairo-hash.c                               |   30 ++--
 src/cairo-hull.c                               |    2 +-
 src/cairo-image-surface.c                      |   30 ++--
 src/cairo-matrix.c                             |   28 ++--
 src/cairo-meta-surface.c                       |    6 +-
 src/cairo-output-stream.c                      |    2 +-
 src/cairo-path-data.c                          |   14 +-
 src/cairo-path-stroke.c                        |    6 +-
 src/cairo-pattern.c                            |   60 +++++-----
 src/cairo-pdf-surface.c                        |    2 +-
 src/cairo-pen.c                                |    2 +-
 src/cairo-png.c                                |   20 ++--
 src/cairo-ps-surface.c                         |   16 +-
 src/cairo-region.c                             |    6 +-
 src/cairo-scaled-font-subsets-private.h        |   12 +-
 src/cairo-scaled-font.c                        |   38 +++---
 src/cairo-surface-fallback.c                   |    6 +-
 src/cairo-surface.c                            |   68 +++++-----
 src/cairo-svg-surface.c                        |   18 ++--
 src/cairo-svg.h                                |    2 +-
 src/cairo-traps.c                              |    8 +-
 src/cairo-unicode.c                            |   10 +-
 src/cairo-win32-font.c                         |   14 +-
 src/cairo-win32-surface.c                      |   16 +-
 src/cairo-xcb-surface.c                        |   20 ++--
 src/cairo-xlib-surface.c                       |   24 ++--
 src/cairo.c                                    |  166 ++++++++++++------------
 src/cairo.h                                    |    6 +-
 src/cairoint.h                                 |    8 +-
 test/buffer-diff.c                             |    2 +-
 test/buffer-diff.h                             |    2 +-
 test/cairo-test.c                              |    4 +-
 test/cairo-test.h                              |    2 +-
 test/imagediff.c                               |    2 +-
 test/rectangle-rounding-error.c                |    8 +-
 57 files changed, 446 insertions(+), 446 deletions(-)

commit 80b8deb1e4f9d0b856106031c6a7a629cca7552c
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jun 6 15:25:49 2006 -0700

    Remove extraneous whitespace from "blank" lines.
    
    This patch was produced with the following (GNU) sed script:
    
    	sed -i -r -e 's/^[ \t]+$//'
    
    run on all *.[ch] files within cairo.

 doc/tutorial/src/include/cairo-tutorial-gtk.h |    2 +-
 doc/tutorial/src/include/cairo-tutorial-pdf.h |    2 +-
 doc/tutorial/src/include/cairo-tutorial-png.h |    2 +-
 doc/tutorial/src/lca.c                        |    6 +-
 pixman/src/fbcompose.c                        |    6 +-
 pixman/src/fbedge.c                           |    4 +-
 pixman/src/fbedgeimp.h                        |    8 +-
 pixman/src/fbmmx.c                            |  530 ++++++++++++------------
 pixman/src/fbpict.c                           |    8 +-
 pixman/src/fbpict.h                           |    2 +-
 pixman/src/fbtrap.c                           |   24 +-
 pixman/src/icblt.c                            |   54 ++--
 pixman/src/icbltone.c                         |   38 +-
 pixman/src/icformat.c                         |   24 +-
 pixman/src/icimage.c                          |   18 +-
 pixman/src/icimage.h                          |    6 +-
 pixman/src/icint.h                            |   26 +-
 pixman/src/icrect.c                           |   12 +-
 pixman/src/icrop.h                            |    4 +-
 pixman/src/icstipple.c                        |    6 +-
 pixman/src/ictrap.c                           |    8 +-
 pixman/src/ictri.c                            |   26 +-
 pixman/src/icutil.c                           |    2 +-
 pixman/src/pixregion.c                        |   32 +-
 pixman/src/renderedge.c                       |   12 +-
 src/cairo-analysis-surface.c                  |    2 +-
 src/cairo-arc.c                               |    2 +-
 src/cairo-atsui-font.c                        |   24 +-
 src/cairo-base85-stream.c                     |    2 +-
 src/cairo-clip.c                              |   26 +-
 src/cairo-directfb-surface.c                  |    6 +-
 src/cairo-font-options.c                      |    8 +-
 src/cairo-font-subset.c                       |    6 +-
 src/cairo-font.c                              |   10 +-
 src/cairo-ft-font.c                           |  196 +++++-----
 src/cairo-gstate-private.h                    |    2 +-
 src/cairo-gstate.c                            |   80 ++--
 src/cairo-hash.c                              |   14 +-
 src/cairo-image-surface.c                     |   28 +-
 src/cairo-lzw.c                               |    2 +-
 src/cairo-matrix.c                            |   84 ++--
 src/cairo-meta-surface.c                      |   10 +-
 src/cairo-operator.c                          |    8 +-
 src/cairo-output-stream.c                     |   14 +-
 src/cairo-paginated-surface.c                 |    8 +-
 src/cairo-path-bounds.c                       |    8 +-
 src/cairo-path-fill.c                         |    2 +-
 src/cairo-path-stroke.c                       |   16 +-
 src/cairo-pattern.c                           |   44 +-
 src/cairo-pen.c                               |   10 +-
 src/cairo-png.c                               |   12 +-
 src/cairo-ps-surface.c                        |   36 +-
 src/cairo-quartz-surface.c                    |   16 +-
 src/cairo-region.c                            |    2 +-
 src/cairo-scaled-font-subsets.c               |    2 +-
 src/cairo-scaled-font.c                       |   90 ++--
 src/cairo-spline.c                            |    2 +-
 src/cairo-surface-fallback.c                  |   82 ++--
 src/cairo-surface.c                           |   44 +-
 src/cairo-svg-surface.c                       |  100 +++---
 src/cairo-traps.c                             |   38 +-
 src/cairo-unicode.c                           |   30 +-
 src/cairo-wideint.c                           |   16 +-
 src/cairo-wideint.h                           |    2 +-
 src/cairo-win32-font.c                        |  106 +++---
 src/cairo-win32-private.h                     |    6 +-
 src/cairo-win32-surface.c                     |   96 +++---
 src/cairo-xcb-surface.c                       |   36 +-
 src/cairo-xlib-private.h                      |    4 +-
 src/cairo-xlib-screen.c                       |   32 +-
 src/cairo-xlib-surface.c                      |  154 ++++----
 src/cairo.c                                   |   18 +-
 src/cairo.h                                   |    8 +-
 src/cairoint.h                                |   34 +-
 src/test-fallback-surface.c                   |    4 +-
 src/test-meta-surface.c                       |    2 +-
 test/cairo-test.c                             |   24 +-
 test/caps-joins.c                             |    2 +-
 test/clip-all.c                               |    2 +-
 test/clip-nesting.c                           |    4 +-
 test/clip-operator.c                          |   12 +-
 test/dash-offset-negative.c                   |    8 +-
 test/fill-and-stroke.c                        |    2 +-
 test/filter-nearest-offset.c                  |    2 +-
 test/font-face-get-type.c                     |    2 +-
 test/get-and-set.c                            |    2 +-
 test/gradient-alpha.c                         |    2 +-
 test/linear-gradient.c                        |    8 +-
 test/mask.c                                   |    8 +-
 test/operator-clear.c                         |   12 +-
 test/operator-source.c                        |   14 +-
 test/ps-features.c                            |    2 +-
 test/rectangle-rounding-error.c               |    2 +-
 test/rel-path.c                               |    4 +-
 test/self-copy.c                              |    6 +-
 test/source-clip.c                            |    2 +-
 test/surface-pattern.c                        |    2 +-
 test/svg-clip.c                               |    2 +-
 test/text-pattern.c                           |   10 +-
 test/text-rotate.c                            |    2 +-
 test/transforms.c                             |    2 +-
 test/trap-clip.c                              |    4 +-
 test/unbounded-operator.c                     |   12 +-
 test/user-data.c                              |    2 +-
 test/write-png.c                              |    2 +-
 test/xlib-surface.c                           |   18 +-
 106 files changed, 1311 insertions(+), 1311 deletions(-)

commit 28d47d332aafa81bcbc669603357298cb0a14322
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jun 5 14:25:13 2006 -0700

    Move rectangle functions to new cairo-rectangle.c

 src/Makefile.am       |    1 +
 src/cairo-gstate.c    |   46 --------------------------
 src/cairo-rectangle.c |   85 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 86 insertions(+), 46 deletions(-)

commit 3d9dc96d186c9093da24c7bbf36614f3d8df1758
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 25 02:28:09 2006 -0700

    New API: Add cairo_image_surface_get_{data,format,stride}

 src/cairo-image-surface.c |   69 +++++++++++++++++++++++++++++++++++++++++++++
 src/cairo.h               |    9 ++++++
 2 files changed, 78 insertions(+), 0 deletions(-)

commit 0c49666231e42a3f968ad46a0aa58fc7b854b258
Author: Jeff Muizelaar <jeff@freiheit.infidigm.net>
Date:   Sat May 27 02:23:09 2006 -0400

    Only destroy scaled glyphs if they are not in the cache.
    
    Previously, when scaled_glyph_init failed we would destroy the scaled glyph in
    CLEANUP. However, this causes trouble later because there is still a reference
    to the glyph in the cache. This remaining reference causes a number of bad things,
    including a double destruction when the cache is destroyed.

 src/cairo-scaled-font.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit bafdded8ee43632e5f60307e53f0489be0afc3c4
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun May 28 13:25:57 2006 -0400

    Remove cairo_public from _cairo_lzw_compress() definition.

 src/cairo-lzw.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 84c6f879631b3d3ca63c3fd99b9cb68b111d283f
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun May 28 13:38:50 2006 -0400

    Clarify licensing of float formatting code.

 src/cairo-output-stream.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 79c86b04a7848830998e1a5344c6a9ecf9113789
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sun May 28 16:50:54 2006 +0200

    Add "html" Makefile target to run make-html.pl

 test/Makefile.am |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 508d0955fb3a851919233f27b5fe9408c85fa053
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Thu May 25 21:54:54 2006 +0200

    Distribute make-html.pl

 test/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f072d4ed66f78bd4fba4fb44e30f3ddd3f10fc33
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Thu May 25 21:21:31 2006 +0200

    Add missing reference images to EXTRA_DIST

 test/Makefile.am |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 0b63baba6e8c3f2f6da52d4476ec595ff87dfc93
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Thu May 25 17:29:01 2006 +0200

    Make BeOS compile again
    
    ..by passing the cairo_content_t to _cairo_surface_init

 src/cairo-beos-surface.cpp |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 22232be7592dadc22fef614aefee9c9398a8510c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 24 17:24:52 2006 -0700

    Note the changed semantics of cairo_surface_set_device_offset
    
    Specifically, device offsets now affect using the offset surface in
    a source pattern as well as drawing to the surface. This behavior
    os also verified with a new test case: test/device-offset.c

 src/cairo-surface.c              |    4 +-
 test/.gitignore                  |    1 +
 test/Makefile.am                 |    1 +
 test/device-offset-ref.png       |  Bin 0 -> 137 bytes
 test/device-offset-rgb24-ref.png |  Bin 0 -> 130 bytes
 test/device-offset.c             |   93 ++++++++++++++++++++++++++++++++++++++
 6 files changed, 97 insertions(+), 2 deletions(-)

commit d0dd3b822e98358e88f8c9261ef633331548ccfd
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 24 17:05:51 2006 -0700

    New API: Add new function cairo_surface_get_content
    
    This assumes that the directfb, glitz, and quartz backends
    always create surfaces with content of COLOR_ALPHA which might
    be totally wrong.

 src/cairo-analysis-surface.c  |    5 ++-
 src/cairo-directfb-surface.c  |    4 +-
 src/cairo-glitz-surface.c     |    4 +-
 src/cairo-image-surface.c     |    3 +-
 src/cairo-meta-surface.c      |    6 ++-
 src/cairo-paginated-surface.c |    3 +-
 src/cairo-pdf-surface.c       |    3 +-
 src/cairo-ps-surface.c        |    3 +-
 src/cairo-quartz-surface.c    |    4 +-
 src/cairo-surface.c           |   22 +++++++++-
 src/cairo-svg-surface.c       |    3 +-
 src/cairo-win32-surface.c     |    6 ++-
 src/cairo-xcb-surface.c       |   29 ++++++++++++-
 src/cairo-xlib-surface.c      |   95 ++++++++++++++++++++++------------------
 src/cairo.h                   |    3 +
 src/cairoint.h                |    5 ++-
 src/test-fallback-surface.c   |    3 +-
 src/test-meta-surface.c       |    3 +-
 src/test-paginated-surface.c  |    3 +-
 test/cairo-test.c             |   18 ++++++++
 20 files changed, 163 insertions(+), 62 deletions(-)

commit 0796845ae6923f3ccef5df231b7d9a2c145063fd
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 24 14:03:49 2006 -0700

    Add new fallback-resolution test for bug in cairo_pdf_surface_set_dpi

 test/.gitignore            |    2 +
 test/Makefile.am           |    1 +
 test/fallback-resolution.c |   84 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 87 insertions(+), 0 deletions(-)

commit 11b2481862e15a2cdedae347eab4347f7b63f715
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 24 14:02:30 2006 -0700

    PDF: Add new, private test function: cairo_pdf_test_force_fallbacks

 doc/public/Makefile.am  |    1 +
 src/Makefile.am         |    2 +-
 src/cairo-pdf-surface.c |   26 +++++++++++++++++++++-
 src/cairo-pdf-test.h    |   55 +++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 82 insertions(+), 2 deletions(-)

commit 65b9217cadcd09f1ed18aa0da38d0b72b6438780
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 24 11:37:05 2006 -0700

    cairo-xlib-test: Rename cairo_test_xlib function prefix to cairo_xlib_test

 src/cairo-xlib-surface.c |    4 ++--
 src/cairo-xlib-test.h    |    2 +-
 test/xlib-surface.c      |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 5acce60291fe0b61a67ff1e803b6226db576c233
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 24 10:35:24 2006 -0700

    Typo fixes

 test/pdf-features.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a5a72676bd34ac6bfdf5e0bcfd3fb21fcbada673
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 13:41:44 2006 -0700

    ROADMAP: Note that the cairo_set_line_width issue is resolved

 ROADMAP |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e4476dda49b709875b8204567168752c15927480
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 13:41:00 2006 -0700

    PDF: Move dash operator before path construction operators.
    
    I don't recall anything about this in the PDF reference, (though I
    also didn't look specifically for it), but without this acroread
    is quite unhappy with cairo's PDF output when it includes dashing.

 src/cairo-pdf-surface.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 59885c6a122f593b417cb47dbd676eeac0cd8f69
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 12:08:20 2006 -0700

    Clarify the documentation for cairo_set_dash
    
    Note that dash length units are evaluated in the user space
    at the time of the stroke operation, (not the user space at
    the time of cairo_set_dash).

 src/cairo.c |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit 68b41cfd06dd6c798f8045ba1580342669ef5539
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 11:23:27 2006 -0700

    PDF: Share path callbacks for fill and stroke.

 src/cairo-pdf-surface.c |  112 +++++++++++++++--------------------------------
 1 files changed, 36 insertions(+), 76 deletions(-)

commit 7e5bef2439be93e46583c0922f68ad770179fa1e
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 11:17:01 2006 -0700

    PDF: Rename pdf_stroke_t to pdf_path_into_t for future sharing with fill

 src/cairo-pdf-surface.c |   38 +++++++++++++++++++-------------------
 1 files changed, 19 insertions(+), 19 deletions(-)

commit 1b1b59a4a9cdeab0f3c360c09721aff23154015f
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 11:12:09 2006 -0700

    New test: dash-scale
    
    Tests interactions of cairo_set_dash and cairo_scale, (in particular with a
    non-uniformly scaled pen).

 test/.gitignore                   |    1 +
 test/Makefile.am                  |    2 +
 test/dash-scale-ps-argb32-ref.png |  Bin 0 -> 2950 bytes
 test/dash-scale-ref.png           |  Bin 0 -> 7791 bytes
 test/dash-scale.c                 |  125 +++++++++++++++++++++++++++++++++++++
 5 files changed, 128 insertions(+), 0 deletions(-)

commit 0755a619a101b89f5c5439f12e0544ab5ecac997
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 10:54:54 2006 -0700

    SVG: Fix for line-width-scale
    
    Use the same approach as the PDF backend: emit the pen matrix as the
    SVG transform for the stroke, and compensate by first transforming all path
    coordinates by the ctm_inverse.

 src/cairo-svg-surface.c |   63 ++++++++++++++++++++++++++++++----------------
 1 files changed, 41 insertions(+), 22 deletions(-)

commit b1231e2ef349af1c0b130880603a924ff67b2967
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 23 10:45:18 2006 -0700

    Codify 1.0 behavior of cairo_set_line_width as a feature, not a bug.
    
    Clarify the documentation of cairo_set_line_width to indicate that the
    value will be interpreted within the user space at the time of the
    stroke.
    
    Also adjust the comments in test/line-width-scale as well as the
    reference images for that test to match.

 src/cairo.c                             |   25 +++++++++++++++++++------
 test/line-width-scale-ps-argb32-ref.png |  Bin 1470 -> 1599 bytes
 test/line-width-scale-ref.png           |  Bin 4884 -> 6445 bytes
 test/line-width-scale.c                 |   28 +++++++++++++++-------------
 4 files changed, 34 insertions(+), 19 deletions(-)

commit 0a1ec91977ef05f04e2cc52895fd98a903f1c8eb
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 22 09:22:42 2006 -0700

    Move prototype of cairo_debug_reset_static_data from uninstalled cairo-debug.h to cairo.h

 src/Makefile.am   |    4 +---
 src/cairo-debug.h |   48 ------------------------------------------------
 src/cairo.h       |    4 ++++
 src/cairoint.h    |    1 -
 test/cairo-test.h |    1 -
 5 files changed, 5 insertions(+), 53 deletions(-)

commit 27e9e3cecd354475047ac268d5ef52eba3f041f1
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri May 19 02:17:35 2006 -0400

    Handle seac charstring commands correctly.
    
     - Include PS standard encoding table so we can map from standard
       encoding indices to glyph names and then make sure to include the
       glyph of that name.
     - Cut out verbose debugging code.
     - Fix a couple of bugs in glyph name to index lookup code.

 src/cairo-type1-subset.c |  218 +++++++++++++++++++---------------------------
 1 files changed, 90 insertions(+), 128 deletions(-)

commit 89384ae12474c257fb47e4231229235207ab8f85
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 18 21:48:38 2006 -0700

    PDF: Squelch a couple of bogus "may be used uninitialized" warnings.

 src/cairo-pdf-surface.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e2713057f80c412a3ba947f9c7af2f18dd26105e
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Mar 15 14:10:59 2006 -0800

    Define kCGBitmapByteOrder32Host for when the SDK doesn't define it
    (cherry picked from bd9b5d29e39f424e912184dcd0dc2610637d5fdf commit)

 src/cairo-atsui-font.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 5bdcfd14136d02ccaec275b2bcd5fb2744352f87
Author: Vladimir Vukicevic <vladimir@cyclone.vlad1.com>
Date:   Thu Mar 16 14:14:35 2006 -0800

    Whitespace fix
    (cherry picked from 0bb567a2f1807d83508e2d7598a8bd8f4d94208d commit)

 src/cairo-win32-surface.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e8069da97bc5c09d9bac91cf401d9e3c3ba91607
Author: Vladimir Vukicevic <vladimir@cyclone.vlad1.com>
Date:   Thu Mar 16 17:00:37 2006 -0800

    CAIRO_SCALED_FONT_TYPE_* -> CAIRO_FONT_TYPE_*
    
    Some of these were missed when CAIRO_SCALED_FONT_TYPE_* was renamed.
    (cherry picked from 33dba4a690a5e4ec13ed294307b89cceac1ca696 commit)

 src/cairo-win32-surface.c |    2 +-
 src/cairo.h               |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit fb7ae2a28e46895f764754c6961cb99989be7a04
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 21:01:20 2006 -0400

    Remember to call cairo_type1_font_subset_destroy().

 src/cairo-type1-subset.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1d2b60454fb1e7a1e4b7614029f02dfb0e33acb3
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 20:50:36 2006 -0400

    Consolidate a few arrays into a array of structs.

 src/cairo-type1-subset.c |   76 ++++++++++++++++++++++-----------------------
 1 files changed, 37 insertions(+), 39 deletions(-)

commit 9b84b3da58a62b25c129626f918713036e41cc88
Author: Vladimir Vukicevic <vladimir@cyclone.vlad1.com>
Date:   Fri Mar 17 00:06:21 2006 -0800

    [win32] GDI is nearly always faster than pixman; use it whenever possible
    
    Remove local image check from fill_rectangles and fix check for whether
    we can AlphaBlend or not (ARGB->ARGB AlphaBlend works fine)
    (cherry picked from f099783b3e7f895a59d4d4a67a8534f1d21d44e1 commit)

 src/cairo-win32-surface.c |   22 +++++++++++++---------
 1 files changed, 13 insertions(+), 9 deletions(-)

commit 2a89526edf1f42dfc3e8592b82a51b9970015bda
Author: Vladimir Vukicevic <vladimir@cyclone.vlad1.com>
Date:   Thu Mar 16 14:04:49 2006 -0800

    [win32] Add GdiFlush() calls after DIB creation, as per MSDN docs
    
    Also fixes some spacing/tab issues
    (cherry picked from 123ca7c9f9d8984be5ed4fb42a2897508e8ff44a commit)

 src/cairo-win32-surface.c |   38 +++++++++++++++++++++-----------------
 1 files changed, 21 insertions(+), 17 deletions(-)

commit a9c42e8fc264e3d07e4888d5965eea130c1e9d0a
Author: Stuart Parmenter <stuart@mozilla.com>
Date:   Wed Mar 15 14:20:35 2006 -0800

    [win32] fix win32_show_glyphs glyph offsets
    (cherry picked from 947a4a1bc6a0a0ee78c44b71fef32c924ebc9397 commit)

 src/cairo-win32-surface.c |   16 ++++++++++------
 1 files changed, 10 insertions(+), 6 deletions(-)

commit 59a45f1c4a914c9640bbea37c72b1ec222f56ff3
Author: Stuart Parmenter <pavlov@pavlov.net>
Date:   Fri Mar 10 12:25:07 2006 -0800

    [win32] implement win32 show_glyphs
    (cherry picked from 9c7d0cbde415d02b6e8298a02b3b62cf4513a59e commit)

 src/cairo-win32-font.c    |   14 ++---
 src/cairo-win32-private.h |    1 +
 src/cairo-win32-surface.c |  115 ++++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 121 insertions(+), 9 deletions(-)

commit a10bbecaf8f122726c3e5b55b07bcd7882f6f319
Author: Stuart Parmenter <pavlov@pavlov.net>
Date:   Fri Mar 10 12:12:36 2006 -0800

    [win32] Allow for creating a font from a HFONT
    (cherry picked from 677f6c84f9beae3afd375663fed0a440007ebca2 commit)

 src/cairo-win32-font.c |   35 +++++++++++++++++++++++++++++++----
 src/cairo-win32.h      |    3 +++
 2 files changed, 34 insertions(+), 4 deletions(-)

commit 244c111fca042b15d6718295ca2f7c7843fa7ab5
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Fri Mar 10 11:56:27 2006 -0800

    [win32] Add SHADEBLENDCAPS and SB_NONE definitions for older SDKs
    (cherry picked from 7a68b7d035b1c63076d6fa6c54d40944459d206d commit)

 src/cairo-win32-surface.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 92a015ff8ec5c11aac6d9c0c6702fa4873c04381
Author: Vladimir Vukicevic <vladimir@cyclone.vlad1.com>
Date:   Mon Mar 27 13:49:58 2006 -0800

    [xlib] only do glyph extents computation if non-solid source.
    
    xlib_show_glyphs was always calculating the glyph extents, even when it
    didn't need to; this only does it when necessary.
    
    Also adds an implementation of surface_flush() for xlib that just calls
    XSync.
    (cherry picked from 8770ac5b5cdba8007c4c6a6a980e6e06acf6aeb6 commit)

 src/cairo-xlib-surface.c |   49 +++++++++++++++++++++++++++++----------------
 1 files changed, 31 insertions(+), 18 deletions(-)

commit 108431414faa8792659616bae35584b8fced3b21
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Mar 8 21:08:57 2006 -0800

    [xlib] implement _cairo_xlib_surface_show_glyphs
    
    Avoid using the fallback paths as much as possible; implement real
    show_glyphs, falling back for OPERATOR_SOURCE (due to Render bug), and all
    unbounded operators (let the fallback code deal with fixup).  Also fall
    back if we have a fallback mask clip set.
    
    (cherry picked from 3225a4ec820fd4051dd893ffc4258b182bd62dca commit)

 src/cairo-xlib-surface.c |  276 +++++++++++++++++++++++++---------------------
 1 files changed, 152 insertions(+), 124 deletions(-)

commit 6d53687058dc35bb1abd1f9552f43fccad61474f
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 20:03:53 2006 -0400

    Look for /-| or /RD tokens to determine the charstring delimiter tokens.

 src/cairo-type1-subset.c |   35 +++++++++++++++++++++++++++++------
 1 files changed, 29 insertions(+), 6 deletions(-)

commit 3487191b2230571323201ed045263433e77e5345
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 18 15:36:43 2006 -0700

    xlib: Style cleanups for _cairo_xlib_surface_create_similar
    
    Including style cleanups for _xrender_format_matches_content.
    
    There's even a bug fix here as well. Previously, we would miss compatibility
    if the existing xlib surface had a NULL visual, (even if it had a compatible
    xrender_format). We now catch this case, and don't bother even trying to
    store a visual into the resulting surface.

 src/cairo-xlib-surface.c |   97 +++++++++++++++++++++++++---------------------
 1 files changed, 53 insertions(+), 44 deletions(-)

commit a96bd2b4f9ab399eee5198c0d27a6cd67798931b
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 18 15:20:25 2006 -0700

    xlib: Rename surface->format to surface->xrender_format to avoid confusion
    
    With both XRenderPictFormat* and cairo_format_t values being manipulated in the same
    functions, this really needed to be done.

 src/cairo-xlib-surface.c |   30 +++++++++++++++---------------
 1 files changed, 15 insertions(+), 15 deletions(-)

commit ea05e027111d5f336b7e3f2170f929b0b1e37692
Author: Robert O'Callahan <rocallahan@novell.com>
Date:   Fri May 19 08:26:08 2006 +1200

    [xlib] Have create_similar try harder to create the right surface
    
    I recently discovered that cairo_create_similar on a 16-bit xlib surface
    creates a surface backed by a 24-bit pixmap. This results in absymal
    performance --- I can actually watch a copy from the similar to the
    original move down the screen, on my dual Xeon, NVidia vendor driver
    machine. It also means xlib-based code like GTK themes can't render to
    the surface because it doesn't match the screen depth.
    
    The attached patch makes _cairo_xlib_surface_create_similar match the
    characteristics of the input surface as closely as I know how, and fixes
    my issues.

 src/cairo-xlib-surface.c |   54 +++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 51 insertions(+), 3 deletions(-)

commit d09d95a3231d9137c00da72e5bf56fe246671e15
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 15:10:05 2006 -0400

    Track glyph subset indices and use them in the output.

 src/cairo-type1-subset.c |   50 +++++++++++++++++++++++----------------------
 1 files changed, 26 insertions(+), 24 deletions(-)

commit 5f55ae7d91174d29f83b2a15e4def0f6baea7344
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 13:57:03 2006 -0400

    Make ps surface use type1 subset code.
    
    - Add _cairo_ps_surface_emit_type1_font_subset() which just dumps the
      type1 subset into the ps document.
    - Add a 'name' parameter to _cairo_type1_subset_init() so it will be
      defined under the right name in the ps document.
    - Quiet down debug output from type1 subset code.
    - Reenable code to output custom /Encoding table.

 src/cairo-pdf-surface.c                 |    5 +++-
 src/cairo-ps-surface.c                  |   34 +++++++++++++++++++++++++++++++
 src/cairo-scaled-font-subsets-private.h |    1 +
 src/cairo-type1-subset.c                |   26 ++++++++++++++++++-----
 4 files changed, 59 insertions(+), 7 deletions(-)

commit fe58e7a81fe9f787ef262615bc1802243770a432
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 13:35:57 2006 -0400

    Only use the word wrap stream when emitting paths.
    
    This patch also factors the word wrap stream setup and teardown
    and the call to _cairo_path_fixed_interpret() out into a new function,
    _cairo_ps_surface_emit_path().

 src/cairo-ps-surface.c |  287 +++++++++++++++++++++++------------------------
 1 files changed, 140 insertions(+), 147 deletions(-)

commit 2fafbac390f13c8c47464defc8c30e705be98bbb
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 02:24:02 2006 -0400

    Use RD and ND for delimiting glyph data instead of -| and |-.
    
    We probably should figure out from the private dictionary which of the two
    pairs the font defines and uses, but I don't actually have fonts that
    use -| and |-, so for now for flip the default.

 src/cairo-type1-subset.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 466d3da4ef2267287095e67342da8eb360198542
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 17 17:17:02 2006 -0400

    Add code to emit type1 dicts to the pdf backend.

 src/cairo-pdf-surface.c                 |  110 +++++++++++++++++++++++++++++++
 src/cairo-scaled-font-subsets-private.h |    2 +
 src/cairo-type1-subset.c                |   12 ++-
 3 files changed, 120 insertions(+), 4 deletions(-)

commit c36de5b7c5173639712074d0f98365b107707ae7
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 17 12:05:16 2006 -0400

    Pull in type1 subset code from the cvs repo it was sitting in.

 src/Makefile.am                         |    1 +
 src/cairo-font-subset.c                 |    1 -
 src/cairo-scaled-font-subsets-private.h |   41 ++
 src/cairo-type1-subset.c                | 1035 +++++++++++++++++++++++++++++++
 4 files changed, 1077 insertions(+), 1 deletions(-)

commit 127fab4695ef849364e755e10c2b960add78782b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 18 02:12:06 2006 -0400

    Remember to call _cairo_truetype_subset_fini() after outputting subset.

 src/cairo-ps-surface.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit b16c29ff0c38b8fa8e5753770bb93ad9ff084579
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 17 01:30:43 2006 -0400

    Set libcairo_font_subset_sources for ps, pdf, and svg backends.
    
    Backends that use the font subsetting code should add the font subsetting
    sources to the build.  This is dont by setting libcairo_font_subset_sources,
    in the conditional section for each backend.  If any one is enabled, the
    sources will be added to the build.

 src/Makefile.am |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit d42b2c7a89451e95e6e9ec6bc439f06855c66802
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue May 16 23:56:38 2006 -0400

    Remember to destroy cairo_pdf_ft_font_t once we've generated the subset.
    
    Also, remove cairo_private from function definitions.

 src/cairo-font-subset.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit f3209660c33bc128c58ec487c51440271f30a923
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue May 16 23:24:09 2006 -0400

    Print out ps comment in the truetype emit code and update type3 ps comment.

 src/cairo-ps-surface.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 3975d7f8a26b53d4d2c7d587fbcfe9ed6ddf78d8
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue May 16 23:20:08 2006 -0400

    Add support for truetype subset to ps backend.
    
    Same story as for the pdf backend: try to output a truetype subset if
    possible, otherwise fall back to a type3 font.  Ajdust text output code
    to scale font accordingly and scale type3 fonts to unity.

 src/cairo-ps-surface.c |  113 ++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 105 insertions(+), 8 deletions(-)

commit 2c6e799ee64cfc00145ecbe0d0b93256c237dcf4
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue May 16 22:53:05 2006 -0400

    Switch to using Tm for text positioning and scale type3 fonts to unit size.
    
    This change changes the text output code to use the Tm operator for
    positioning the glyphs.  This allows us to set the scale matrix from
    the cairo_scaled_font_t so truetype glyphs get transformed correctly.
    However, we now need to scale type3 glyph to unity to compensate.
    Longer term we should just only output one unit sized type3 subset for
    a cairo_font_face_t and use that for all cairo_scaled_font_t's coming from
    that font face.
    
    Also, this fixes a num_glyphs initialization bug.

 src/cairo-font-subset.c |    2 +-
 src/cairo-pdf-surface.c |   25 ++++++++++++++++++++++---
 2 files changed, 23 insertions(+), 4 deletions(-)

commit e846dca44e8c60bf45ab84d7adaf7eefe3088f43
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue May 16 21:41:07 2006 -0400

    Hook _cairo_truetype_subset_init() up to existing truetype subset code.
    
    This is a minimal first change to get things working.  The truetype
    subset code still needs to be renamed and moved around a bit.

 src/cairo-font-subset.c |  151 ++++++++++++++++++++++++++++-------------------
 1 files changed, 91 insertions(+), 60 deletions(-)

commit f4f11eba5b6daa6f82b967dcb21715b7f16d9719
Author: Kristian Høgsberg <krh@dinky.bitplanet.net>
Date:   Tue May 16 19:01:15 2006 -0400

    Output pdf dicts for truetype subset fonts.

 src/cairo-font-subset.c                 |   21 +++++++
 src/cairo-pdf-surface.c                 |   97 ++++++++++++++++++++++++++++++-
 src/cairo-scaled-font-subsets-private.h |   41 +++++++++++++
 3 files changed, 158 insertions(+), 1 deletions(-)

commit 13a05830f5e524cd69b75796888c7a99ba9ce106
Author: Kristian Høgsberg <krh@dinky.bitplanet.net>
Date:   Tue May 16 16:42:44 2006 -0400

    Update pdf font emit code to try to emit a truetype subset before type3.

 src/cairo-pdf-surface.c |   34 +++++++++++++++++++++++++++++-----
 1 files changed, 29 insertions(+), 5 deletions(-)

commit 05b1d2f9c5b827d52f3eb837c6c591c877dde419
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 16 01:04:16 2006 -0700

    PDF: Fix broken per-page sizes in PDF output.
    
    This was first broken in:
    
    	PDF: Fold (unused) cairo_pdf_document_t into cairo_pdf_surface_t
    	f500cef19f049a4a0ed296172618db2f26794932
    
    Thanks, git bisect!

 src/cairo-pdf-surface.c |   17 +++++------------
 1 files changed, 5 insertions(+), 12 deletions(-)

commit d70ade00fb67c6f77d23653481079996ec1e1292
Merge: 41d4354 c7ef4cb
Author: Kristian Høgsberg <krh@dinky.bitplanet.net>
Date:   Mon May 15 17:53:56 2006 -0400

    Merge branch 'master' of git://git.freedesktop.org/git/cairo

commit 41d435418c414405035eb911239dc6580edabd6b
Author: Kristian Høgsberg <krh@dinky.bitplanet.net>
Date:   Mon May 15 17:36:12 2006 -0400

    Documentation fixes (cairo_font_create -> cairo_scaled_font_create).

 src/cairo-ft-font.c |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit c7ef4cb3f3b14543842bf538dcb216d1ea51d89f
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 10:25:44 2006 -0700

    ROADMAP: Note that PDF type 3 font support is done

 ROADMAP |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 621ebc4726c075c183028818af1944f67a60b7ce
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 10:16:06 2006 -0700

    pixman: Remove unused code to quiet compiler warnings

 pixman/src/fbpict.c  |   14 ----------
 pixman/src/icimage.c |   66 --------------------------------------------------
 2 files changed, 0 insertions(+), 80 deletions(-)

commit 636cbe5a191cf8065facfbe45f32620cea2009a5
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 10:14:39 2006 -0700

    pixman: Add default case to quiet compiler warning

 pixman/src/fbpict.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 2e4c8924ad1c27d807e86a155c6582fd506c66c0
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 10:07:57 2006 -0700

    pixman: Fix build to enable warnings again

 configure.in           |    2 ++
 pixman/src/Makefile.am |    4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

commit bf2ab0de927dae4a1dd67a0cbacefabaf0e4255b
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 10:04:53 2006 -0700

    PDF: Add Type3 font support to PDF output.
    
    This uses the recently added cairo-scaled-font-subsets interface in a
    style very similar to what the PS surface does.

 src/cairo-pdf-surface.c                  |  242 ++++++++++++++++++++++++++++--
 test/select-font-face-pdf-argb32-ref.png |  Bin 2781 -> 2782 bytes
 2 files changed, 231 insertions(+), 11 deletions(-)

commit 6f417fed51672ccca305b7fcc8b1bc3af7609534
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 10:00:18 2006 -0700

    PDF: Move Resources dictionary up from Page objects to Pages object.
    
    This allows for more sharing of resource objects. It also avoids some
    confusion in trying to set independent resources at a global and a
    per-page level, (which doesn't work since the inheritance only works
    for an entire resources object---it can only be overriden in its
    entirety, not for subsets of the resources).

 src/cairo-pdf-surface.c |  118 +++++++++++++++++++++++------------------------
 1 files changed, 58 insertions(+), 60 deletions(-)

commit 049100fb870bee89b28bd14a9625add33f38a2bd
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 09:52:57 2006 -0700

    PDF: Use consistent style for typedef struct and macro naming.

 src/cairo-pdf-surface.c |   22 +++++++++-------------
 1 files changed, 9 insertions(+), 13 deletions(-)

commit 45d0540c3375bfdb09973a809c08b5dec1ae2219
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 09:41:36 2006 -0700

    PS: Remove the fallback case from _cairo_ps_surface_show_glyphs
    
    The only expected errors that would lead to this fallback are serious
    problems such as out of memory. There's no reason to go to heroic
    efforts to draw as much as possible in face of an error like that.
    
    Prefer simpler code instead.

 src/cairo-ps-surface.c |   26 ++++++--------------------
 1 files changed, 6 insertions(+), 20 deletions(-)

commit cb32b41a4e24df612dc0cabbe1e22098584759e9
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 09:39:16 2006 -0700

    PS: Fix arguments to setcachedevice
    
    Since we are only ever displaying a single glyph at a time we don't
    care about the width values passed to setcachedevice at all---we only
    care about the bounding box.
    
    That's what the code was trying to do before, but the arguments were
    misaligned and we were instead passing bounding-box values for the
    widths and hard-coding half of the bounding-box values as 0.

 src/cairo-ps-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e2c03d51daa60bf18b66ace148e6f8df7c454e2c
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 15 09:28:32 2006 -0700

    Change scaled_font_subsets_callback to have return type of void.
    
    The return of status from this callback was misleading. The function
    actually calling the callback was also a hash table callback function,
    which itself is void---so any status value returned was being lost.
    
    Instead, we now stash any errors that occur during the fallback into
    surface->status.

 src/cairo-ps-surface.c                  |   30 +++++++++++++++---------------
 src/cairo-scaled-font-subsets-private.h |    2 +-
 src/cairo-svg-surface.c                 |   25 ++++++++++---------------
 3 files changed, 26 insertions(+), 31 deletions(-)

commit f500cef19f049a4a0ed296172618db2f26794932
Author: Carl Worth <cworth@cworth.org>
Date:   Fri May 12 14:56:11 2006 -0700

    PDF: Fold (unused) cairo_pdf_document_t into cairo_pdf_surface_t

 src/cairo-pdf-surface.c |  932 ++++++++++++++++++++---------------------------
 1 files changed, 392 insertions(+), 540 deletions(-)

commit d84a1cac1cc2da8a34fb6aa91c3c4f4058527207
Author: Carl Worth <cworth@cworth.org>
Date:   Fri May 12 13:31:12 2006 -0700

    PDF: Use cairo_pdf_resource_t more consistently.
    
    Eliminate the named structure cairo_pdf_stream_t. This structure was
    being dynamically allocated, passed around, and leaked when only an ID
    was actually needed to be passed around.
    
    Similarly, many other uses of PDF resources were passing bare unsigned
    int types rather than the safer and more legible cairo_pdf_resource_t.

 src/cairo-pdf-surface.c |  487 +++++++++++++++++++++++------------------------
 1 files changed, 236 insertions(+), 251 deletions(-)

commit b7e9506707878367493a8a45c74bb6eb048b7e88
Author: Tim Mooney <enchanter@users.sourceforge.net>
Date:   Wed May 10 20:51:53 2006 -0700

    bug #6890: fix the signature for main() in pthread-show-text

 test/pthread-show-text.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1ba537be18316154781e36fb66545f82afb3c3a0
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 10 19:01:40 2006 -0700

    Fix memory leak in _cairo_scaled_font_subsets_foreach

 src/cairo-scaled-font-subsets.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 7bd3a037daadaed5b720d9590a479320de533af5
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 10 18:52:36 2006 -0700

    Add documentation for the _cairo_scaled_font_subsets interface.

 src/cairo-scaled-font-subsets-private.h |  109 ++++++++++++++++++++++++++++++-
 1 files changed, 106 insertions(+), 3 deletions(-)

commit 7c137b7e2ccbe76bb7870756a8fd29458b571a71
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 10 15:14:10 2006 -0700

    SVG: Discard custom font subsetting in favor of sharing cairo-scaled-font-subsets

 ROADMAP                 |    2 +-
 src/cairo-svg-surface.c |  272 ++++++++---------------------------------------
 2 files changed, 45 insertions(+), 229 deletions(-)

commit f459c1f0de1d874da55ab9eff075834c4b8633b8
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 10 15:12:53 2006 -0700

    Tweak names to match those of cairo-scaled-font-subsets
    
    Also, remove a now obsolete field from cairo_ps_surface_t

 src/cairo-ps-surface.c |   19 ++++++++-----------
 1 files changed, 8 insertions(+), 11 deletions(-)

commit 8a209e6ad9a77b8b922687e08731c4b3bbd5621b
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 10 14:50:31 2006 -0700

    Fix cairo_output_stream_destroy to do nothing on nil stream objects.

 src/cairo-output-stream.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 0544515279f9051a418f2079dd4fbeafd256b3ac
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 10 14:47:28 2006 -0700

    Generalize font subsetting code in cairo-scaled-font-subsets for use by more than just PS backend

 ROADMAP                                 |    1 +
 src/Makefile.am                         |    2 +-
 src/cairo-ps-surface.c                  |  228 ++++++++-----------
 src/cairo-scaled-font-subsets-private.h |   82 +++-----
 src/cairo-scaled-font-subsets.c         |  378 +++++++++++++++++++++++-------
 5 files changed, 416 insertions(+), 275 deletions(-)

commit 906a17a6b1ba1fc120d90f9f3cec29b914300a93
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 10 14:40:32 2006 -0700

    Rename cairo-ps-font to cairo-scaled-font-subsets (file names only)

 src/cairo-ps-font-private.h             |  101 -----------------
 src/cairo-ps-font.c                     |  181 -------------------------------
 src/cairo-scaled-font-subsets-private.h |  101 +++++++++++++++++
 src/cairo-scaled-font-subsets.c         |  181 +++++++++++++++++++++++++++++++
 4 files changed, 282 insertions(+), 282 deletions(-)

commit f7f9bdc05bd0afc4b709ab6a83074b7e66b1cc60
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 9 10:05:44 2006 -0700

    PS: Put functions in more logical order.

 src/cairo-ps-surface.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit f3703b1806d1086be30323ca0576819b70a47771
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 9 09:55:23 2006 -0700

    PS: Move type 3 support out into cairo-ps-font.c
    
    This is in preparation for generalizing this code for sharing among
    several backends.

 src/Makefile.am             |    2 +-
 src/cairo-ps-font-private.h |  101 ++++++++++++++++++++++++
 src/cairo-ps-font.c         |  181 +++++++++++++++++++++++++++++++++++++++++++
 src/cairo-ps-surface.c      |  181 +++----------------------------------------
 4 files changed, 295 insertions(+), 170 deletions(-)

commit 7ebdf4825d677b3b63671eb44298ea2764df2966
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 8 17:47:31 2006 -0700

    PS: Remove stale comment (the stuff TODO is done already)

 src/cairo-ps-surface.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 172fd2f6a668b6b0e4a7cbce24e006b65417d9b1
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 9 14:39:08 2006 -0700

    Fix typo in select-font-face.c and update reference images

 test/select-font-face-pdf-argb32-ref.png |  Bin 0 -> 2781 bytes
 test/select-font-face-ps-argb32-ref.png  |  Bin 0 -> 528 bytes
 test/select-font-face-ref.png            |  Bin 2460 -> 2481 bytes
 test/select-font-face-svg-argb32-ref.png |  Bin 0 -> 3064 bytes
 test/select-font-face-svg-rgb24-ref.png  |  Bin 0 -> 3064 bytes
 test/select-font-face.c                  |    4 ++--
 6 files changed, 2 insertions(+), 2 deletions(-)

commit f0d7e3f858858937168c6cfdfae12dbe751ee683
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 9 14:15:27 2006 -0700

    Add select-font-face test for whosing multiple faces at once.

 test/.gitignore               |    1 +
 test/Makefile.am              |    2 +
 test/select-font-face-ref.png |  Bin 0 -> 2460 bytes
 test/select-font-face.c       |   83 +++++++++++++++++++++++++++++++++++++++++
 4 files changed, 86 insertions(+), 0 deletions(-)

commit 9595de96ac96bbfdc20177c0228c1673ad701d96
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 8 17:41:17 2006 -0700

    ROADMAP: non-substantive changes

 ROADMAP |   19 +++++++------------
 1 files changed, 7 insertions(+), 12 deletions(-)

commit 7d0bcc3f1cf5dff292289420c3e5e73410997993
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sat May 6 15:31:53 2006 +0200

    SVG: Emit glyphs at the beginning of defs section.

 src/cairo-svg-surface.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 1da2ca0f3575fe00e7e3f2ce27cf0e3416517573
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sat May 6 14:56:20 2006 +0200

    SVG: Implementation of glyph cache
    
    This is an adaptation of Keith ps-type3 branch for SVG backend.
    Main differences with ps stuff are font cache is a property of
    document, and there's no need of subfonts.

 src/cairo-svg-surface.c |  571 +++++++++++++++++++++++++++++++++++++----------
 1 files changed, 450 insertions(+), 121 deletions(-)

commit 09e94c6a31e58ff85c597d4791b6ec5006f73797
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri May 5 20:31:48 2006 +0200

    SVG: Add reference images for fill-and-stroke-alpha.
    
    It fails on a one digit color error.

 test/fill-and-stroke-alpha-svg-argb32-ref.png |  Bin 0 -> 509 bytes
 test/fill-and-stroke-alpha-svg-rgb24-ref.png  |  Bin 0 -> 509 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit ac470b02384528f9fda3ee7c80b64d27825b927a
Author: Carl Worth <cworth@cworth.org>
Date:   Fri May 5 07:57:10 2006 -0700

    Don't build pdf2svg until we start depending on newer poppler

 test/Makefile.am |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 44572fdcc8627a5c13d8fc68b55290f414166095
Author: Carl Worth <cworth@cworth.org>
Date:   Fri May 5 07:51:59 2006 -0700

    Revert "pdf2png: Use new poppler_page_render to render directly through cairo."
    
    This introduced a rather gratuitous dependency on a newer version of
    poppler, which caused a fair amount of pain for no significant
    benefit.
    
    This reverts 253472492ee2a690646a30b32cf8180f5b6e3299 commit.

 test/pdf2png.c |   38 +++++++++++---------------------------
 1 files changed, 11 insertions(+), 27 deletions(-)

commit d76701f465669f843c12aee6b533c9fb6399ec99
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri May 5 16:47:06 2006 +0200

    Use CLEAR operator for initialisation of similar surface with a transparent color.

 src/cairo-surface.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 36fcaa76d66c16fcedddf3c3e967afa3f4a96615
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri May 5 16:02:04 2006 +0200

    SVG: Fix cairo_svg_surface_restrict_to_version.
    
    surface parameter is actually a paginated surface.
    Use the same logic as pdf backend.

 src/cairo-svg-surface.c |   62 +++++++++++++++++++++++++++++++----------------
 src/cairo-svg.h         |    2 +-
 2 files changed, 42 insertions(+), 22 deletions(-)

commit 6b40ba283b6d09a7bf3bd0ec795a19b05b9bfec4
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri May 5 12:59:29 2006 +0200

    SVG: Remove special case for unclipped CLEAR and SOURCE in paint when
    we're in analysis mode.
    
    intersect_clip_path is not analyzed, so we can't know if we're clipped
    when we're in analysis mode.

 src/cairo-svg-surface.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit fb269aac0887711298241113717aa8bddecbd097
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri May 5 11:10:02 2006 +0200

    SVG: Sets something sane in width and height if acquire source image fails.
    
    In composite_image_pattern.

 src/cairo-svg-surface.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit c399b7a04777823fc32c65020616b39196795214
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 23:48:28 2006 -0700

    Increment CAIRO_VERSION to 1.1.7 after making the 1.1.6 snapshot

 configure.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7ba3b75efd56113411ed141a86675099ae82d5d5
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 23:44:07 2006 -0700

    Fix typos in EXTRA_DIST list of reference images.

 test/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5b3425972dd8864a754ca4551f375151b409fdb5
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 23:39:12 2006 -0700

    Update version to 1.1.6 and add notes to NEWS file.
    
    Also update libtool version information to 8:0:6.

 NEWS         |   97 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 ROADMAP      |   16 +++++----
 configure.in |    6 ++--
 3 files changed, 108 insertions(+), 11 deletions(-)

commit cfdb9a1c5372f261e6d495392aa6c052a6ebdee3
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 23:33:44 2006 -0700

    RELEASING: Add a few more steps that we've been somtimes forgetting

 RELEASING |   19 ++++++++++++++-----
 ROADMAP   |    2 +-
 2 files changed, 15 insertions(+), 6 deletions(-)

commit b948683917e26315fdec773db8780662071554a1
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 22:43:22 2006 -0700

    Flesh out the documentation for cairo_push_group, cairo_pop_group and friends

 src/cairo.c |  119 +++++++++++++++++++++++++++++++++++++++++++++++++----------
 1 files changed, 99 insertions(+), 20 deletions(-)

commit 344c2c7acd0a87a7a28b4a73ba340b333fefb2bf
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 21:35:23 2006 -0700

    Add a couple more group-using tests: fill-and-stroke-alpha[-add]

 test/.gitignore                        |    2 +
 test/Makefile.am                       |    4 +
 test/fill-and-stroke-alpha-add-ref.png |  Bin 0 -> 588 bytes
 test/fill-and-stroke-alpha-add.c       |  112 ++++++++++++++++++++++++++++++++
 test/fill-and-stroke-alpha-ref.png     |  Bin 0 -> 532 bytes
 test/fill-and-stroke-alpha.c           |  106 ++++++++++++++++++++++++++++++
 6 files changed, 224 insertions(+), 0 deletions(-)

commit a16f0b4223a5cc9faa68d844b8fd3ff1bfb996b7
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 15:34:15 2006 -0700

    Add push-group to test/.gitignore

 test/.gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 57a0242d0621020279bd33c3b0312463bf78cc42
Author: Ian Osgood <iano@quirkster.com>
Date:   Thu May 4 14:29:03 2006 -0700

    Additional piece of "Fix the XCB backend build for the XCB 0.9 release."

 test/cairo-test.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 8c9da52dc285576e47b4e527487f0b2451ab87cc
Author: Ian Osgood <iano@quirkster.com>
Date:   Thu May 4 14:29:03 2006 -0700

    Fix the XCB backend build for the XCB 0.9 release.
    
    * use split out xcb-render package
    * fix deprecated calls
    * use XCB-specific symbols

 configure.in            |    2 +-
 src/cairo-xcb-surface.c |   12 ++++++------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 450e29ce091e352569518bb5d6a9bf5236f14bfe
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 14:24:18 2006 -0700

    pixman: Remove potential memory leak in failure path.
    
    Thanks to Petr Kobalicek <kobalicek.petr@gmail.com> for pointing this out.

 pixman/src/ictri.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit ec94f0a7e2e82bee3973f4c64eb23bb60cac846c
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 12:50:50 2006 -0700

    Remove trailing comma in enum to pander to non-C99-conformant compilers

 src/cairo.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 457132fc2b1380cfd189ecec2f4ab1c02cd22fe4
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu May 4 21:41:36 2006 +0200

    SVG: Don't test rectangle-rounding-error.
    
    This test uses CAIRO_ANTIALIAS_NONE, which is not supported yet by
    the SVG backend.

 test/cairo-test.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit f6748ad030a6b6b7fdf5e43d7636c6641c48c673
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu May 4 21:40:17 2006 +0200

    SVG: Add reference image for tests failing on composited image misplacement.
    
    There's a bug in librsvg/cairo that offsets composited images by half a pixel.
    http://bugzilla.gnome.org/show_bug.cgi?id=330055

 ...osite-integer-translate-over-svg-argb32-ref.png |  Bin 0 -> 15465 bytes
 ...posite-integer-translate-over-svg-rgb24-ref.png |  Bin 0 -> 15465 bytes
 test/paint-source-alpha-svg-argb32-ref.png         |  Bin 0 -> 353 bytes
 test/paint-source-alpha-svg-rgb24-ref.png          |  Bin 0 -> 353 bytes
 test/paint-with-alpha-svg-argb32-ref.png           |  Bin 0 -> 420 bytes
 test/paint-with-alpha-svg-rgb24-ref.png            |  Bin 0 -> 420 bytes
 test/scale-source-surface-paint-svg-argb32-ref.png |  Bin 0 -> 146 bytes
 test/scale-source-surface-paint-svg-rgb24-ref.png  |  Bin 0 -> 158 bytes
 8 files changed, 0 insertions(+), 0 deletions(-)

commit 720edfe865fde9dff49198edaa9029a989045334
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu May 4 18:53:51 2006 +0200

    SVG: Add reference images for push-groups test.
    
    Tests just fail for a one digit color on error.

 test/push-group-svg-argb32-ref.png |  Bin 0 -> 2945 bytes
 test/push-group-svg-rgb24-ref.png  |  Bin 0 -> 2901 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit a3997501fad548988135e1aff6b906e96a9b744c
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu May 4 18:40:37 2006 +0200

    SVG: Update reference images for shrinked tests.

 test/linear-gradient-svg-argb32-ref.png |  Bin 12707 -> 947 bytes
 test/linear-gradient-svg-rgb24-ref.png  |  Bin 12707 -> 947 bytes
 test/text-pattern-svg-argb32-ref.png    |  Bin 2643 -> 1720 bytes
 test/text-pattern-svg-rgb24-ref.png     |  Bin 2490 -> 1567 bytes
 4 files changed, 0 insertions(+), 0 deletions(-)

commit 135449ae03e74910c9ac359772d4ad790f6b7bed
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu May 4 18:06:06 2006 +0200

    SVG: Fix the previous fix for xlink namespace.
    
    It seems libxml2 2.6.24 now requires a node using xlink
    namespace to be linked to a node where it can find this
    namespace.

 src/cairo-svg-surface.c |   34 +++++++++++++++++++---------------
 1 files changed, 19 insertions(+), 15 deletions(-)

commit a428f11738a52ffabbde3925254278585a72aadb
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu May 4 14:18:59 2006 +0200

    SVG: Fix bug in test suite causing SVG to fail with rgb24 and device offsets.
    
    Same fix as for PDF and PS surfaces.

 test/cairo-test.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 1431a9d4d3655f488b6f6698fdc18c6d65d733b5
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 04:01:06 2006 -0700

    Clean up error management of xlib surface getter functions.

 src/cairo-xlib-surface.c |   61 ++++++++++++++++++++++-----------------------
 src/cairo-xlib.h         |    8 +++---
 2 files changed, 34 insertions(+), 35 deletions(-)

commit 4a4603d5517f4e0b014a34ec05bee42fc3640ed3
Author: Robert O'Callahan <rocallahan@novell.com>
Date:   Thu May 4 03:59:56 2006 -0700

    Add Xlib surface getter functions.
    
    Add the following five functions:
    
    cairo_public Display *
    cairo_xlib_surface_get_display (cairo_surface_t *surface);
    
    cairo_public Drawable
    cairo_xlib_surface_get_drawable (cairo_surface_t *surface);
    
    cairo_public Screen *
    cairo_xlib_surface_get_screen (cairo_surface_t *surface);
    
    cairo_public Visual *
    cairo_xlib_surface_get_visual (cairo_surface_t *surface);
    
    cairo_public int
    cairo_xlib_surface_get_depth (cairo_surface_t *surface);

 src/cairo-xlib-surface.c |   66 ++++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-xlib.h         |   15 ++++++++++
 2 files changed, 81 insertions(+), 0 deletions(-)

commit 68915fdfcb7a1c99ebd237b08192732a7409b5ec
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu May 4 12:56:06 2006 +0200

    SVG: Fix xml namespace declaration.
    
    It looks like since libxml2 2.6.24, we can't just use xmlSetProp
    for namespace declaration anymore.

 src/cairo-svg-surface.c |   24 ++++++++++++++----------
 1 files changed, 14 insertions(+), 10 deletions(-)

commit 7aa2b05e48f4431639b821661c91103d2b60b482
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 03:44:26 2006 -0700

    Add missing prototype for _cairo_clip_translate

 src/cairo-clip-private.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 7bcf957b4e2a986a94bbc29192f61b8c9c0067be
Author: Robert O'Callahan <rocallahan@novell.com>
Date:   Thu May 4 03:43:34 2006 -0700

    Rename cairo_rectangle_t to cairo_rectangle_fixed_t.
    
    This is in preparation for a later function addition for extracting
    clip rectangles from a cairo_t, (which will add a public
    cairo_rectangle_t).

 src/cairo-analysis-surface.c         |    4 +-
 src/cairo-atsui-font.c               |    2 +-
 src/cairo-beos-surface.cpp           |   44 +++++-----
 src/cairo-clip-private.h             |   18 ++--
 src/cairo-clip.c                     |   18 ++--
 src/cairo-directfb-surface.c         |   42 +++++-----
 src/cairo-glitz-surface.c            |   42 +++++-----
 src/cairo-gstate.c                   |   10 +-
 src/cairo-image-surface.c            |   28 +++---
 src/cairo-meta-surface.c             |    4 +-
 src/cairo-paginated-surface.c        |    8 +-
 src/cairo-pattern.c                  |    6 +-
 src/cairo-pdf-surface.c              |    6 +-
 src/cairo-ps-surface.c               |    6 +-
 src/cairo-quartz-private.h           |    2 +-
 src/cairo-quartz-surface.c           |   26 +++---
 src/cairo-region.c                   |   10 +-
 src/cairo-scaled-font.c              |    8 +-
 src/cairo-surface-fallback-private.h |    6 +-
 src/cairo-surface-fallback.c         |  164 +++++++++++++++++-----------------
 src/cairo-surface.c                  |   58 ++++++------
 src/cairo-svg-surface.c              |    4 +-
 src/cairo-win32-private.h            |    4 +-
 src/cairo-win32-surface.c            |   20 ++--
 src/cairo-xcb-surface.c              |   32 ++++----
 src/cairo-xlib-surface.c             |   40 ++++----
 src/cairo.c                          |    2 +-
 src/cairoint.h                       |   72 ++++++++--------
 src/test-fallback-surface.c          |   24 +++---
 src/test-meta-surface.c              |    4 +-
 src/test-paginated-surface.c         |    4 +-
 31 files changed, 358 insertions(+), 360 deletions(-)

commit d71ddec8dfcfd4a8eb39edc9f34f93dc1683a62d
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 03:05:12 2006 -0700

    ROADMAP: Note that device-offset and push-pop-group have landed.

 ROADMAP |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit fb7f7c2f27f0823d7702f960204d6e638d697624
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Tue Mar 14 15:56:08 2006 -0800

    Fix up clip at pop_group time, to keep it in surface backend coordinates
    
    We keep the clip in surface-backend coordinates always, so it needs
    fixing whenever we change the target surface out in the gstate.  The
    only place this happens is in push_group, so fix it as part of
    gstate_redirect().

 src/cairo-clip-private.h |    5 +++
 src/cairo-clip.c         |   77 +++++++++++++++++++++++++++++++++++++++++++--
 src/cairo-gstate.c       |   32 +++++--------------
 src/cairo.c              |    9 ++++-
 4 files changed, 93 insertions(+), 30 deletions(-)

commit 7fa3c6eee5a19d3486a200a6a14b96210f2b6dab
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Mar 1 17:19:45 2006 +0100

    Add push-group test and reference images

 test/push-group-ref.png       |  Bin 0 -> 3012 bytes
 test/push-group-rgb24-ref.png |  Bin 0 -> 2858 bytes
 test/push-group.c             |  119 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 119 insertions(+), 0 deletions(-)

commit ee02c1b91452e5b34af4f02d7132840a4bf44fe1
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Feb 15 13:46:53 2006 -0800

    Implement push_group/pop_group
    
    This patch adds the following API calls:
    
     cairo_push_group
     cairo_push_group_with_content
     cairo_pop_group
     cairo_pop_group_to_source
     cairo_get_group_target
    
    These methods support implementing layers on top of a cairo context,
    allowing for drawing with transparency and temporary buffering.
    cairo_get_group_target allows an app to get access to the actual surface
    created by the last push_group call, in case itneeds to perform native
    drawing to it.

 src/cairo-gstate-private.h |    4 +-
 src/cairo-gstate.c         |  214 +++++++++++++++++++++++++++++---------------
 src/cairo.c                |  150 ++++++++++++++++++++++++++++---
 src/cairo.h                |   51 ++++++-----
 src/cairoint.h             |   19 ++++
 test/Makefile.am           |    3 +-
 6 files changed, 332 insertions(+), 109 deletions(-)

commit 5e708b38e00f6b2066028c60a5526bf5d5e66356
Merge: a6b1b01 99719bd
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 01:46:34 2006 -0700

    Merge branch 'device-offset-history' into cairo

commit a6b1b014bbd12be0f20c44d38d8847181be6d3ae
Author: Carl Worth <cworth@cworth.org>
Date:   Thu May 4 01:45:41 2006 -0700

    Implement the device_offset functionality at surface, not gstate layer
    
    This is a mega-patch that has the advantage that the entire test suite
    passes both immediately before and immediately after this commit.
    
    The disadvantage of the mega-patch is that it does not reflect the
    development history of the device-offset branch, (with its various
    fumblings and flailings). To capture that history, we will next merge
    in that branch.

 src/cairo-clip.c             |   11 ++
 src/cairo-gstate.c           |   61 +++-------
 src/cairo-path.c             |   46 +++++++
 src/cairo-ps-surface.c       |    6 +-
 src/cairo-scaled-font.c      |    8 +-
 src/cairo-surface-fallback.c |   64 ++++-----
 src/cairo-surface.c          |  292 ++++++++++++++++++++++++++++++++++--------
 src/cairo-traps.c            |   49 +++++++-
 src/cairo-xlib-surface.c     |    4 +-
 src/cairo.h                  |    5 +
 src/cairoint.h               |   19 +++-
 test/buffer-diff.c           |    8 +-
 test/cairo-test.c            |   23 ++++
 13 files changed, 444 insertions(+), 152 deletions(-)

commit 99719bde9ee0697bd43d97f034ccf4058c9484a0
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 10 14:57:08 2006 -0800

    Move device-offset touchups from the surface layer up to the gstate.
    
    This fixes the self-copy test which was the last one that was really
    failing due to device offsets.

 src/cairo-gstate.c  |   16 ++++++++++++++++
 src/cairo-surface.c |   12 ------------
 2 files changed, 16 insertions(+), 12 deletions(-)

commit ee687d722a315ff9cefd8755ca38b194187a693c
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 14:39:44 2006 -0800

    Add support to handle the device-offset of a source surface.
    
    This change caused all self-copy failures to now pass.
    But, it also causes all previous self-copy passes to now fail.

 src/cairo-surface.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit ea2faa5fae619a6b813348eda925060f3ed16ee3
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 14:38:20 2006 -0800

    Rip out device_{x,y}_scale.
    
    This device scale stuff is currently not being used. However it is also adding
    complexity to the current device-offset rework. And since it's not being tested
    I'm sure we're getting it wrong. It's better to not even have it here rather
    than having it be broken.

 src/cairo-clip.c             |    8 ++---
 src/cairo-path.c             |   25 ++++++++++++------
 src/cairo-ps-surface.c       |    6 +---
 src/cairo-surface-fallback.c |    2 -
 src/cairo-surface.c          |   56 ++++++++++-------------------------------
 src/cairoint.h               |   12 +++-----
 6 files changed, 41 insertions(+), 68 deletions(-)

commit 0e230727f8f925b85fffd0359195be4a704fed69
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 14:01:30 2006 -0800

    Prefer classic C style comments rather than C++/C99-style

 src/cairo-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f9333e9975cbb3a0e167de1f78076eb779da4317
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 14:01:10 2006 -0800

    Remove dead code from _cairo_surface_{acquire,release}_dest_image

 src/cairo-surface.c |   35 ++++-------------------------------
 1 files changed, 4 insertions(+), 31 deletions(-)

commit f66ce88e0ec1ef91bb85e795fd53a99f71877e4a
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 13:42:16 2006 -0800

    cairo_surface_mark_dirty_rectangle: correct sense of device-offset handling

 src/cairo-surface.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 460820cb58b9a9e893cdb2d48d1457defe797246
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 13:39:55 2006 -0800

    Remove undesired device-offset handling during unbounded fixups.
    
    This code was already commented as being suspicious and its removal causes some
    tests to start passing once again.

 src/cairo-surface.c |   12 ------------
 1 files changed, 0 insertions(+), 12 deletions(-)

commit b0c047ad95957b46922bbb4f6320a4a7b0c32726
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 13:37:32 2006 -0800

    _cairo_surface_show_glyphs: Fix reversed device-offset handling so text works again.

 src/cairo-surface.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ee1c642cd85fc4d5408d65578cc9ca48ee4b58cc
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 9 13:36:30 2006 -0800

    cairo-surface.c: Correct reversed semantics of SURFACE_TO_BACKEND and BACKEND_TO_SURFACE

 src/cairo-surface.c |   56 +++++++++++++++++++++++++-------------------------
 1 files changed, 28 insertions(+), 28 deletions(-)

commit a5cb54621259d0a6057543bc0e4edd4d16216007
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 15:02:35 2006 -0800

    _cairo_surface_set_clip_region: Remove device-offset handling that is
    
    now taken care of in _cairo_clip_clip.

 src/cairo-surface.c |   36 ------------------------------------
 1 files changed, 0 insertions(+), 36 deletions(-)

commit 69affa5fafe41edf6c88af7722538b550804284c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 14:51:57 2006 -0800

    Move device-offset handling for clipping from _cairo_surface_interesect_clip_path
    
    to the more general _cairo_clip_clip to handle more cases correctly.

 src/cairo-clip.c    |   13 +++++++++++++
 src/cairo-surface.c |   17 +----------------
 src/cairoint.h      |    3 +++
 3 files changed, 17 insertions(+), 16 deletions(-)

commit 50dcd4d1ac3d4b90bcea04e53836d73b8e7c1aa4
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 12:58:13 2006 -0800

    _cairo_surface_copy_pattern_for_destination: Don't do any transform if there is no offset

 src/cairo-surface.c |   20 +++++++++++---------
 1 files changed, 11 insertions(+), 9 deletions(-)

commit 6d212c9e391ad8fc5b273269a54740790cbb1ee3
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 12:51:46 2006 -0800

    _cairo_surface_copy_pattern_for_destination: Remove leaking second call to pattern_init_copy

 src/cairo-surface.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 81e469523fbc83b9ddcd74a6be5d8137a6d71c38
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 12:44:49 2006 -0800

    Abstract away repeated test as _cairo_surface_has_device_offset_or_scale

 src/cairo-surface.c |   34 ++++++++++++++--------------------
 1 files changed, 14 insertions(+), 20 deletions(-)

commit 4ed3e60a25a877f65b82cf7c426659a89d195728
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 11:56:27 2006 -0800

    _cairo_surface_copy_pattern_for_destination: Fix transformation sign/order.
    
    This allows the scale-source-surface-paint test to start passing again
    at least.

 src/cairo-surface.c |   26 ++++++++++++--------------
 1 files changed, 12 insertions(+), 14 deletions(-)

commit d3ff6f0e4b17972361c28f490eaf05222ac97e10
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 11:54:33 2006 -0800

    _cairo_surface_fallback_composite_trapezoids: Remove unused variable.

 src/cairo-surface-fallback.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 46a1f40b7d1787b570a8381a914a372400ef39a9
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Thu Mar 2 15:05:32 2006 +0100

    Move device offsets handling into high-level operations only (stroke/fill/paint/etc)
    
    Remove all device offsets handling from internal cairo_surface methods,
    which will become truly internal shortly.  Have all device offsets
    handled by top-level entry points (stroke/fill/paint/show_glyphs/mask, and
    clipping).

 src/cairo-scaled-font.c |    3 +-
 src/cairo-surface.c     |  402 +++++++++++++++++++++++------------------------
 2 files changed, 201 insertions(+), 204 deletions(-)

commit 6197d5a7618900f25155af16b91f082ee05ddd03
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 1 11:54:21 2006 +0100

    Fix bug in test suite causing PS and PDF to fail with rgb24 and device offsets.
    
    Patch from cworth@cworth.org.
    
    The trick with this one is that the test suite is using device offsets
    in a rather fabricated way, and the final copy from an offset surface
    to a non-offset surface is between two surfaces of the same size, so
    must be 1:1. To get this we turn the device offset off before the
    copy.
    
    In a more conventional use of device offsets the surfaces would be of
    different sizes, and the offset would be desired during the copy.

 test/cairo-test.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 51cf7900e4987d18173ded806988d412752717f5
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Mar 1 11:23:15 2006 +0100

    Take device offsets into account when compositing scaled glyph images
    
    Scaled glyph image surfaces have device offsets set on them to indicate
    the location of the glyph origin; however, those offsets weren't being
    taken into account for the call to composite, so the glyphs were
    being doubly-offset by this amount.

 src/cairo-scaled-font.c  |   11 ++++++-----
 src/cairo-xlib-surface.c |    4 ++--
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 4894f5a234959a0e50269c1adcc6b4faf08ba053
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Feb 15 13:46:52 2006 -0800

    Implement device offset/scale at cairo-surface layer
    
    This patch implements device offset/scale at the cairo-surface layer,
    instead of them just being multiplied into the CTM at operation time.
    This allows identical drawing operations/clips/paths/etc. to operate
    identically on a surface with or without a device offset (and still
    have things end up in the same place relative to the dev offset).

 src/cairo-gstate.c           |   47 +-----
 src/cairo-path.c             |   37 ++++
 src/cairo-surface-fallback.c |   65 ++++----
 src/cairo-surface.c          |  375 ++++++++++++++++++++++++++++++++++++++----
 src/cairo-traps.c            |   49 ++++++-
 src/cairo.h                  |    5 +
 src/cairoint.h               |   14 ++
 test/buffer-diff.c           |    8 +-
 test/cairo-test.c            |    5 +
 9 files changed, 488 insertions(+), 117 deletions(-)

commit 40b39dddf9cd919fb2f456a8e296a60cc8296fbf
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 10 16:37:50 2006 -0800

    Shrink the size of a couple of tests (and update reference images).
    
    Shrink linear-gradient and text-pattern test outuput.
    
    The real motivation for this is to hide an annoying difference in the
    gradient output that occurs when under the influence of a device
    offsets. My opinion is that the gradient output should not change due
    to just an integer offset, but we currently don't have a precise
    gradient specification, so this minor deviation really isn't relevant.
    
    A better fix for this might have been to make the test suite more
    forgiving of tiny differences, (perhaps on a per-test basis), but
    another advantage of shrinking these tests is that they now run a lot
    faster.
    
    It is true that these tests now also exercise fewer different output
    values, but that's not the designed purpose of the tests so I don't
    feel bad about losing that characteristic.

 test/linear-gradient-ref.png    |  Bin 12750 -> 972 bytes
 test/linear-gradient.c          |    6 +++---
 test/text-pattern-ref.png       |  Bin 2725 -> 1721 bytes
 test/text-pattern-rgb24-ref.png |  Bin 2339 -> 1423 bytes
 test/text-pattern.c             |    4 ++--
 5 files changed, 5 insertions(+), 5 deletions(-)

commit b3e2252b94297b7fbdbd3a3776781ea6df7c8bc6
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Feb 15 13:46:52 2006 -0800

    Augment test framework to test everything under device offsets as well.
    
    [With this change, two tests with gradients exhibit subtle differences
    under device offsets. I don't think we actually care about them
    though. -cworth]

 test/.gitignore     |   36 ++-------------
 test/buffer-diff.c  |   98 +++++++++++++++++++++++++++++-----------
 test/buffer-diff.h  |   21 +++++++--
 test/cairo-test.c   |  111 +++++++++++++++++++++++++++++-----------------
 test/imagediff.c    |   45 +++++--------------
 test/make-html.pl   |  124 ++++++++++++++++++++++++++++-----------------------
 test/xlib-surface.c |    4 ++
 7 files changed, 244 insertions(+), 195 deletions(-)

commit 7beb3e27a552c724bbdb147bc27b775af0d61063
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 16:45:33 2006 -0700

    Quiet some 'may be used uninitialized' warnings.

 src/cairo-lzw.c         |    4 ++--
 src/cairo-pdf-surface.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8a174a11395af97bf1bffeca7a6ee8e5c1d50281
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 13:20:07 2006 -0700

    Add test/pdf-features.c missing from an earlier commit

 test/pdf-features.c |  150 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 150 insertions(+), 0 deletions(-)

commit 7c825797c85fca79ea1229d49cf3ae1b24b6daf2
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 13:18:40 2006 -0700

    Add pdf2svg utility for manual testing (not used in test suite)

 test/.gitignore  |    1 +
 test/Makefile.am |    5 +++
 test/pdf2svg.c   |  101 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 107 insertions(+), 0 deletions(-)

commit 6f9aa014aeee03bd6acc31124de05cfd931a88e1
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 13:13:10 2006 -0700

    ROADMAP: Note that PDF per-page size setting is done. Sort things that appear in 1.1.4

 ROADMAP |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit c35bfffa1057cfe2aeca6fe681ea59aa628f5315
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 12:39:45 2006 -0700

    Add new pdf-features test to exercise cairo_pdf_surface_set_size

 test/.gitignore  |    2 ++
 test/Makefile.am |    5 +++++
 2 files changed, 7 insertions(+), 0 deletions(-)

commit eb1b102e9a9e16cfc38948f8d37e08f263d10f7c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 12:39:23 2006 -0700

    PDF: Add new cairo_pdf_surface_set_size for doing per-page size changes

 src/cairo-pdf-surface.c |   90 +++++++++++++++++++++++++++++++++++++++--------
 src/cairo-pdf.h         |    5 +++
 2 files changed, 80 insertions(+), 15 deletions(-)

commit 5448278d6e9c7452f855f8b262295818b27c5a11
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 12:38:49 2006 -0700

    ps-features: Minor touchups (missing include, typo in error message)

 test/ps-features.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit a4fc0c2e2c9ce52750f43dabc2be5daeb8aee9c4
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 11:10:24 2006 -0700

    PS: Use ceil, not rounding when computing integers for BoundingBox

 src/cairo-ps-surface.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit e91b2c87ccf75e1c4935f1593dfdd10b1992de34
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed May 3 14:53:25 2006 +0200

    SVG: Emit "svg" version in document_finish.
    
    At least when there's something valid in document->svg_version.

 src/cairo-svg-surface.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 5336cf5a984cdeb4d4887cd3c643a3e051aca338
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed May 3 14:47:01 2006 +0200

    SVG: Only "comp-op" property when svg_version >= 1.2

 src/cairo-svg-surface.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit 57ddc7a8699eac61af2086546130081b897aa3a2
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed May 3 14:29:54 2006 +0200

    SVG: Emit correct version property of "svg" element.

 src/cairo-svg-surface.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 3ee4bae92071b63ace5570795cf57cb94b06257d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 01:58:03 2006 -0700

    Increment CAIRO_VERSION to 1.1.5 after making the 1.1.4 snapshot

 configure.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 044bc5b2a51558046bc2d0bc3a8a50897571674a
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 01:31:51 2006 -0700

    Update version to 1.1.4 and add notes to NEWS file.
    
    Also update libtool version information to 7:0:5.

 NEWS |   65 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 65 insertions(+), 0 deletions(-)

commit 7cf6bcaeca168394074413925c35c0cf2f3fb12a
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 01:29:24 2006 -0700

    RELEASING: Replace references to ChangeLog with git log commands (and improve those)

 RELEASING    |   25 ++++++++++++++-----------
 configure.in |    6 +++---
 2 files changed, 17 insertions(+), 14 deletions(-)

commit 65dd361c49a984a508cb53153a45612028fa49ef
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 01:18:06 2006 -0700

    SVG: Enable the SVG backend to be built by default (if dependencies are met)

 configure.in |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6acc836df28e0e97e4d0a146c96f04f9a4db30c4
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 00:57:28 2006 -0700

    Add backend-specific reference images to EXTRA_DIST so they'll go out in the tar file.

 test/Makefile.am |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit b6fefaef9bd280715366a44d9f0bef91471e8e3a
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 00:56:34 2006 -0700

    ROADMAP: Indicate that PS printing-oriented API is done now.

 ROADMAP |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 09dfd6c3c16ed36b0e9693cfcbb3b679bd18f585
Author: Carl Worth <cworth@cworth.org>
Date:   Wed May 3 00:26:22 2006 -0700

    PS: Add three new public functions for emitting DSC comments.
    
    This commit adds the following new functions to the cairo-ps API:
    
    	cairo_ps_surface_dsc_comment
    	cairo_ps_surface_dsc_begin_setup
    	cairo_ps_surface_dsc_begin_page_setup
    
    Many thanks are due to Michael Sweet who provided invaluble guidance
    during the design of this API.
    
    It is hoped that with this API in place, basically all printer control
    that is likely to be desired to be performed with cairo PostScript
    output is now possible.
    
    This commit augments the ps-features test to exercise the new API.

 doc/public/tmpl/cairo-status.sgml |    1 +
 src/cairo-array.c                 |    4 +-
 src/cairo-ps-surface.c            |  271 ++++++++++++++++++++++++++++++++++++-
 src/cairo-ps.h                    |   12 ++-
 src/cairo.c                       |    4 +-
 src/cairo.h                       |    4 +-
 test/ps-features.c                |   54 +++++---
 7 files changed, 325 insertions(+), 25 deletions(-)

commit 253472492ee2a690646a30b32cf8180f5b6e3299
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 2 16:54:49 2006 -0700

    pdf2png: Use new poppler_page_render to render directly through cairo.
    
    ...as opposed to using poppler_page_render_to_pixbuf.

 test/pdf2png.c |   38 +++++++++++++++++++++++++++-----------
 1 files changed, 27 insertions(+), 11 deletions(-)

commit e7459428dc87f7372dd7d5bd903341d619ee726f
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue May 2 23:37:23 2006 +0200

    SVG: Convert SVG file with a resolution of 72 dpi.
    
    That means 1 point = 1 pixel

 test/svg2png.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 1264ae9af4f4aa3bc9f6495e84a7888cd16809da
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue May 2 23:35:06 2006 +0200

    SVG: Really use width and height in point unit.
    
    I guess it makes more sense to use a unit for
    specifying image size that doesn't depend on context.

 src/cairo-svg-surface.c |   25 +++++++++++++++++++++++--
 1 files changed, 23 insertions(+), 2 deletions(-)

commit 773692b7df9f0ccf250f259c1bc430c343765651
Merge: bd85701 8488aae
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue May 2 21:52:41 2006 +0200

    Merge branch 'master' of git+ssh://emmanuel@git.cairographics.org/git/cairo

commit bd85701b4f97f0750df050c1a8d995f103a52fc1
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue May 2 21:48:11 2006 +0200

    SVG: Minor documentation fixes.

 src/cairo-svg-surface.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 8488aaee1a8f25d3cc9bf2af986b32710cea91f0
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 2 12:36:23 2006 -0700

    PS: Add cairo_ps_surface_set_size along with ps-features test
    
    Add a new cairo_ps_surface_set_size which can be used to produce a
    PostScript file consisting of pages of various different sizes (or
    orientations).
    
    Also add a new test (ps-features.c) for testing this and subsequent
    ps-specific function calls.

 src/.gitignore         |    1 +
 src/cairo-ps-surface.c |  113 +++++++++++++++++++++++++++++++++------
 src/cairo-ps.h         |    5 ++
 test/.gitignore        |    2 +
 test/Makefile.am       |    5 ++
 test/ps-features.c     |  135 ++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 243 insertions(+), 18 deletions(-)

commit e59f35291fa5f97acfe408b7bce8652ec20566c8
Author: Carl Worth <cworth@cworth.org>
Date:   Tue May 2 11:36:41 2006 -0700

    atsui: Add missing check of return-value of malloc.
    
    This addresses the original problem noted in mozilla's bug #336129:
    
    	Missing out-of-memory check at gfx/cairo/cairo/src/cairo-atsui-font.c:185
    	https://bugzilla.mozilla.org/show_bug.cgi?id=336129
    
    This also adds a comment pointing out another malloc that is not
    checked, (but does not fix it).

 src/cairo-atsui-font.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 41e288a88023cac9ced77099bceced41cf526a99
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 1 15:44:58 2006 -0700

    Make backend-specific function set a surface error on type mismatch.
    
    If any backend-specific, surface-modifying function is called with
    the wrong surface type we set an error on that surface.

 src/cairo-surface.c      |    2 +-
 src/cairo-xcb-surface.c  |    5 +++--
 src/cairo-xlib-surface.c |   19 +++++++++++--------
 src/cairoint.h           |    4 ++++
 4 files changed, 19 insertions(+), 11 deletions(-)

commit 0e4527c67e623801544be05de32f21a0c10e5b5d
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue May 2 14:50:40 2006 +0200

    SVG: Rework of API for SVG selection.
    
    I've removed cairo_svg_surface_create_xxx functions, and instead implemented
    the following ones:
    
    cairo_svg_surface_restrict_to_version
    cairo_svg_get_versions
    cairo_svg_version_to_string

 doc/public/cairo-sections.txt  |    7 +-
 doc/public/tmpl/cairo-svg.sgml |   79 ---------------
 src/cairo-svg-surface.c        |  209 ++++++++++++++++-----------------------
 src/cairo-svg.h                |   41 ++++----
 4 files changed, 109 insertions(+), 227 deletions(-)

commit 32f120e4888fd9344f699fd47c1aea6a5ec3df8e
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 1 15:12:46 2006 -0700

    Don't return void from void-returning function (fix #6792).
    
    It's a dumb part of the C standard and it's even dumber when compilers are
    picky about it. But oh, well.

 src/cairo-paginated-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit df2f05876d754ecc4fbc5aee53080bdd672d0de9
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 1 14:54:57 2006 -0700

    ROADMAP: Mark bug #4705 as fixed.

 ROADMAP |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 87bd00326e0b6ac2ac29939d0ab1e59d9ab05a47
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 1 14:52:25 2006 -0700

    Fix silly typo from previous commit.

 src/cairo-xlib-surface.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 8dff692db6e7083633fc9b81548b0554a985fabd
Author: Carl Worth <cworth@cworth.org>
Date:   Mon May 1 10:17:08 2006 -0700

    Support multiple glyph image formats within the same font (fix #4705).
    
    If we find a glyph image of a format that is different from the font's
    format, then we use a temporary image and convert to the font's
    format.
    
    This provides a simple fix for the crash identified in bug #4705:
    
    	crash at XRenderAddGlyphs
    	https://bugs.freedesktop.org/show_bug.cgi?id=4705
    
    A later improvement would guarantee that the "font's format" was
    carefully chosen to be able to contain all glyphs in the font without
    information loss.

 src/cairo-xlib-surface.c |   61 ++++++++++++++++++++++++++++++++++++----------
 1 files changed, 48 insertions(+), 13 deletions(-)

commit 0c927c53880f9ece2903a9b2c7843aaff1c78dec
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 23:23:02 2006 +0200

    SVG: Add reference images for tests failing on 1 digit error on color.

 test/caps-joins-alpha-svg-argb32-ref.png |  Bin 0 -> 2454 bytes
 test/caps-joins-alpha-svg-rgb24-ref.png  |  Bin 0 -> 2454 bytes
 test/linear-gradient-svg-argb32-ref.png  |  Bin 0 -> 12707 bytes
 test/linear-gradient-svg-rgb24-ref.png   |  Bin 0 -> 12707 bytes
 test/mask-ctm-svg-argb32-ref.png         |  Bin 0 -> 108 bytes
 test/mask-ctm-svg-rgb24-ref.png          |  Bin 0 -> 118 bytes
 test/mask-surface-ctm-svg-argb32-ref.png |  Bin 0 -> 108 bytes
 test/mask-surface-ctm-svg-rgb24-ref.png  |  Bin 0 -> 118 bytes
 test/mask-svg-argb32-ref.png             |  Bin 0 -> 87715 bytes
 test/mask-svg-rgb24-ref.png              |  Bin 0 -> 81874 bytes
 test/set-source-svg-argb32-ref.png       |  Bin 0 -> 104 bytes
 test/set-source-svg-rgb24-ref.png        |  Bin 0 -> 104 bytes
 test/trap-clip-svg-argb32-ref.png        |  Bin 0 -> 71765 bytes
 test/trap-clip-svg-rgb24-ref.png         |  Bin 0 -> 73066 bytes
 14 files changed, 0 insertions(+), 0 deletions(-)

commit e3b3402eb82786c4b1faf0d25b6ed322bf5545aa
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 23:21:37 2006 +0200

    SVG: Correct use of paginated surface. Fix emit of alpha filter.

 src/cairo-svg-surface.c |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit 8e5ada5201dd8a39026e8973d2590fec5ebf2d00
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:53:46 2006 +0200

    SVG: Trivial indentation and comment fixes.

 src/cairo-svg-surface.c |   31 ++++++++++++++++++-------------
 1 files changed, 18 insertions(+), 13 deletions(-)

commit 62831dc10ec7601869a01041c845d5dc2f15db49
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:53:12 2006 +0200

    SVG: Remove outdated comment.

 src/cairo-svg-surface.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 22c799d5b3cae2a98ab927b2b38911ac89cac61e
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:52:47 2006 +0200

    SVG: Fix error handling in create_for_document and in composite_image_pattern.

 src/cairo-svg-surface.c |   20 ++++++++++++--------
 1 files changed, 12 insertions(+), 8 deletions(-)

commit 6f49f7b76d69c185d6f97e50d8a57914a9a9fca1
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:51:25 2006 +0200

    SVG: Add an additionnal API for creating SVG 1.1 or 1.2 files.
    
    And update documentation.

 doc/public/cairo-sections.txt  |    4 +
 doc/public/tmpl/cairo-svg.sgml |   46 +++++++++++
 src/cairo-svg-surface.c        |  164 +++++++++++++++++++++++++++++++++------
 src/cairo-svg.h                |   18 +++++
 4 files changed, 206 insertions(+), 26 deletions(-)

commit 2e4d0e5ba71fc320e2b96526a28b654231cb9dbe
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:50:42 2006 +0200

    SVG: Some variable/type renaming.

 src/cairo-svg-surface.c |   50 +++++++++++++++++++++++-----------------------
 1 files changed, 25 insertions(+), 25 deletions(-)

commit e5ea8268b0c693b7b0940d2f638c94dff93e8d9b
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:49:58 2006 +0200

    SVG: Reenable optimisation of CLEAR and SOURCE in paint when there's
    no active clipping path.

 src/cairo-svg-surface.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 55685d7173adc2e13c21f8830aa38ffc7d1e026f
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:49:29 2006 +0200

    SVG: Code cleanup.

 src/cairo-svg-surface.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 926bb6480c0542a0928e8b109009be4b24c81344
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:47:41 2006 +0200

    SVG: Initial support of operators support via image fallbacks.
    
    We need to add a public API that will let user select
    a compatibility level regarding produced SVG files.
    
    This patch also plugs a memleak.

 src/cairo-svg-surface.c |  100 +++++++++++++++++++++++++++++++---------------
 1 files changed, 67 insertions(+), 33 deletions(-)

commit 061d5088985a5e0b16202a4f031938772749940a
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:43:15 2006 +0200

    SVG: Sort of working implementation of a SVG backend with paginated surface
        support.
    
            Unoptimized and with memory leaks.

 src/cairo-svg-surface.c |  134 ++++++++++++++++++++++++++++++++++-------------
 1 files changed, 97 insertions(+), 37 deletions(-)

commit 59dcb95ce5fed8264bc161979e615609c38ace2d
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:41:12 2006 +0200

    SVG: First pass for analyze-surface support

 src/cairo-svg-surface.c |   92 +++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 85 insertions(+), 7 deletions(-)

commit 0625d4cd3fb6145e7f9a7474d03945a497b12406
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:15:38 2006 +0200

    SVG: Ignore SVG test files.

 test/.gitignore |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit d1dcbbb8c34ed160d2b24a9afc8f30ac9de87d91
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue Apr 25 22:48:21 2006 +0200

    SVG: Update rgb24 reference files.
    (cherry picked from 7173951535f4b95da37cbf3d51143deeec95e47a commit)

 test/show-text-current-point-svg-rgb24-ref.png |  Bin 4236 -> 2398 bytes
 test/text-antialias-gray-svg-rgb24-ref.png     |  Bin 1077 -> 1033 bytes
 test/text-antialias-none-svg-rgb24-ref.png     |  Bin 1077 -> 1033 bytes
 test/text-antialias-subpixel-svg-rgb24-ref.png |  Bin 1077 -> 1033 bytes
 test/text-pattern-svg-rgb24-ref.png            |  Bin 2428 -> 2490 bytes
 5 files changed, 0 insertions(+), 0 deletions(-)

commit bdc1c1ac783f1d2bda742ea7150de2c4b0751a29
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:12:20 2006 +0200

    Copy content property when doing a snapshot of a meta surface.

 src/cairo-meta-surface.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 6a33993b1510d1c0d311f4a10832ab2bc5ea8f4e
Merge: b920dfd 3aa5d76
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 22:01:38 2006 +0200

    Merge branch 'origin'

commit b920dfd3df7ac1a0e49b7417b710f111a3780700
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon May 1 21:59:53 2006 +0200

    SVG: Reenable operator tests, and rgb24 surface are meta-surfaces.

 test/cairo-test.c |   10 +---------
 1 files changed, 1 insertions(+), 9 deletions(-)

commit 3aa5d76d23ad9005d296fbb852e75924b0933c82
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Apr 29 14:28:21 2006 -0700

    Add missing file leaky-dash-ref.png

 test/leaky-dash-ref.png |  Bin 0 -> 241 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit 516ac16de1ac0cab8e2972e2ac1443fd58c39746
Author: Henning Noren <henning.noren.402@student.lu.se>
Date:   Fri Apr 28 07:04:56 2006 -0700

    Fix PS Surface Memleak
    
    Fixes leak of 16 bytes when calling _cairo_ps_surface_finish by never freeing
    the closure allocated in _word_wrap_stream_create.

 src/cairo-ps-surface.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit 9729fe60246c7d98ddc1f690b924cd10daabf096
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 27 09:54:58 2006 -0700

    Add line-width-scale test to demonstrate cairo_set_line_width bug

 test/.gitignore                         |    1 +
 test/Makefile.am                        |    2 +
 test/line-width-scale-ps-argb32-ref.png |  Bin 0 -> 1470 bytes
 test/line-width-scale-ref.png           |  Bin 0 -> 4884 bytes
 test/line-width-scale.c                 |  184 +++++++++++++++++++++++++++++++
 5 files changed, 187 insertions(+), 0 deletions(-)

commit 5821d88119740dbbd489909f3bde2f41c7e7ce71
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 27 11:45:26 2006 -0700

    Correct documentation to say "user space", not "user-space" where appropriate.

 src/cairo.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 5515191f84bb837383278495f1f7034e7a97bdce
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue Apr 25 21:55:56 2006 +0200

    Use CLEAR operator in mask.c in order to not trig image fallback
    for polygon masking.
    (cherry picked from 30b2d1c5df9d1c6b536838a6a3407fdfa7198e29 commit)

 test/mask.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 9bca27a1adc89b12905ec95ebb4e006830010df1
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sun Apr 23 22:55:37 2006 +0200

    Optimisation of CLEAR operator in meta-surface.
    
    This optimisation takes care to not replay what was done
    before surface is cleared. We don't erase recorded commands
    since we may have earlier snapshots of this surface.
    (cherry picked from 926e2494ca2211e9117ab70fc427208d125e1bd5 commit)

 src/cairo-meta-surface-private.h |    3 +++
 src/cairo-meta-surface.c         |   14 +++++++++++++-
 2 files changed, 16 insertions(+), 1 deletions(-)

commit a7320589207088351c035df55644f1d94600f313
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Apr 20 22:07:52 2006 +0200

    Implement paginated create_similar, moving similar images down to PS and PDF.
    
    The new paginated create_similar simply forwards to target backend create_similar.
    
    We maintain the fact that PS and PDF surfaces are returning image
    surfaces for create_similar by moving that explicitly to their own
    create_similar functions.
    
    (This commit is the combination of the following original commits:
    
    	6b69e8c012adb4f2fc2ee9c1579fed8214e8f510
    	2589db92a4395f8e900dbc4eafc45982f0d985d3
    )

 src/cairo-paginated-surface.c |    9 +--------
 src/cairo-pdf-surface.c       |    7 ++++---
 src/cairo-ps-surface.c        |   15 ++++++++++++++-
 3 files changed, 19 insertions(+), 12 deletions(-)

commit e1be80b02080955e29d17c50118471158593b86f
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 27 06:02:46 2006 -0700

    paginated: Remove memory leak of analysis surface from _paint_page
    
    Thanks to Henning Noren <henning.noren.402@student.lu.se> for pointing this out.

 src/cairo-paginated-surface.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 09a51a4e037473fc104c788c87730b7e97d9fd26
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 27 05:44:57 2006 -0700

    Add reference to cairo_surface_set_user_data in docs. for cairo_image_surface_create_for_data

 src/cairo-image-surface.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 08733a2228ac4b2739355b536adf955d982a40f0
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 26 21:22:58 2006 -0700

    Move 1.4 schedule up. Add more bugs from sunmoon1997
    
    To hit the Firefox 3 schedule in early 2007 we'll need to have a 1.4 release
    out much sooner. Let's shoot for October 2006 which gives 6 months between
    1.2 and 1.4.
    
    Also, sunmoon1997 has identified a couple more important issues to be fixed
    before 1.2 releases.

 ROADMAP |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit b10a0a9a21216bd4ddcc53a566aac409333ef294
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 26 15:13:41 2006 -0700

    Add a couple more items to the 1.2.0 ROADMAP

 ROADMAP |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c7a45ab49b98225152542370905b593bb8a14188
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 26 14:42:20 2006 -0700

    Update ROADMAP with suggestions from discussion of 1.1.2 snapshot

 ROADMAP |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 9ab4b81a096bd5f9839b90cb2a3cdafa2460fd55
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Thu Apr 27 00:51:01 2006 +0200

    Use a single LDADD variable instead of a per-test one
    to avoid repeating the list of tests.

 test/Makefile.am |   93 ++++-------------------------------------------------
 1 files changed, 7 insertions(+), 86 deletions(-)

commit 7601a07ae942be8e63263ab7c7e559d7665c3b81
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 26 14:34:02 2006 -0700

    Remove cairo.def from the generated tar file. It's not useful there.

 ROADMAP         |  230 ++++++++++++++++++++++++++++---------------------------
 src/Makefile.am |    3 -
 2 files changed, 118 insertions(+), 115 deletions(-)

commit 74ec21b2a7f3435cb4f8ab152fdfb9381bb9eef6
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Wed Mar 15 14:02:14 2006 -0500

    WIN32: Define SHADEBLENDCAPS and SB_NONE if they are not defined. (from Tor Lillqvist)
    (cherry picked from d3ff5228a205ffb29e85907830d5fc72e2ef5358 commit)

 src/cairo-win32-private.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit e0a2e1fd14a53e646fb6b1a861fd9ca78aa6b603
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 26 12:51:54 2006 -0700

    Add leaky-dash test case demonstrating bug #4863.
    
    Test case for bug #4863:
    
    	stroking problems with wide dashed lines
    	https://bugs.freedesktop.org/show_bug.cgi?id=4863

 test/.gitignore   |    1 +
 test/Makefile.am  |    3 ++
 test/leaky-dash.c |   68 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 72 insertions(+), 0 deletions(-)

commit e4b3cb1e71549af6910665e99d2a0dd57e30cede
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 26 12:49:58 2006 -0700

    Remove deleted reference images from Makefile.am

 test/Makefile.am |   33 +--------------------------------
 1 files changed, 1 insertions(+), 32 deletions(-)

commit 7110c168f7edadcedaea74a73b7ac6f095165931
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 26 12:36:22 2006 -0700

    Remove redeundant -rgb24-ref.png images.
    
    In several cases the -rgb24 reference images were identical to the -ref images.
    So we change the logic to find the latter if the former doesn't exist, and then
    we remove the redundant images.

 test/a8-mask-rgb24-ref.png                         |  Bin 128 -> 0 bytes
 test/cairo-test.c                                  |   20 +++++++++++++-------
 test/caps-joins-alpha-rgb24-ref.png                |  Bin 2283 -> 0 bytes
 test/caps-joins-rgb24-ref.png                      |  Bin 1398 -> 0 bytes
 test/caps-sub-paths-rgb24-ref.png                  |  Bin 186 -> 0 bytes
 test/clip-all-rgb24-ref.png                        |  Bin 114 -> 0 bytes
 ...ite-integer-translate-over-repeat-rgb24-ref.png |  Bin 353 -> 0 bytes
 .../composite-integer-translate-over-rgb24-ref.png |  Bin 13041 -> 0 bytes
 ...omposite-integer-translate-source-rgb24-ref.png |  Bin 14017 -> 0 bytes
 test/create-from-png-rgb24-ref.png                 |  Bin 115 -> 0 bytes
 test/create-from-png-stream-rgb24-ref.png          |  Bin 115 -> 0 bytes
 test/dash-caps-joins-rgb24-ref.png                 |  Bin 2465 -> 0 bytes
 test/dash-offset-negative-rgb24-ref.png            |  Bin 170 -> 0 bytes
 test/filter-nearest-offset-rgb24-ref.png           |  Bin 254 -> 0 bytes
 test/imagediff.c                                   |   15 +++++++++------
 test/leaky-polygon-rgb24-ref.png                   |  Bin 344 -> 0 bytes
 test/line-width-rgb24-ref.png                      |  Bin 199 -> 0 bytes
 test/linear-gradient-rgb24-ref.png                 |  Bin 11700 -> 0 bytes
 test/move-to-show-surface-rgb24-ref.png            |  Bin 115 -> 0 bytes
 test/paint-rgb24-ref.png                           |  Bin 116 -> 0 bytes
 test/paint-source-alpha-rgb24-ref.png              |  Bin 248 -> 0 bytes
 test/paint-with-alpha-rgb24-ref.png                |  Bin 255 -> 0 bytes
 test/path-data-rgb24-ref.png                       |  Bin 523 -> 0 bytes
 test/rectangle-rounding-error-rgb24-ref.png        |  Bin 298 -> 0 bytes
 test/self-copy-rgb24-ref.png                       |  Bin 291 -> 0 bytes
 test/show-glyphs-many-rgb24-ref.png                |  Bin 115 -> 0 bytes
 test/show-text-current-point-rgb24-ref.png         |  Bin 2173 -> 0 bytes
 test/source-clip-rgb24-ref.png                     |  Bin 180 -> 0 bytes
 test/surface-pattern-rgb24-ref.png                 |  Bin 194 -> 0 bytes
 test/text-antialias-gray-rgb24-ref.png             |  Bin 995 -> 0 bytes
 test/text-antialias-none-rgb24-ref.png             |  Bin 284 -> 0 bytes
 test/text-antialias-subpixel-rgb24-ref.png         |  Bin 1121 -> 0 bytes
 test/transforms-rgb24-ref.png                      |  Bin 318 -> 0 bytes
 test/translate-show-surface-rgb24-ref.png          |  Bin 115 -> 0 bytes
 test/unantialiased-shapes-rgb24-ref.png            |  Bin 4449 -> 0 bytes
 35 files changed, 22 insertions(+), 13 deletions(-)

commit fe8bf47afc11b12034fd2c92caf424c8911d630b
Author: Zhe Su <james.su@gmail.com>
Date:   Tue Apr 25 10:20:42 2006 -0700

    Support fontconfig embeddedbitmap option/handle transformation issue as well.

 src/cairo-ft-font.c |   24 +++++++++++++++++++++---
 1 files changed, 21 insertions(+), 3 deletions(-)

commit 90b7a2d5fc5d195a0e521e48d17a78a98b53b224
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 09:47:30 2006 -0700

    Increment CAIRO_VERSION to 1.1.3 after making the 1.1.2 snapshot

 configure.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d5dd5e6ebc43db103071b8b86284f4e38572b053
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 09:12:30 2006 -0700

    Remove from EXTRA_DIST reference images which don't exist

 test/Makefile.am |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit e89de1030eae71da469c9c4c7176d0fdfe0df595
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 08:56:23 2006 -0700

    Change release targets as appropriate for a snapshot, not a release.
    
    The big change here is to change the upload directory to be the snapshots directory
    rather than the releases directory. We also use make dist rather than make distcheck
    since there are currently a few tests still failing.

 Makefile.am |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3d6cdc996f3a3f4d54d0d8926daa3973d69e4dc2
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 08:54:59 2006 -0700

    Add release vs. snapshot distinction to version increment instructions

 RELEASING |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 68c5382b6cdc442f3057b8e4eed2dfe7084ef7f1
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 08:51:08 2006 -0700

    Increment CAIRO_VERSION to 1.1.2 and libtool versioning to 6:0:4

 configure.in |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3002c6cc8b4722a324de27a20f04ae810b6dc573
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 08:44:45 2006 -0700

    Add some notes for the 1.1.2 snapshot

 NEWS      |  113 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 RELEASING |    4 ++-
 2 files changed, 116 insertions(+), 1 deletions(-)

commit a0df6fa696d44533adec1ecec7398e851b2eb37a
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 07:07:48 2006 -0700

    Update PS and PDF reference images for change in font options

 test/show-text-current-point-pdf-argb32-ref.png |  Bin 2143 -> 3838 bytes
 test/show-text-current-point-ps-argb32-ref.png  |  Bin 638 -> 645 bytes
 test/text-antialias-gray-pdf-argb32-ref.png     |  Bin 945 -> 1004 bytes
 test/text-antialias-gray-ps-argb32-ref.png      |  Bin 305 -> 306 bytes
 test/text-antialias-none-pdf-argb32-ref.png     |  Bin 945 -> 1004 bytes
 test/text-antialias-none-ps-argb32-ref.png      |  Bin 305 -> 306 bytes
 test/text-antialias-subpixel-pdf-argb32-ref.png |  Bin 945 -> 1004 bytes
 test/text-antialias-subpixel-ps-argb32-ref.png  |  Bin 305 -> 306 bytes
 8 files changed, 0 insertions(+), 0 deletions(-)

commit 6237437f412d9d007e1c49c33f6e81117b612d39
Merge: 22ab0e5 f1c3754
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 07:02:41 2006 -0700

    Merge branch 'behdad-colored-fails' into cairo

commit f1c37547530c0c6c134526ea4bac7d11013160f1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Apr 25 09:58:48 2006 -0400

    Use white on red for failures.

 test/cairo-test.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9668b6592f805b6e05f9e75354956e4119483b6a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Apr 25 09:03:26 2006 -0400

    Set background color to red for test failures printing on a terminal.

 test/cairo-test.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 22ab0e5f1615e28f77d8dc0c8a26929e0f0279b6
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 05:44:08 2006 -0700

    Fix default font options for PS and PDF backends.
    
    The paginated surface layer was missing its get_font_options function.
    It now defers to the target surface. The PDF backend already had a
    get_font_options function, but the PS backend was also missing it.
    
    This should fix the problem with 72DPI hinting seen in glyph paths in
    PostScript output.
    
    Thanks to Owen Taylor for identifying this problem and the correct
    fix.

 src/cairo-paginated-surface.c |   11 ++++++++++-
 src/cairo-pdf-surface.c       |    6 +++---
 src/cairo-ps-surface.c        |   12 +++++++++++-
 3 files changed, 24 insertions(+), 5 deletions(-)

commit 6723547f0035e6c41abee165ebefb7406e40b7d8
Merge: 8d635a3 e912512
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Apr 25 08:28:59 2006 -0400

    Merge branch 'configure-backends'

commit e912512c6ddff517f3afa4635bbaa81a869475c8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Apr 25 08:26:35 2006 -0400

    Better message when backends are disabled.

 configure.in |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 05fc4ca32363366a3637443d525834bc91b5203d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Apr 25 07:30:16 2006 -0400

    Unified handling of --enable-backend options.

 configure.in |  203 +++++++++++++++++++++++++++------------------------------
 1 files changed, 96 insertions(+), 107 deletions(-)

commit 8d635a3aa967b16de5047eceadf3d350d1169a76
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 25 04:04:10 2006 -0700

    PDF: Execute entire path in user coordinates when stroking so that line params are interpreted correctly

 src/cairo-pdf-surface.c |   95 ++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 86 insertions(+), 9 deletions(-)

commit 134c508bf04d8674af632644095b78256f2e350d
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 03:45:37 2006 -0700

    PDF: Add SMask output and simplify analysis to support all OVER operations.
    
    With this SMask support, the PDF backend is now able to handle a very
    large subset of the things that are likely to be thrown at it in
    common operation, (for example, when handling images and text from web
    pages).

 src/cairo-pdf-surface.c |  289 ++++++++++++++++++++++++++++++++---------------
 1 files changed, 199 insertions(+), 90 deletions(-)

commit c0721190438826d7222ed87c36b4e48e57ad0323
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 02:33:18 2006 -0700

    PDF: Remove unused backend functions.
    
    Since the switch to using paginated, we have a guarantee that the following functions
    will never be called. So we drop them now:
    
    	_cairo_pdf_surface_composite
    	_cairo_pdf_surface_fill_rectangles
    	_cairo_pdf_surface_composite_trapezoids
    	_cairo_pdf_surface_old_show_glyphs

 src/cairo-pdf-surface.c |  366 +----------------------------------------------
 1 files changed, 4 insertions(+), 362 deletions(-)

commit bef621e870e3d4038e00ed56ad40d726d5a7ca77
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 25 01:56:51 2006 -0700

    Augment tests to do better testing of paths/images with alpha.
    
    Add a new cairo_test_paint_checkered function so that tests that draw
    with alpha can easily put an easy-to-see checkered background in place
    first.
    
    Add new tests caps-joins-alpha and paint-source-alpha that do simple
    tests of strokes and image painting with source pattern alpha.
    
    Also, add the checkered background to paint-with-alpha for
    consistency.

 test/.gitignore                       |    2 +
 test/Makefile.am                      |    8 +++
 test/cairo-test.c                     |   45 ++++++++++++++++
 test/cairo-test.h                     |    3 +
 test/caps-joins-alpha-ref.png         |  Bin 0 -> 2434 bytes
 test/caps-joins-alpha-rgb24-ref.png   |  Bin 0 -> 2283 bytes
 test/caps-joins-alpha.c               |   94 +++++++++++++++++++++++++++++++++
 test/paint-source-alpha-ref.png       |  Bin 0 -> 258 bytes
 test/paint-source-alpha-rgb24-ref.png |  Bin 0 -> 248 bytes
 test/paint-source-alpha.c             |   67 +++++++++++++++++++++++
 test/paint-with-alpha-ref.png         |  Bin 164 -> 268 bytes
 test/paint-with-alpha-rgb24-ref.png   |  Bin 142 -> 255 bytes
 test/paint-with-alpha.c               |    9 ++-
 13 files changed, 225 insertions(+), 3 deletions(-)

commit a5afc59d0ad90125c0593ab60c8e1e01f51bdc3c
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 24 16:16:19 2006 -0700

    Add PDF-specific reference image for scale-source-surface-paint
    
    It only fails because the PDF ouput doesn't preserve the NEAREST filter attribute.
    There might be a way to get something like this in the PDF, but it's not the point
    of the test.

 test/scale-source-surface-paint-pdf-argb32-ref.png |  Bin 0 -> 152 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit 32a7edc42dae507678e4eed98fcb41802b8ee69c
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 24 16:11:21 2006 -0700

    PDF: Fix surface pattern transformation and support for EXTEND_NONE.
    
    There's a bunch of careful matrix transformation here needed to
    resolve the differences between cairo and PDF pattern matrices,
    (primarily due to the different location for the origin).
    
    This fixes the several PDF test suite failures that recently appeared
    when we switched from ARGB32 to RGB24 source surface patterns.

 src/cairo-pdf-surface.c |   85 +++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 72 insertions(+), 13 deletions(-)

commit a1bba71eb9442a1c3a5f9fb227353971d58cecba
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 24 14:51:31 2006 -0700

    Trivial indentation fix

 test/mask-ctm.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 893239248a9a6ef1a7b9f770aec334f20c5c0861
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 24 14:50:52 2006 -0700

    Prefer RGB24 over ARGB32 for source surfaces in tests.
    
    Some tests were using source surfaces created as ARGB32 even though all
    alpha values are entirely opaque. This meant these tests were triggering
    more fallbacks than strictly necessary for what the tests are ttrying to
    do.

 test/filter-nearest-offset.c      |    2 +-
 test/move-to-show-surface.c       |    2 +-
 test/paint-with-alpha.c           |    2 +-
 test/scale-source-surface-paint.c |    2 +-
 test/source-surface-scale-paint.c |    2 +-
 test/translate-show-surface.c     |    2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 28e25e1cce0a4e4c612743effb8927c5cb6b3c5b
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 24 12:40:30 2006 -0700

    Fix broken error-checking in cairo_{ps,pdf}_surface_set_dpi

 src/cairo-pdf-surface.c |    2 +-
 src/cairo-ps-surface.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 12c4c375af7efe367bb6128babd14b4c1d05be65
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 21 02:46:20 2006 -0700

    Fix invalid restore that was causing subsequent pages after first to be inverted

 src/cairo-pdf-surface.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit e0bf1378044d606273ee876663498878e0b2edd4
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sun Apr 23 21:20:55 2006 +0200

    Fix create_xcb_surface signature

 test/cairo-test.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 810d9d19854f671d6a5d985b950d7442e59176e3
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 20 10:54:01 2006 -0700

    PDF: Fix reference images inadvertently committed as PDF not PNG

 test/text-antialias-gray-pdf-argb32-ref.png     |  Bin 7264 -> 945 bytes
 test/text-antialias-none-pdf-argb32-ref.png     |  Bin 7264 -> 945 bytes
 test/text-antialias-subpixel-pdf-argb32-ref.png |  Bin 7264 -> 945 bytes
 3 files changed, 0 insertions(+), 0 deletions(-)

commit 7fa8bfd738f939c06480c40162e347a2ecadd4d6
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 20 10:01:45 2006 -0700

    PDF: Cleanup error handling of emit_image_rgb_data

 src/cairo-pdf-surface.c |   37 ++++++++++++++++++++-----------------
 1 files changed, 20 insertions(+), 17 deletions(-)

commit c5d5687ac09049ca5b942993fc259e54ad5b6721
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 19 11:04:37 2006 -0700

    PDF: Add simple implementation of _cairo_pdf_surface_show_glyphs (text as paths).
    
    This isn't very exciting text output---it simply turns every call to
    cairo_show_glyphs into a single filled path. But at the very least,
    text will no longer trigger image fallbacks for the PDF backend.
    
    With this commit, the following tests change from all-fallback to
    all-native for the PDF backend:
    
    	show-text-current-point
    	text-antialias-gray
    	text-antialias-none
    	text-antialias-subpixel
    	text-cache-crash
    	text-rotate
    
    There are rasterization differences in the output (cairo vs. freetype)
    so this commit also adds new PDF-specific reference images for some of
    those tests so that the suite continues to report PASS.

 src/cairo-pdf-surface.c                         |   27 +++++++-
 test/show-text-current-point-pdf-argb32-ref.png |  Bin 0 -> 2143 bytes
 test/text-antialias-gray-pdf-argb32-ref.png     |   80 +++++++++++++++++++++++
 test/text-antialias-none-pdf-argb32-ref.png     |   80 +++++++++++++++++++++++
 test/text-antialias-subpixel-pdf-argb32-ref.png |   80 +++++++++++++++++++++++
 5 files changed, 264 insertions(+), 3 deletions(-)

commit ab2546009ff246bd0e7bbc07437330cf307e00f7
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 18 23:31:16 2006 -0700

    Use fallbacks in PDF backend for CAIRO_ANTIALIAS_NONE.
    
    Perhaps there's a way to preserve that hint in PDF output, but until
    we have code that actually does that, the correct thing to do is to
    call it unsupported and let the fallbacks do their thing.
    
    With this commit, the two regressions that were recently introduced
    now pass again. Specifically:
    
    	rectangle-rounding-error
    	unantialiased-shapes

 src/cairo-pdf-surface.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit 241c6480cd9a5f63ea67f8cb1407f22503697ca3
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 18 23:24:14 2006 -0700

    Add implementation of _cairo_pdf_surface_paint (and fix emit_surface_pattern).
    
    Fix general broken-ness in emit_surface_pattern, enough so that a new
    implementation of _cairo_pdf_surface_paint does something useful. With
    this commit, the following tests switch from all-fallback to
    all-native and still pass the test suite with flying colors:
    
    	caps-joins
    	caps-sub-paths
    	clip-fill-rule
    	clip-fill-rule-pixel-aligned
    	clip-nesting
    	clip-twice
    	dash-caps-joins
    	dash-offset-negative
    	leaky-polygon
    	line-width
    	paint
    	path-data
    	transforms
    
    Meanwhile, the following two tests also switch from fallback to
    native, but cause the test suite to complain about failures. These
    both look like a mostly harmless failure to respect the ANTIALIAS_NONE
    hint in the PDF output:
    
    	rectangle-rounding-error-pdf-argb32-out.pdf
    	unantialiased-shapes-pdf-argb32-out.pdf

 src/cairo-pdf-surface.c |   65 +++++++++++++++++++++++++++++++++-------------
 1 files changed, 46 insertions(+), 19 deletions(-)

commit 8be1697f2bd8026b28f2f24c2fab967ee01b6d8c
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 18 23:18:39 2006 -0700

    Fix stale code in comment.

 src/cairo-ps-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a98b44a1deab5fd15607b50df63189a74a269909
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Wed Apr 19 02:34:24 2006 +0200

    Fixing bad merge
    
    The merge in 66ed9811cc542d99cb5a6b6b792c9a9f0832fbf9
    re-added this line, which makes cairo link to C++
    libraries even on non-BeOS systems.
    
    This was originally fixed in 69acfa6576e8d2b97e3e3b8c06badf5486ae0315

 src/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit b1b699593b820ac4e011f89ad700f052b2f20205
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 18 16:53:23 2006 -0700

    Add support for _cairo_pdf_surface_stroke.
    
    Generalize all functions that emit a source pattern to emit both
    for the stroking and non-stroking PDF properties. Also add an
    implementation of _cairo_pdf_surface_stroke.
    
    With this commit in place, the following tests change from
    all-fallback to all-native output while no tests report any new
    failures:
    
    	dash-zero-legnth
    	fill-and-stroke
    	multi-page
    	new-sub-path
    	rel-path
    	self-intersecting

 src/cairo-pdf-surface.c |  144 ++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 130 insertions(+), 14 deletions(-)

commit efbe40bb8f770fbf60de794488803d3edacd7ed6
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Wed Apr 19 00:29:48 2006 +0200

    Use calloc rather than malloc+memset

 pixman/src/icpixels.c     |    3 +--
 pixman/src/ictrap.c       |    6 +-----
 src/cairo-glitz-surface.c |    4 +---
 3 files changed, 3 insertions(+), 10 deletions(-)

commit eadb26a1c13da1af292f0262e108878133cbadf0
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 18 15:19:36 2006 -0700

    Add new PS-specific reference image for new-sub-path.

 test/new-sub-path-ps-argb32-ref.png |  Bin 0 -> 316 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit 448e904b2a64769aa9cfd8ea011c2b5fb6ec883b
Merge: cb77876 ffab259
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 18 15:18:31 2006 -0700

    Merge branch 'cairo' into new-sub-path
    
    Conflicts:
    
    	src/cairo-path-stroke.c
    	src/cairo-pdf-surface.c
    	src/cairo-ps-surface.c

commit ffab2592fc5d0ccd498aff2f4e645eefe351b61b
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue Apr 18 21:52:06 2006 +0200

    Clear completely the temporary surface between each subtest in mask.c
    
    That helps SVG backend to pass this test, since CAIRO_OPERATOR_CLEAR on a part of a surface use "comp-op" element which is not supported with current librsvg.

 test/mask.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 9c65dee86b469c1eedf2690334d5a2b4afc849c8
Merge: 36fb36f 3f84df9
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue Apr 18 21:23:59 2006 +0200

    Merge branch 'master' of git+ssh://emmanuel@git.cairographics.org/git/cairo

commit 36fb36fe8c4d8b2ac2b2de3f53842ae196bdca04
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue Apr 18 21:22:58 2006 +0200

    SVG: Add validating ref file for unantialias tests.
    
    Antialias property is not directly supported by SVG, and probably not the most wanted feature. In the future, we could use an image fallback in order to emulate it, or try to use text-rendering, shape-rendering and image-rendering
    properties (http://www.w3.org/TR/SVG/painting.html#RenderingProperties).

 test/text-antialias-none-svg-argb32-ref.png     |  Bin 0 -> 1077 bytes
 test/text-antialias-none-svg-rgb24-ref.png      |  Bin 0 -> 1077 bytes
 test/text-antialias-subpixel-svg-argb32-ref.png |  Bin 0 -> 1077 bytes
 test/text-antialias-subpixel-svg-rgb24-ref.png  |  Bin 0 -> 1077 bytes
 test/unantialiased-shapes-svg-argb32-ref.png    |  Bin 0 -> 19689 bytes
 test/unantialiased-shapes-svg-rgb24-ref.png     |  Bin 0 -> 19689 bytes
 6 files changed, 0 insertions(+), 0 deletions(-)

commit 3f84df97ddd639c9e1d3706be7c9c86eba22c5bb
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 18 11:31:59 2006 -0700

    Enable real analysis for _cairo_pdf_surface_paint.
    
    After this patch we have three PDF tests passing with native output:
    
    	clip-all
    	fill-rule
    	nil-surface

 src/cairo-pdf-surface.c |   61 ++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 55 insertions(+), 6 deletions(-)

commit 170a028bfa00286324d8598d831e570d868a26f1
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Apr 17 23:26:30 2006 +0200

    SVG: Fix mask and try to support CAIRO_CONTENT_ALPHA.
    
    Cairo and SVG differ in their implementation of mask. Cairo only uses alpha channel where SVG uses all channels. So, before using a surface for masking, we use a filter that sets RGB channels to 1.0.
    
    Support for CAIRO_CONTENT_ALPHA is similar and use the same filter when a SVG alpha surface is composited.

 src/cairo-svg-surface.c |   49 ++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 44 insertions(+), 5 deletions(-)

commit 9e2a2ea0da93065c46a6d6249f98a319ee6158dd
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Apr 17 11:07:15 2006 +0200

    SVG: Don't insert /n/r in base64 encoded image data
    
    That doesn't work since libxml replace them by &#10;&#13;
    They were intended to ease readability of generated files.

 src/cairo-svg-surface.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit c01805bafd5ad68263a3e644787cd7c04838124b
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Apr 17 10:21:50 2006 +0200

    SVG: Don't check for content type in create_similar, and mark surface as modified when clearing it.

 src/cairo-svg-surface.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 62d2f7cbf3718cfc982286ec62878c9d6eff09fa
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Apr 17 09:54:03 2006 +0200

    SVG: Return UNTESTED for test involving operators.
    
    unbounded-operator, operator-clear, operator-source, clip-operator

 test/cairo-test.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit 347083b3f0be2f07d1953278b8516774253752f1
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sun Apr 16 16:00:27 2006 +0200

    SVG: Add reference files for antialiased text tests.
    
    Currently, text are rendered as paths in SVG files, so, when rendered to png through librsvg, they don't match general reference images.

 test/show-text-current-point-svg-argb32-ref.png |  Bin 0 -> 4236 bytes
 test/show-text-current-point-svg-rgb24-ref.png  |  Bin 0 -> 4236 bytes
 test/text-antialias-gray-svg-argb32-ref.png     |  Bin 0 -> 1077 bytes
 test/text-antialias-gray-svg-rgb24-ref.png      |  Bin 0 -> 1077 bytes
 test/text-pattern-svg-argb32-ref.png            |  Bin 0 -> 2643 bytes
 test/text-pattern-svg-rgb24-ref.png             |  Bin 0 -> 2428 bytes
 6 files changed, 0 insertions(+), 0 deletions(-)

commit 714bb88832f0e6324cd4737aaa37a4ba39f8d14e
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sun Apr 16 15:42:49 2006 +0200

    SVG: Add support for CAIRO_CONTENT_COLOR in create_similar.
    
    Also add support for testing this feature in test/cairo-test.c
    And a bunch of unwanted commit of sgml files.

 doc/public/tmpl/cairo-beos.sgml         |    3 +
 doc/public/tmpl/cairo-font-options.sgml |    3 +
 doc/public/tmpl/cairo-font.sgml         |    3 +
 doc/public/tmpl/cairo-ft.sgml           |    3 +
 doc/public/tmpl/cairo-glitz.sgml        |    3 +
 doc/public/tmpl/cairo-image.sgml        |    3 +
 doc/public/tmpl/cairo-matrix.sgml       |    3 +
 doc/public/tmpl/cairo-paths.sgml        |    3 +
 doc/public/tmpl/cairo-pattern.sgml      |    3 +
 doc/public/tmpl/cairo-pdf.sgml          |    3 +
 doc/public/tmpl/cairo-png.sgml          |    3 +
 doc/public/tmpl/cairo-ps.sgml           |    3 +
 doc/public/tmpl/cairo-quartz.sgml       |    3 +
 doc/public/tmpl/cairo-scaled-font.sgml  |    3 +
 doc/public/tmpl/cairo-status.sgml       |    3 +
 doc/public/tmpl/cairo-surface.sgml      |    3 +
 doc/public/tmpl/cairo-text.sgml         |    3 +
 doc/public/tmpl/cairo-transforms.sgml   |    3 +
 doc/public/tmpl/cairo-types.sgml        |    3 +
 doc/public/tmpl/cairo-version.sgml      |    3 +
 doc/public/tmpl/cairo-win32-fonts.sgml  |    3 +
 doc/public/tmpl/cairo-win32.sgml        |    3 +
 doc/public/tmpl/cairo-xcb-xrender.sgml  |    3 +
 doc/public/tmpl/cairo-xcb.sgml          |    3 +
 doc/public/tmpl/cairo-xlib-xrender.sgml |    3 +
 doc/public/tmpl/cairo-xlib.sgml         |    3 +
 doc/public/tmpl/cairo.sgml              |    3 +
 src/cairo-svg-surface.c                 |   69 ++++++++++++++++++++++++-------
 test/cairo-test.c                       |   36 ++++++++++++++--
 29 files changed, 167 insertions(+), 19 deletions(-)

commit d0356a87f7b274a0721c2644c4a62a8424923eb9
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Sat Apr 15 03:58:42 2006 -0400

    Implement cairo_set_scaled_font().

 doc/public/tmpl/cairo-beos.sgml         |    3 --
 doc/public/tmpl/cairo-font-options.sgml |    3 --
 doc/public/tmpl/cairo-font.sgml         |    3 --
 doc/public/tmpl/cairo-ft.sgml           |    3 --
 doc/public/tmpl/cairo-glitz.sgml        |    3 --
 doc/public/tmpl/cairo-image.sgml        |    3 --
 doc/public/tmpl/cairo-matrix.sgml       |    3 --
 doc/public/tmpl/cairo-paths.sgml        |    3 --
 doc/public/tmpl/cairo-pattern.sgml      |    3 --
 doc/public/tmpl/cairo-pdf.sgml          |    3 --
 doc/public/tmpl/cairo-png.sgml          |    3 --
 doc/public/tmpl/cairo-ps.sgml           |    3 --
 doc/public/tmpl/cairo-quartz.sgml       |    3 --
 doc/public/tmpl/cairo-scaled-font.sgml  |    3 --
 doc/public/tmpl/cairo-status.sgml       |    3 --
 doc/public/tmpl/cairo-surface.sgml      |    3 --
 doc/public/tmpl/cairo-text.sgml         |    3 --
 doc/public/tmpl/cairo-transforms.sgml   |    3 --
 doc/public/tmpl/cairo-types.sgml        |    3 --
 doc/public/tmpl/cairo-version.sgml      |    3 --
 doc/public/tmpl/cairo-win32-fonts.sgml  |    3 --
 doc/public/tmpl/cairo-win32.sgml        |    3 --
 doc/public/tmpl/cairo-xcb-xrender.sgml  |    3 --
 doc/public/tmpl/cairo-xcb.sgml          |    3 --
 doc/public/tmpl/cairo-xlib-xrender.sgml |    3 --
 doc/public/tmpl/cairo-xlib.sgml         |    3 --
 doc/public/tmpl/cairo.sgml              |    3 --
 src/cairo.c                             |   40 +++++++++++++++++++++++++++++++
 src/cairo.h                             |    4 +++
 29 files changed, 44 insertions(+), 81 deletions(-)

commit db111197ac436ace0c3aceb88a6d7c1abca03b02
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 17:29:19 2006 -0700

    Fix _cairo_surface_is_opaque to return FALSE not TRUE for non-image surfaces.

 src/cairo-surface.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit e890bfd2bf04a973ead9f5d53d06728165faa28d
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 17:26:23 2006 -0700

    Ignore dash-zero-length

 test/.gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b7309d065e49ae73ff8d90feca35f6b8f35922d2
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 17:25:54 2006 -0700

    Farm out the surface and pattern analysis functions away from cairo-ps-surface.c.
    
    We're setting things up here for better sharing as PDF surface (and
    others) now want to do some of the same analysis.

 src/cairo-pattern.c     |   44 ++++++++++++++++++++++++++++-
 src/cairo-pdf-surface.c |    6 +++-
 src/cairo-ps-surface.c  |   69 +----------------------------------------------
 src/cairo-surface.c     |   28 +++++++++++++++++++
 src/cairoint.h          |    8 +++++-
 5 files changed, 83 insertions(+), 72 deletions(-)

commit a7f4f1b350e158eca394da63eed0e14a97480a5a
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 17:03:39 2006 -0700

    Move analysis of operators from cairo-ps-surface.c to cairo-operator.c

 src/Makefile.am        |    1 +
 src/cairo-operator.c   |  119 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-ps-surface.c |   73 ++---------------------------
 src/cairoint.h         |    7 +++
 4 files changed, 132 insertions(+), 68 deletions(-)

commit c7fd35fac2bc7c93e85ccbe50b20529ae4d9479d
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 16:50:16 2006 -0700

    Add tests for PAGINATED_MODE_ANALYZE to PDF (no real analysis yet)

 src/cairo-pdf-surface.c |   39 +++++++++++++++++++++++++++++++++++----
 1 files changed, 35 insertions(+), 4 deletions(-)

commit 0e44e798b5f6fd58cc586e40f926d363cd8fff50
Author: Dom Lachowicz <cinamod@hotmail.com>
Date:   Fri Apr 14 16:15:29 2006 -0700

    Change cairo_image_surface_create to zero out surface contents.
    
    This closes bug #5816:
    
    	Image surfaces do not start out blank by default
    	https://bugs.freedesktop.org/show_bug.cgi?id=5816
    
    This also fixes all of the test suite failures introduced by moving
    the CLEAR on blank page optimization up to the paginated surface from
    the PS surface.

 pixman/src/icpixels.c     |    1 +
 src/cairo-image-surface.c |    7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit e8a0da637fda4a29281cfb4f463169e51c300c42
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 16:18:36 2006 -0700

    Move optimization of CLEAR on blank page up from PS to paginated surface.

 src/cairo-paginated-surface-private.h |    8 ++++++++
 src/cairo-paginated-surface.c         |   30 ++++++++++++++++++++++++++++++
 src/cairo-ps-surface.c                |   27 ---------------------------
 3 files changed, 38 insertions(+), 27 deletions(-)

commit b8fb8dc375d2828a962bac2e1f50f44d8ec8cbee
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 15:23:30 2006 -0700

    Add stub implementations of drawing operations for the PDF backend.
    
    These new stubs explicitly return UNSUPPORTED unconditionally. This is
    no different than the implicit UNSUPPORTED which the analysis surface
    was inferring from NULL for 4 of the functions before.
    
    However, _cairo_pdf_surface_fill was actually trying to draw things,
    but without correctly characterizing it during the analysis stage.
    This was just an oversight, as the PDF surface was always triggereing
    full page fall backs anway due to the initial unsupported paint with
    CLEAR.
    
    Now, we explicitly return UNSUPPORTED for all drawing operations so we
    get image fallbacks by design and not by accident.

 src/cairo-pdf-surface.c |  160 ++++++++++++++++++++++++++++++-----------------
 1 files changed, 103 insertions(+), 57 deletions(-)

commit 2726f684547de7d381e56dce13bb7c025cd75b80
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 14:53:13 2006 -0700

    Update documentation of cairo_paginated_surface

 src/cairo-paginated-surface-private.h |   12 ++++++++++++
 src/cairo-paginated-surface.c         |   29 ++---------------------------
 2 files changed, 14 insertions(+), 27 deletions(-)

commit 8d3a800b82ccd4a39bf04cc1d602eb84d90f81d1
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 14:46:59 2006 -0700

    Add a start_page function to the paginated_surface_backend.
    
    This allows for any surface using the paginated_surface backend to
    easily do stuff at the beginning of each page, (such as writing out
    any per-page header necessary).
    
    This replaces some of the per-page state tracking that the PS surface
    was doing, (though it still has some left for its optimization of
    CLEAR on a blank page).

 src/cairo-paginated-surface-private.h |   60 ++++++++++++++++++++++++-
 src/cairo-paginated-surface.c         |   19 ++++++++
 src/cairo-pdf-surface.c               |    1 +
 src/cairo-ps-surface.c                |   78 ++++++++++++++-------------------
 src/test-paginated-surface.c          |    1 +
 5 files changed, 112 insertions(+), 47 deletions(-)

commit 687802cca67ce4157725316d769fc28bc75f5dcd
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 14:44:16 2006 -0700

    Obnoxious churn of gtk-doc templates.
    
    We really need to get these built files out from under version control, (or
    else abandon gtk-doc altogether).

 doc/public/tmpl/cairo-svg.sgml |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d284c2b5a475ff1672dad10e7bf76763877690a3
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri Apr 14 23:11:35 2006 +0200

    SVG: enable SVG backend API documentation in /doc

 doc/public/cairo-docs.xml      |    1 +
 doc/public/cairo-sections.txt  |    8 ++++++
 doc/public/tmpl/cairo-svg.sgml |   54 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 63 insertions(+), 0 deletions(-)

commit b9eb4f018e77a3f797116f0915f261d8453b3993
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri Apr 14 22:55:48 2006 +0200

    PDF: Fix typo in documentation.

 src/cairo-pdf-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e952e0aff89412e67fb72ba2cf3a30c3ddd332b4
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri Apr 14 22:53:58 2006 +0200

    SVG: Add documentation for public API. Fix test filenames and add testing of CAIRO_CONTENT_COLOR

 src/cairo-svg-surface.c |   47 +++++++++++++++++++++++++++++++++++++++++++++++
 test/cairo-test.c       |    6 +++++-
 2 files changed, 52 insertions(+), 1 deletions(-)

commit f919ba858f405aa5c1cc64e7c25c3de5ffbce88f
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri Apr 14 22:06:28 2006 +0200

    SVG: Emulate CLEAR and SOURCE operators on paint call when no clipping region is defined.

 src/cairo-svg-surface.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 8f3c60096d88b3c0368970273828e7a011c5e9dd
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 11:33:48 2006 -0700

    Add a new cairo_paginated_surface_backend_t rather than just a single function pointer.

 src/cairo-paginated-surface-private.h |   17 ++++++++++-------
 src/cairo-paginated-surface.c         |   29 +++++++++++++++--------------
 src/cairo-pdf-surface.c               |   17 +++++++++--------
 src/cairo-ps-surface.c                |   27 ++++++++++++++-------------
 src/test-paginated-surface.c          |   25 +++++++++++++++----------
 5 files changed, 63 insertions(+), 52 deletions(-)

commit 5461f25df9888aa5fd79e1e371cd1af2cf8964ab
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 11:01:39 2006 -0700

    Fix _composite_trap_region to restore the original clip when done.

 src/cairo-surface-fallback.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit c81569d2f1b8c396f789f4c49d87772a596862d9
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 10:38:11 2006 -0700

    Flesh test-paginated-surface out into a complete surface.
    
    This adds an aactual test_paginated_surface_backend rather than just
    having this test surface create a paginated surface around an image
    surface. This is a more realistic test of what a paginated surface is
    and should be more useful as an example of how to use the paginated
    surface, (and in particular the analysis portions).

 src/cairo-image-surface.c    |    2 +-
 src/cairoint.h               |   13 +++
 src/test-paginated-surface.c |  219 +++++++++++++++++++++++++++++++++++++++---
 test/cairo-test.c            |    4 +-
 4 files changed, 222 insertions(+), 16 deletions(-)

commit 41dc06d7111d246d4b5802c700a83e4be9091449
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 14 10:08:31 2006 -0700

    Add new PS-specific image for dash-zero-length test.
    
    This reference image demonstrates the bug that occurs when we emit zero-length
    dash segments into a PostScript file with butt caps.

 test/dash-zero-length-ps-argb32-ref.png |  Bin 222 -> 214 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit 11b4d24671a0527a45971e9fdf245ac28facc822
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 13 12:56:58 2006 -0700

    Move cairo_pdf_surface_backend to file end so it's easier to find.

 src/cairo-pdf-surface.c |   66 +++++++++++++++++++++++-----------------------
 1 files changed, 33 insertions(+), 33 deletions(-)

commit 2078557c5c9e10cf8ae16fb3fa8a225f908ab528
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Apr 9 23:11:27 2006 -0400

    Fix skipping zero length dash segments in dash_start.
    
    The extra check makes sure zero length segments are not skipped when computing
    the dash start state. This is needed so that we get proper line capping if, for
    example, the first dash segment has zero length and we have a dash offset of
    zero.

 src/cairo-path-stroke.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 5eaf71e77bd975f5865cc059b4aa4d57c096688e
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Apr 9 23:11:11 2006 -0400

    Move the test for zero length sub edges below the computation of faces.
    
    Face computation still works if a line has zero length, all that is needed is a
    slope and a point. This patch fixes bug #5561 because the faces are initialized
    even if the segment has zero length as expected by
    _cairo_stroker_line_to_dashed.

 src/cairo-path-stroke.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 20fca01a2cc539df017e442be0cc6ad35353571f
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Apr 9 23:10:59 2006 -0400

    Move calculation of slope outside of _cairo_stroker_add_sub_edge.
    
    This makes the slope calculation more accurate for dashed lines by computing it
    once for the entire line instead for each individual dash segment. It also
    adjusts stroker_line_to() to match the new convention for
    stroker_add_sub_edge().

 src/cairo-path-stroke.c |   19 ++++++++++++-------
 1 files changed, 12 insertions(+), 7 deletions(-)

commit 8a2ea660fb59beb4eacaf73978368c8db7a6b584
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Apr 9 23:10:46 2006 -0400

    Check for zero length dashed lines.
    
    This makes line_to_dashed more like line_to by returning immediately on
    degenerate paths. This is needed so that we can do the slope calculation for
    the entire line.

 src/cairo-path-stroke.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 584109d5e6160c1e74da0e79b6e024701a354293
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Apr 9 23:11:47 2006 -0400

    Add test case for dashed lines.
    
    The new test case tests a variety of circumstances involved with zero length dashing.

 test/Makefile.am                        |    4 ++
 test/dash-zero-length-ps-argb32-ref.png |  Bin 0 -> 222 bytes
 test/dash-zero-length-ref.png           |  Bin 0 -> 235 bytes
 test/dash-zero-length-rgb24-ref.png     |  Bin 0 -> 222 bytes
 test/dash-zero-length.c                 |   88 +++++++++++++++++++++++++++++++
 5 files changed, 92 insertions(+), 0 deletions(-)

commit f17b347ab443fcc12f9098f9b601334f85d20a30
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 13 07:59:52 2006 -0700

    Fix page numbers in PostScript output to start at 1

 src/cairo-ps-surface.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 6beababd47aabfb4896a878de09d729f287aa714
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 16:19:08 2006 -0700

    Optimize PostScript file size with procedures instead of builtin operators.
    
    This is based on a suggestion by Michael Sweet.

 src/cairo-ps-surface.c |   42 +++++++++++++++++++++++++++---------------
 1 files changed, 27 insertions(+), 15 deletions(-)

commit d60eaab222fb1ce19ef7bbbf496ad444f07aa703
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 15:48:59 2006 -0700

    Add simple word wrapping to keep PostScript output within 80 columns or less.

 src/cairo-ps-surface.c |  109 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 109 insertions(+), 0 deletions(-)

commit 6a5d8fc7ffb5f425ceffd313b8a875f38126b324
Merge: b30e281 0727e3c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 14:15:08 2006 -0700

    Merge branch 'ps-type3' into cairo (no bitmap support for type 3 yet).
    
    Conflicts:
    
    	src/cairo-hash.c
    	src/cairo-ps-surface.c

commit b30e281627d86f3c0d0f4d5008bbbf7e77c09350
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 13:55:24 2006 -0700

    Add documentation for _cairo_output_stream_create_for_file.

 src/cairoint.h |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 193b43001de11945b0ae7ca4ee685590d9f79137
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 14:06:26 2006 -0700

    Propagate stream status values through _cairo_ps_surface_finish

 src/cairo-ps-surface.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit d9137e56b6a8f1ddb44a01bf34301117b0696f0b
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 13:44:14 2006 -0700

    Use ferror to get error checking for stdio-based output streams.

 src/cairo-output-stream.c |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit 32994379db92ef8208ba11b825b1246e2b442566
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 13:40:05 2006 -0700

    Fix missing argument to printf in _cairo_ps_surface_stat_page

 src/cairo-ps-surface.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 5444aa55b35aff7d6cff8b5e8a5ab020711562ac
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 13:34:03 2006 -0700

    Clean up output_stream error handling in _cairo_ps_surface_create.
    
    We teach the output stream to catch a NULL file error here, which
    allows for less checking in ps_surface_create. We also fix the ps
    surface code to look for the status of a nil stream rather than
    checking for NULL.

 src/cairo-output-stream.c |    3 +++
 src/cairo-ps-surface.c    |   23 ++++++++++++-----------
 2 files changed, 15 insertions(+), 11 deletions(-)

commit a7abf8e4513a7ca03cdb7db6f80a438a4897d208
Merge: 0386a72 ade195c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 12:54:28 2006 -0700

    Merge 'Save PS output in temp file' from ps-type3 branch

commit 0386a728957bdb3549da8e772c31b86295175a4b
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 11:06:06 2006 -0700

    Add some documentation to string_array_stream

 src/cairo-ps-surface.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 39592788b38a8e8db5335d836a8eaa7ace08fc1c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 12 10:56:42 2006 -0700

    Print both page label and number in PostScript %%Page headers.

 src/cairo-ps-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 523f9e46d87392a539c26ade18d99a3db7ed833d
Author: Kristian Høgsberg <krh@dinky.bitplanet.net>
Date:   Tue Apr 11 20:49:55 2006 -0400

    Make cairo_t and cairo_output_stream_t destructors handle NULL.
    All other cairo destructors and reference functions accept and ignore NULL,
    so fix up cairo_destroy(), cairo_reference(), and cairo_output_stream_destroy()
    to do so too.

 src/cairo-output-stream.c |    3 +++
 src/cairo.c               |    6 ++++++
 2 files changed, 9 insertions(+), 0 deletions(-)

commit 6e77a0e248c337bf3f39c0de239a7743c6969efe
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 11 12:28:41 2006 -0700

    Allow hash entry deletion during cairo_hash_foreach
    
    I discovered that _cairo_hash_table_foreach walks over the hash table
    without preventing it from being resized as a result of deletions
    occuring from the callback.
    
    Kinda nasty when you're trying to free everything from a hash table.
    
    It was also easy to fix; just prevent the table from being resized while
    iterating and clean it up after the iteration is completed.

 src/cairo-hash.c |   43 ++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 38 insertions(+), 5 deletions(-)

commit 9231ab40437e70818c9525fa9648ff7a5d11e44a
Merge: 1e5f5ae baa3436
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Tue Apr 11 01:09:30 2006 +0200

    Merge with git+ssh://git.cairographics.org/git/cairo

commit 1e5f5aed07137d3a823c2d22e29eb0e53e359fef
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Tue Apr 11 01:07:33 2006 +0200

    Make the API more like Vlad's new API.#

 src/cairo-quartz-private.h |    2 +-
 src/cairo-quartz-surface.c |   11 ++++++-----
 src/cairo-quartz.h         |    4 ++--
 3 files changed, 9 insertions(+), 8 deletions(-)

commit 3ed576522df8a4e41e856a500539ca3e6f69e2da
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Mon Apr 10 22:29:51 2006 +0200

    Remove unused function

 src/cairo-quartz-surface.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 8ba59b0336ddc581c8f43b4aa5cf9acdb2c001ad
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Mon Apr 10 22:24:02 2006 +0200

    Rework the quartz backend to not always hold an image but instead to create it on demand.#

 src/cairo-quartz-private.h |    8 +-
 src/cairo-quartz-surface.c |  220 ++++++++++++++++++++++----------------------
 2 files changed, 111 insertions(+), 117 deletions(-)

commit df3c02c9ca0c704df3960416fbe689af0cedf2fa
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Mon Apr 10 22:23:39 2006 +0200

    Don't set can_draw_directly to FALSE.

 src/cairo-atsui-font.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit baa3436e9d8ea37c1204f752cac78a8cbc891f18
Author: Laxmi Harikumar <laxmi.harikumar@digital.com>
Date:   Mon Apr 10 12:04:01 2006 -0700

    Simple fix for build failure on DEC/OSF1.
    
    Apparently this platform also requires inttypes.h rather than
    stdint.h.
    
    This should fix the bug reported here:
    
            https://bugzilla.mozilla.org/show_bug.cgi?id=331428

 pixman/src/pixman.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 08b109fb9a8c54f4764fe7a94ce7833e832bc157
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Mon Apr 10 11:00:26 2006 -0700

    Add new ps-specific reference image for dash-caps-joins test.
    
    With the recent fix to the treatment of sub-paths with respect to
    dashing, this test is now correct except for slight difference in
    ghostscript vs. cairo rasterization. This commit records the
    ghostscript output as the new reference image against which the ps
    output should be tested.

 test/dash-caps-joins-ps-argb32-ref.png |  Bin 0 -> 1247 bytes
 1 files changed, 0 insertions(+), 0 deletions(-)

commit 65e706ee14b9bfbc2ce0e83b35a813d51d97592f
Author: Jeff Muizelaar <jeff@infidigm.net>
Date:   Sun Apr 9 23:13:36 2006 -0400

    Reset dashing for new subpaths.
    
    Fixes the bug mentioned in b87726ee2aa0220b66ee4d97513c0ac89ffc4621 by reseting
    the dash pattern for each new subpath. This is correct behaviour according to
    the end of PDF Reference v1.6 section 4.3.2.
    
    This commit now makes the dash-caps-joins test case pass for all
    backends except for the PostScript backend.

 src/cairo-path-stroke.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit f02aacbb5f8068f6b0101b3200bd3a0d73746dd4
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Mon Apr 10 10:54:24 2006 -0700

    Update dash-caps-joins test cases to show independent dashing of sub-paths.
    
    We would like to be compatible with PostScript/PDF dash semantics. And
    according to the description of the setdash operator in section 8.2 of
    the PostScript Language Reference Manual, (as well as the description
    of the line dash pattern in section 4.3.2 of the PDF Reference), each
    sub-path should be treated independently with respect to dashing.
    
    With this change, this test now fails for most backends for which it
    previously passed.

 test/dash-caps-joins-ref.png       |  Bin 3219 -> 2583 bytes
 test/dash-caps-joins-rgb24-ref.png |  Bin 2946 -> 2465 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit 807f64d57c616e2ce8a61202cd9b59ac7a6a26cb
Merge: 5ee26e3 732e062
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Mon Apr 10 19:32:47 2006 +0200

    Merge with git+ssh://git.cairographics.org/git/cairo

commit 5ee26e3b0eec85ac2e9c07d828eae0c8e1a57364
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Mon Apr 10 19:18:36 2006 +0200

    * Save and restore state when drawing glyphs using the short circuit.

 src/cairo-atsui-font.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 0727e3c1a980f57d48f3dfaee801f05e5395a71a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Apr 9 00:38:43 2006 -0700

    Use Type3 fonts for PostScript output. No bitmap support yet.

 src/cairo-ps-surface.c |  737 +++++++++++++++++++++++++++++-------------------
 1 files changed, 440 insertions(+), 297 deletions(-)

commit da2c5e44abd98f1f1aed4f716b7e9bc97a667058
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Apr 9 00:37:58 2006 -0700

    Allow hash entry deletion during cairo_hash_foreach

 src/cairo-hash.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit ade195cdba5b0d13c121e44709151bfbb0c44085
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Apr 8 21:29:14 2006 -0700

    Save PS output in temp file so we can prepend global data (like fonts)

 src/cairo-output-stream.c |   20 +++++++++++++-
 src/cairo-pdf-surface.c   |    2 +-
 src/cairo-ps-surface.c    |   59 ++++++++++++++++++++++++++++++++++++--------
 src/cairo-svg-surface.c   |    2 +-
 src/cairoint.h            |    5 +++-
 5 files changed, 72 insertions(+), 16 deletions(-)

commit 732e06258c81427cf7fedfca98107e21244264eb
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Apr 7 15:46:32 2006 -0700

    Rename write_data to write_func in cairo_output_stream_t.

 src/cairo-base85-stream.c |    8 ++++----
 src/cairo-output-stream.c |   12 ++++++------
 2 files changed, 10 insertions(+), 10 deletions(-)

commit bfd467453c5213341ae2c396ac3d32ba76df8de9
Author: Anders Carlsson <andersca@luminoth.local>
Date:   Fri Apr 7 17:40:30 2006 +0200

    * Fix build
    
    * Add shortcut to cairo-atsui-font.c for the common case.

 src/cairo-atsui-font.c     |  148 ++++++++++++++++++++++++-------------------
 src/cairo-quartz-surface.c |    1 +
 2 files changed, 84 insertions(+), 65 deletions(-)

commit b87726ee2aa0220b66ee4d97513c0ac89ffc4621
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 6 09:43:39 2006 -0700

    Tweak initial erase so it doesn't trigger fallbacks for every PS test case.
    
    Add an optimization to cairo-ps-surface.c so that it ignores any
    CAIRO_OPERATOR_CLEAR drawing operation that occurs on a blank page.
    Also change the test suite to erase with OPERATOR_CLEAR instead of
    OPERATOR_SOURCE with an all-0 source pattern.
    
    With this change, 32 of the 61 test cases change from all-fallback to
    all-native for the ps backend.
    
    Of these 32 test cases, 13 pass the test suite with the original
    reference images. Another 18 cases differ only in the single-pixel
    boundary of objects due to cairo vs. ghostscript rasterization
    differences. We ignore these by adding new ps-specific reference
    images, (included in this commit).
    
    Finally, there appears to be one genuine failure, (dash-caps-joins),
    in which the PostScript dashes (at least as rendered by ghostscript)
    differ significantly from the cairo-rendered dashes.

 src/cairo-ps-surface.c                          |   69 ++++++++++++++++-------
 test/cairo-test.c                               |    3 +-
 test/caps-joins-ps-argb32-ref.png               |  Bin 0 -> 995 bytes
 test/caps-sub-paths-ps-argb32-ref.png           |  Bin 0 -> 170 bytes
 test/clip-fill-rule-ps-argb32-ref.png           |  Bin 0 -> 280 bytes
 test/clip-nesting-ps-argb32-ref.png             |  Bin 0 -> 488 bytes
 test/clip-twice-ps-argb32-ref.png               |  Bin 0 -> 460 bytes
 test/dash-offset-negative-ps-argb32-ref.png     |  Bin 0 -> 170 bytes
 test/fill-and-stroke-ps-argb32-ref.png          |  Bin 0 -> 243 bytes
 test/fill-rule-ps-argb32-ref.png                |  Bin 0 -> 1078 bytes
 test/leaky-polygon-ps-argb32-ref.png            |  Bin 0 -> 233 bytes
 test/line-width-ps-argb32-ref.png               |  Bin 0 -> 201 bytes
 test/path-data-ps-argb32-ref.png                |  Bin 0 -> 322 bytes
 test/rectangle-rounding-error-ps-argb32-ref.png |  Bin 0 -> 258 bytes
 test/show-text-current-point-ps-argb32-ref.png  |  Bin 0 -> 638 bytes
 test/text-antialias-gray-ps-argb32-ref.png      |  Bin 0 -> 305 bytes
 test/text-antialias-none-ps-argb32-ref.png      |  Bin 0 -> 305 bytes
 test/text-antialias-subpixel-ps-argb32-ref.png  |  Bin 0 -> 305 bytes
 test/transforms-ps-argb32-ref.png               |  Bin 0 -> 287 bytes
 test/unantialiased-shapes-ps-argb32-ref.png     |  Bin 0 -> 4076 bytes
 20 files changed, 50 insertions(+), 22 deletions(-)

commit c4fc7b06b53c811ddc20def91aaccd756c28a924
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 6 08:54:59 2006 -0700

    Revert "Use ghostscript's pngalpha rather than png16m target for PS->PNG"
    
    This reverts 3b873c66be54522d6cc3f025572a78bbef0efba7 commit.
    
    It seemed like a good idea at the time, but...
    The pngalpha target only gets the fully transparent regions correct.
    But we still need to get the partially translucent regions correct.
    The pngalpha target doesn't help here---instead we were already
    flattening the reference image during testing. And in that case,
    having anything other than alpha==1 in the output png doesn't really
    help, (and meanwhile it was tripping up the current buffer_diff code).

 test/cairo-test.c |   15 ++++++---------
 1 files changed, 6 insertions(+), 9 deletions(-)

commit e01047a76a5c44302c24e2ab285cf1b1cd490677
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 5 17:15:48 2006 -0700

    Build fix for typo from recent commit.

 test/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 3b873c66be54522d6cc3f025572a78bbef0efba7
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 5 17:03:23 2006 -0700

    Use ghostscript's pngalpha rather than png16m target for PS->PNG
    
    This target allows the output files to actually be transparent where
    there is no PostScript "ink", which allows for much better testing.

 test/cairo-test.c |   15 +++++++++------
 1 files changed, 9 insertions(+), 6 deletions(-)

commit 6d5627ca2a5b96edf0b37fe6e16002726f72d86d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 5 17:00:13 2006 -0700

    Add a call to _cairo_ps_surface_start_page in _cairo_ps_surface_intersect_clip_path.
    
    If clipping occurs before any drawing, then we still need to issue a start page call.
    Otherwise, the clip ends up being inverted since the scaling
    transformation that puts PostScript into a cairo-oriented coordinate
    system only happens in start_page.

 src/cairo-ps-surface.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 341d61cda0247eebd26da1e3b71c43ee8f761833
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Apr 5 16:55:51 2006 -0700

    Disable show-glyphs-many test to avoid abusing ghostscript too badly.

 test/Makefile.am |   22 ++++++++++++++++++++--
 1 files changed, 20 insertions(+), 2 deletions(-)

commit 5baae7ff21a4236ebc9eaff087eb29fd1432c7ff
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed Apr 5 21:24:06 2006 +0200

    SVG: Fix typo and stream status handling

 src/cairo-svg-surface.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 4fd30e6f402ae031c2084c20f136b84307a128cc
Merge: a8e5a77 66ed981
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 4 15:04:36 2006 -0700

    Merge branch 'analysis-surface' into cairo

commit a8e5a77ad496c1716acdd279d5d5bebf1bc71eee
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 23 16:02:02 2006 -0800

    Add attribution for Bdale Garbee to the AUTHORS file.

 AUTHORS |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 66ed9811cc542d99cb5a6b6b792c9a9f0832fbf9
Merge: edb83e3 45bbdf9
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 4 14:58:52 2006 -0700

    Merge branch 'cairo-origin' into analysis-surface
    
    With the string-array-stream stuff that this merge picks up, the
    analysis-surface branch is now passing all of the test suite again.

commit 45bbdf94cbac736c9f854012581e8f914a6e27df
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Tue Apr 4 12:50:44 2006 -0700

    Break PostScript image data into chunks that each fit into a string.
    
    This solves the problem with the previous commit that made strings
    longer than the "standard" 65k implementation limit for strings.
    It's achieved by removing the line-wrapping from the base85 stream and
    instead adding a new string-array stream between the base85 stream and
    the output stream (the string-array stream does the line wrapping and
    enforces the 65k characters per string limit).

 src/cairo-base85-stream.c |   30 +++-------
 src/cairo-ps-surface.c    |  129 ++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 124 insertions(+), 35 deletions(-)

commit d1134cd7e25a78c70819df879336f895134bafe1
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Tue Apr 4 11:21:17 2006 -0700

    Emit images into PostScript output as strings rather than inline.
    
    This is a baby step toward having shared source patterns in the
    PostScript output. This patch is based on original work by Keith
    Packard in the following commit:
    
    	06b83b89fc4271060c63b284d7909162b92152f1
    
    One problem with this approach is that it attempts to put an entire
    image into a PostScript string object. However, PostScript strings are
    typically limited to 65k bytes. So, as is, this commit causes a few
    failures for tests in the suite with large output images.

 src/cairo-ps-surface.c |   58 +++++++++++++++++++++++++++++++++++------------
 1 files changed, 43 insertions(+), 15 deletions(-)

commit 0114393a132471cbf87bc3abc2f298b4ca38c69c
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Tue Apr 4 11:17:25 2006 -0700

    Explicitly remove the output png image before creating it during testing.
    
    What was happening here is that some backends (such as the PS surface
    backend) directly generate an output file, and then run a conversion
    process to generate the png file. Some bugs were such that a broken
    file would successfully be generated, the conversion would fail (the
    failure was unnoticed), and the test suite would happily verify the
    old image from a previously successful run.
    
    This fix eliminates this source of false positives.

 test/cairo-test.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit dd67cf6616c2e819e7e8e4452c1e14e68b4a66bd
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Tue Apr 4 10:45:38 2006 -0700

    Implement proper cairo-style error-handling for cairo_output_stream_t.
    
    The cairo_output_stream_t object already had an internal status value,
    but it was annoyingly returning status values from various functions.
    It also was missing proper shutdown-on-error as well as nil-create
    semantics.
    
    This fixes those shortcomings and adjusts all callers for the new
    semantics, (leading to simpler and more correct calling
    code---particularly in the case of cairo-base85-stream.c).

 src/cairo-base85-stream.c |   40 ++++++----------------
 src/cairo-output-stream.c |   82 +++++++++++++++++++++++++++++---------------
 src/cairo-pdf-surface.c   |   12 ++++--
 src/cairo-ps-surface.c    |   27 +++++++--------
 src/cairo-svg-surface.c   |   16 ++++++--
 src/cairoint.h            |   35 +++++++++++++++----
 6 files changed, 125 insertions(+), 87 deletions(-)

commit 5a06133eb2e13a4c0354dad7f7da414c85733c4e
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Mon Apr 3 23:44:51 2006 -0700

    Implement cairo-base85-stream as a filtering output stream not just a write function.
    
    Now _cairo_output_stream_create accepts a new close callback, (which
    the base85 stream uses to write its trailer). This eliminates the
    former kludge used to fclose the stdio output streams, and required a
    bit of touchup to the pdf, ps, and svg-surface usage of streams.

 src/cairo-base85-stream.c |  142 ++++++++++++++++++++++++++++++++-------------
 src/cairo-output-stream.c |   52 ++++++++++------
 src/cairo-pdf-surface.c   |    2 +-
 src/cairo-ps-surface.c    |   22 +++++--
 src/cairo-svg-surface.c   |    2 +-
 src/cairoint.h            |   23 +++++--
 6 files changed, 169 insertions(+), 74 deletions(-)

commit 57fe9b17b0a1a36acf0d8d524df05215ea48361f
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Mon Apr 3 15:26:17 2006 -0700

    Move base85 code out of cairo-output-stream.c into new cairo-base85-stream.c

 src/Makefile.am           |    1 +
 src/cairo-base85-stream.c |   98 +++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-output-stream.c |   63 -----------------------------
 3 files changed, 99 insertions(+), 63 deletions(-)

commit 9bdb4f6ff713db0d101a0c0735dbb27e54fd7846
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sun Apr 2 15:55:27 2006 +0200

    Use more portable shell syntax
    
    Reported by Dave Yeo in
    http://lists.freedesktop.org/archives/cairo/2006-April/006600.html
    
    Fixed for the other tests in 0883155111ab9597d335c7d43ae47c163b5c0e4d

 configure.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 03eb1b85a906fac4acfbf3ee2839d13ccac97668
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Fri Mar 10 11:57:41 2006 -0800

    [win32] Add missing depth-16 format check
    (cherry picked from 969d624db8d32d35361bbcc89dbcc354f3d48eaa commit)

 src/cairo-win32-surface.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6a430478f508361767bff91132c3978234b76e95
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Tue Mar 14 13:25:51 2006 +0100

    Add an assert for the unsupported image surface formats

 src/cairo-beos-surface.cpp |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8fbd0d448dbdf8f556315366b64abe2468588ea6
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Mon Mar 27 02:31:51 2006 +0200

    Implement create_similar for BeOS

 src/cairo-beos-surface.cpp |  202 ++++++++++++++++++++++++++++++++++----------
 1 files changed, 158 insertions(+), 44 deletions(-)

commit edb83e306bda8a78a8a72006f257922cda7adc69
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 24 12:07:21 2006 -0800

    cairo-ps-surface: Simplify operation analysis.
    
    Introduce a new pattern_operation_analyze function which allows a much
    simpler idiom to be used by all of the drawing operations. This also
    provides new assertions that when we are not analyzing we are never
    called to perform an operation that we would analyze as
    unsupported.

 src/cairo-ps-surface.c |   57 +++++++++++++++++++++++++++++------------------
 1 files changed, 35 insertions(+), 22 deletions(-)

commit 29dad9867aa5f00f4f38da5da7df6aded794682c
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 24 11:58:45 2006 -0800

    cairo-ps-surface: Don't support meta-surfaces. This isn't ready yet.

 src/cairo-ps-surface.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 7cee03957b805db55df6f54deef5012535dfa7f4
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 24 11:57:18 2006 -0800

    cairo-ps-surface: Fix characterization of CLEAR and SOURCE operators.
    
    CLEAR should always be considered a translucent operator, while SOURCE is not
    necessarily always opaque.

 src/cairo-ps-surface.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 498094027e18fbc8f190a225a87787a5b445e547
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 24 11:49:48 2006 -0800

    Back out use of meta-surface for similar-paginated-surface. It's not ready yet.

 src/cairo-paginated-surface.c |   11 +----------
 1 files changed, 1 insertions(+), 10 deletions(-)

commit ecb062a6792d39f7ddb670ef35ea89b868e79353
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 24 11:48:35 2006 -0800

    Update PDF backend for new paginated API so it at least doesn't crash.

 src/cairo-pdf-surface.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit 3259efed7690670754d7c1e76176ff26464111c3
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 23 15:36:41 2006 -0800

    _cairo_lzw_compress: Remove unused code which we had for testing
    conformance with the LZW compression from libtiff.

 src/cairo-lzw.c |   13 -------------
 1 files changed, 0 insertions(+), 13 deletions(-)

commit bcfe344608150aa56b1cb37dbc774455bfcf6830
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 23 15:27:00 2006 -0800

    Optimize the implementation of _cairo_lzw_compress.
    
    This switches the implementation of _cairo_lzw_compress from using
    cairo-hash.c to a custom implementation of the same algorithm that
    takes advantage of the specific details of what is needed here.
    
    This final version now has comparable performance to the libtiff code,
    but should hopefully be easier to understand.
    
    Add a bunch of comments explaining how the various pieces work.

 src/cairo-lzw.c |  377 ++++++++++++++++++++++++++++++++-----------------------
 1 files changed, 217 insertions(+), 160 deletions(-)

commit 639c2fe4df880546d71b2c73ea972fb08b609603
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 23 15:23:29 2006 -0800

    cairo-lzw: Replace LZW code from libtiff with an original implementation.
    
    This new implementation is an entirely original work directly from the
    description of the LZWDecode filter in the PostScript Language
    Reference, (and in spite of the bugs in the examples provided in that
    reference).
    
    This implementation uses the existing cairo-hash.c for the symbol
    table. This implementation is somewhat easier to read than the libtiff
    code, and avoids any code that may have an advertising clause
    attached. This new implementation is the simplest thing I could
    implement. It is not as efficient as the libtiff code, (though I did
    expect better things from cairo-hash.c).

 src/cairo-lzw.c |  709 ++++++++++++++++++++++---------------------------------
 src/cairoint.h  |    4 +-
 2 files changed, 285 insertions(+), 428 deletions(-)

commit ec60bb0a606cadf3120d1cebc88e248a3e056c19
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 23 15:00:40 2006 -0800

    Rename _cairo_compress_lzw to _cairo_lzw_compress and tighten the parameter list.

 src/cairo-lzw.c        |    8 ++++----
 src/cairo-ps-surface.c |    3 ++-
 src/cairoint.h         |    4 +---
 3 files changed, 7 insertions(+), 8 deletions(-)

commit cabe94a15c277bb8a5f0c71f25cc8bc9e22ecb41
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Wed Mar 22 23:12:23 2006 -0800

    Make all hash/cache keys_equal function accept const pointers.

 src/cairo-cache-private.h |    2 +-
 src/cairo-font.c          |   12 ++++++------
 src/cairo-ft-font.c       |   12 ++++++------
 src/cairo-hash-private.h  |    2 +-
 src/cairo-scaled-font.c   |   14 +++++++-------
 5 files changed, 21 insertions(+), 21 deletions(-)

commit a193f70b94667808f573caa5b82a1bf50281555e
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed Mar 22 11:48:44 2006 +0100

    SVG: return len in _cairo_svg_document_write when operation succeed.

 src/cairo-svg-surface.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit ef04471b1b90057c00ec51e1f3d7c7ed4ab1e34c
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Mar 18 18:08:20 2006 +0100

    More consistent naming for the BeOS surface functions

 src/cairo-beos-surface.cpp |   44 ++++++++++++++++++++++----------------------
 1 files changed, 22 insertions(+), 22 deletions(-)

commit 69acfa6576e8d2b97e3e3b8c06badf5486ae0315
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Fri Mar 17 21:26:27 2006 +0100

    Don't link to C++ libraries on non-BeOS systems

 src/Makefile.am |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 0623f8a7d1452c27892f938fe28e6e173e67e136
Merge: 26b06b3 a7f58f8
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Wed Mar 15 15:25:59 2006 -0500

    Merge branch 'master' of git+ssh://git.cairographics.org/git/cairo

commit 26b06b3638ec768da01839cfa3c75e9807b14ee8
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Wed Mar 15 15:17:26 2006 -0500

    Clarify that git tag -s does GPG signing.
    (cherry picked from e94251861565ed154e15ca3a7198ffe3828536fe commit)

 RELEASING |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit f5013b6dc6442493ea38949fdcc137e5c44b6872
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Wed Mar 15 14:19:08 2006 -0500

    Add a release-publish-message target to only get the message.
    (cherry picked from 98facc6c2d0f57f05de7b98c2aaa592c895d1a09 commit)

 Makefile.am |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 46e5ed66d3329f1608950d817e7248c91087893a
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Wed Mar 15 11:25:02 2006 -0500

    Note using "git diff" instead of "git status" as the latter is a bit tricky when it says nothing to commit...
    (cherry picked from a1621eadb655806de8bb47c2e701de6eaa9d2090 commit)

 RELEASING |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f00a1833341699135e792e3a77e19dca0d1dba86
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Wed Mar 15 11:18:40 2006 -0500

    Update release infra to reflect git transition.
    (cherry picked from 508b0be5f2023dabe9561f4ca62481d6a4c8c5ae commit)

 INSTALL      |    2 +-
 Makefile.am  |    4 ++--
 RELEASING    |   21 +++++++++------------
 configure.in |    2 +-
 4 files changed, 13 insertions(+), 16 deletions(-)

commit 037732cac9ff402e51d80d6ed54cc32d669aa0d9
Author: Behdad Esfahbod <behdad@home.(none)>
Date:   Wed Mar 15 10:59:59 2006 -0500

    Add make bits to autogenerate ChangeLog
    (cherry picked from 393000021c2e082d4b3c235939009a90035b0daf commit)

 .gitignore  |    1 +
 Makefile.am |   39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 40 insertions(+), 0 deletions(-)

commit a7f58f886253f4ae66c9b0ed4472f575eaf2ec1d
Author: Alexander Larsson <alexl@redhat.com>
Date:   Wed Mar 15 10:44:09 2006 -0800

    Add LZW image compression and ASCII85 encoding for PostScript image output.
    
    * src/Makefile.am:
    Add cairo-lzw.c to sources
    Remove erronous space at start of line
    
    * src/cairo-lzw.c:
    New file implementing _cairo_compress_lzw which does Lempel-Ziv & Welch
    compression as used by postscript. Based on code from libtiff.
    
    * src/cairo-output-stream.c:
    Add _cairo_output_stream_write_base85_string which implements
    an encoder for the ASCII85Decode postscript filter.
    
    * src/cairoint.h:
    Add _cairo_compress_lzw and _cairo_output_stream_write_base85_string.
    
    * src/cairo-ps-surface.c:
    Write Images LZW + Base85 encoded.
    Change ps level to 2 (we only needed level 3 for FlateDecode).
    Change DocumentData to Clean7Bit as we don't include binary data
    anymore.

 src/Makefile.am           |    3 +-
 src/cairo-lzw.c           |  499 +++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-output-stream.c |   63 ++++++
 src/cairo-ps-surface.c    |   37 +---
 src/cairoint.h            |   10 +
 5 files changed, 582 insertions(+), 30 deletions(-)

commit d6f8df7417bdab75dbcfe9658616dd3367276ed0
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 15 07:31:48 2006 -0800

    Remove annoyinc RCS magic lines that are not being used, but cause conflicts.

 pixman/src/fbedge.c       |    2 --
 pixman/src/fbedgeimp.h    |    2 --
 pixman/src/fbpict.c       |    2 --
 pixman/src/fbpict.h       |    2 --
 pixman/src/icpixels.c     |    2 --
 pixman/src/ictrap.c       |    2 --
 pixman/src/pixman.h       |    2 --
 pixman/src/pixregionint.h |    2 --
 pixman/src/renderedge.c   |    2 --
 pixman/src/renderedge.h   |    2 --
 10 files changed, 0 insertions(+), 20 deletions(-)

commit 2af29f720faac0a9ee3961a81b81acae9a716220
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Tue Mar 14 23:02:39 2006 +0100

    SVG: use xmlOutputBuffer for file creation, instead of dumping xml tree in a memory buffer.

 src/cairo-svg-surface.c |   23 +++++++++++++++++------
 1 files changed, 17 insertions(+), 6 deletions(-)

commit 5d89faf6b37bb0367c8ba8f8637fc80bd745c888
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Mar 13 13:20:29 2006 -0800

    fbCompositeTrans_0888xnx0888: Fix suspicious logical negation of pointer value.
    
    Surely, the ! instead of ~ here was just a typo. I'd feel better if I
    had a failing test case for this though, (time to break out gcov
    again).
    
    Fixes bug #6185:
    
    	Strange pointer operations in fbCompositeTrans_0888xnx0888 (pixman/src/fbpict.c)
    	https://bugs.freedesktop.org/show_bug.cgi?id=6185

 pixman/src/fbpict.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6f0d8eedc504e8af2224c502be25dc82b5df70f4
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Mar 13 12:25:25 2006 -0800

    _clip_and_composite_trapezoids: Avoid NULL pointer dereference due to OOM.
    
    This closes bug #6197:
    
    	Null pointer dereference on OOM in _clip_and_composite_trapezoids()
    	https://bugs.freedesktop.org/show_bug.cgi?id=6197

 src/cairo-surface-fallback.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 79075b2cb1ce1397506fc10572df96f6fd00ecc3
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Mar 13 12:20:23 2006 -0800

    cairo-clip: Fix memory leak during OOM handling.
    
    This closes bug #6196:
    
    	Memory leak in _cairo_clip_intersect_path (src/cairo-clip.c)
    	https://bugs.freedesktop.org/show_bug.cgi?id=6196

 src/cairo-clip.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit fc51a78a1ed5f7649ce55ab30fc42939a9b295d1
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Mar 13 12:14:47 2006 -0800

    cairo-pdf-surface: Close memory leak during OOM handling.
    
    This fixes bug #6186:
    
    	Memory leak in emit_image_rgb_data (src/cairo-pdf-surface.c)
    	https://bugs.freedesktop.org/show_bug.cgi?id=6186

 src/cairo-pdf-surface.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 25cccaaa1f6d337a1a0423a298f94456e72a820a
Merge: c780f4a 118f71b
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Mar 13 12:05:37 2006 -0800

    Merge branch 'cairo-origin' into cairo

commit c780f4a5624f27a6cbf7829e10e8cd3544ae4f38
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Mar 13 12:05:13 2006 -0800

    cairo-output-stream: Don't dereference a NULL pointer due to OOM.
    
    This close bug #6176:
    
    	Null pointer dereference on OOM in _cairo_output_stream_create_for_file()
    	https://bugs.freedesktop.org/show_bug.cgi?id=6176

 src/cairo-output-stream.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 118f71b43870551db520ad56234c650aa4b61296
Merge: 6659991 92e09ee
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sun Mar 12 19:30:29 2006 +0100

    Merge branch 'master' of git+ssh://emmanuel@git.cairographics.org/git/cairo

commit 66599911e0664afd145975e3afb0f580e6d1bb3c
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Mar 9 22:09:14 2006 +0100

    Don't duplicate unmodified SVG surfaces

 src/cairo-svg-surface.c |   30 ++++++++++++++++++++++++------
 1 files changed, 24 insertions(+), 6 deletions(-)

commit 92e09ee72fdde9059300b2b63d87e2bbd4286605
Author: Mart Raudsepp <leio@dustbite.net>
Date:   Thu Mar 9 08:23:43 2006 -0800

    Complete the CAIRO_PATTERN_TYPE renaming
    
    This fixes compilation of the glitz backend, and also fixes missing
    renames in win32, atsui, and directfb backends.

 src/cairo-atsui-font.c       |    2 +-
 src/cairo-directfb-surface.c |    6 +++---
 src/cairo-glitz-surface.c    |   14 +++++++-------
 src/cairo-win32-surface.c    |    4 ++--
 4 files changed, 13 insertions(+), 13 deletions(-)

commit 1cffb39ff04bbb29bb070e42c51aa1ae6aaf5a4c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Mar 8 08:16:49 2006 -0800

    cairo_show_glyphs: Do nothing if num_glyphs == 0

 src/cairo.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 7563a23921a4d6f9f826a13b42d61f3ba3c31c10
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sun Mar 5 23:49:38 2006 +0100

    Fix self-copy test

 src/cairo-svg-surface.c |   31 ++++++++++++++++++-------------
 1 files changed, 18 insertions(+), 13 deletions(-)

commit 3333bba82d26a0b11961af3cb5c29c79a1a0d07b
Merge: 62812b2 3370cd6
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 3 15:41:14 2006 -0800

    Merge branch 'show-glyphs-many' into cairo

commit 3370cd631858cac0fd3ce33c74db3af40991e6f1
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Mar 3 15:40:58 2006 -0800

    _cairo_xlib_surface_old_show_glyphs: Break up rendering into chunks to fit
    into X max request length protocol limits.
    
    This fixes bug #5528:
    
    	_XError from XRenderCompositeText8
    	https://bugs.freedesktop.org/show_bug.cgi?id=5528
    (cherry picked from 7d498ca91279a4e793d704c5b878f070be4c878f commit)

 src/cairo-xlib-surface.c |   49 ++++++++++++++++++++++++++++++++-------------
 1 files changed, 35 insertions(+), 14 deletions(-)

commit 34a4ad1e5bca8db34933718db245a232ebe30ce2
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Mar 2 10:32:38 2006 -0800

    test/show-glyphs-many: New test case to demonstrate bug #5528
    
    This demonstrates an Xlib crash when rendering many glyphs. See:
    
    	_XError from XRenderCompositeText8
    	https://bugs.freedesktop.org/show_bug.cgi?id=5528
    
    for more details.

 test/.gitignore                     |    1 +
 test/Makefile.am                    |    2 +
 test/show-glyphs-many-ref.png       |  Bin 0 -> 118 bytes
 test/show-glyphs-many-rgb24-ref.png |  Bin 0 -> 115 bytes
 test/show-glyphs-many.c             |  127 +++++++++++++++++++++++++++++++++++
 5 files changed, 130 insertions(+), 0 deletions(-)

commit 62812b25c7f0c11aa6c973b722fa8e1bd088d4b8
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Mar 2 14:54:37 2006 +0100

    Fix gcc 4.0 signedness warnings

 src/cairo-svg-surface.c |   30 +++++++++++++++---------------
 1 files changed, 15 insertions(+), 15 deletions(-)

commit 3490ed989672eaf2c08468ba81e3376fa362e41f
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Wed Mar 1 19:16:01 2006 +0100

    Remove trailing comma in enumeration
    
    This fixes a gcc -pedantic warning and compilation with the xlc compiler.

 src/cairo-meta-surface-private.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2fb016c75b950b3b1fe077dc349713f61118fd7c
Merge: 8176c93 3490ed9
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Mar 1 11:26:48 2006 +0100

    Merge branch 'master' of git+ssh://git.cairographics.org/git/cairo

commit 8176c93bc481414c1584bf4721ac1680ed827d97
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Wed Mar 1 11:26:30 2006 +0100

    Revert "Remove ft-font's usage of device offset surface fields for storing bearings"
    
    Bogus fix; misunderstood the relationship between the font bearings
    and the computed device offsets.  Real fix on my device offsets branch.
    
    This reverts 49b4fe10d0acdf6b9776d2908e98f2f0c596fbe5 commit.

 src/cairo-ft-font.c      |   22 +++++++++++++++++++++-
 src/cairo-scaled-font.c  |    6 +++---
 src/cairo-xlib-surface.c |    4 ++--
 3 files changed, 26 insertions(+), 6 deletions(-)

commit e2855502f2f2e701b96a2a7eee4cda8c374bcbb9
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Feb 28 14:10:36 2006 -0800

    Fix last piece of merge resolution missing from previous commit

 src/cairo-ps-surface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e3017c3c8de2b90e1d3470866f9bd6cc2cd313fa
Merge: ce683a2 2984f60
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Feb 28 12:07:14 2006 -0800

    Merge in upstream 'ps-surface' changes

commit f5566c9b20edf04b44f60bba164c226f2718a935
Merge: 49b4fe1 d985a9d
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Tue Feb 28 16:29:45 2006 +0100

    Merge branch 'master' of git+ssh://git.cairographics.org/git/cairo

commit d985a9d6696f1ed653a48d95bc401ede3ba86d5f
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Wed Mar 1 00:40:35 2006 +0100

    Fixing BeOS surface part II

 src/cairo-beos-surface.cpp |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 566bb18dfee2daaaaf86e7a22e8a7883e81efd97
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Wed Mar 1 00:06:43 2006 +0100

    Updating BeOS surface per the get_type changes

 src/cairo-beos-surface.cpp |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a69b3f211654d1f221859f8e7f9608f8030e1ac4
Author: manu <manu@hobbes.localdomain>
Date:   Tue Feb 28 23:44:01 2006 +0100

    s/CAIRO_PATTERN/CAIRO_PATTERN_TYPE/

 src/cairo-svg-surface.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 0341305fd2f303a23d10b448ac385a981b8b35fe
Author: manu <manu@hobbes.localdomain>
Date:   Tue Feb 28 23:33:00 2006 +0100

    Revert "Git test"
    
    This reverts ef1c5c3961c2dff1a48606a45a6c9877924e5f15 commit.

 src/cairo-svg-surface.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit ef1c5c3961c2dff1a48606a45a6c9877924e5f15
Author: manu <manu@hobbes.localdomain>
Date:   Tue Feb 28 22:52:45 2006 +0100

    Git test

 src/cairo-svg-surface.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 49b4fe10d0acdf6b9776d2908e98f2f0c596fbe5
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Tue Feb 28 16:21:46 2006 +0100

    Remove ft-font's usage of device offset surface fields for storing bearings
    
    cairo-ft-font was being naughty and storing glyph bearings in the
    surface device_[xy]_offset fields -- this had no effect previously,
    because _cairo_surface_composite ignored those fields, but once it
    starts handling device offsets itself, this causes ft text rendering
    to break.

 src/cairo-ft-font.c      |   22 +---------------------
 src/cairo-scaled-font.c  |    6 +++---
 src/cairo-xlib-surface.c |    4 ++--
 3 files changed, 6 insertions(+), 26 deletions(-)

commit 6fe93cbf5b368a9a6daf54370aa0e7735b411474
Merge: f2245a7 210dd59
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Feb 28 02:36:45 2006 -0800

    Merge branch 'get-type' into cairo

commit 210dd59a7441424f71658ca248f6657482c74c7e
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Feb 28 02:30:27 2006 -0800

    Add some basic testing of cairo_font_face_get_type and
    cairo_scaled_font_get_type.

 test/.gitignore                   |    1 +
 test/Makefile.am                  |    2 +
 test/font-face-get-type.c         |   64 +++++++++++++++++++++++++++++++++++++
 test/ft-font-create-for-ft-face.c |   14 ++++++++
 4 files changed, 81 insertions(+), 0 deletions(-)

commit bd2136a23f8a3d5f6a1306d18499fdcfc1e87f48
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Feb 28 01:31:15 2006 -0800

    Correct copyright date

 test/pattern-get-type.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f9534c856a71b0f56a1e5bc58141b7bc192a27e8
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Feb 28 01:30:58 2006 -0800

    test/pattern-get-type: Add new test case for cairo_pattern_get_type.

 test/.gitignore         |    1 +
 test/Makefile.am        |    2 +
 test/pattern-get-type.c |   74 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 77 insertions(+), 0 deletions(-)

commit 1dd6e417c10c90894c87565d4f7fa3f63e97f212
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Feb 28 00:55:27 2006 -0800

    Add testing for cairo_surface_get_type.
    
    All test targets now list an expected cairo_surface_type_t. Add notes
    on current limitations of PDF/PS/meta-surface support that causes
    CAIRO_CONTENT_COLOR similar surfaces of PDF and PS surfaces to be
    returned as image surfaces.
    
    Add cairo_internal_surface_type_t for the meta, paginated, and various
    test surfaces.

 src/cairo-paginated-surface.c |   20 +++++++-
 src/cairoint.h                |    6 ++-
 src/test-fallback-surface.c   |    1 +
 src/test-meta-surface.c       |    1 +
 test/cairo-test.c             |  107 ++++++++++++++++++++++++++++++-----------
 5 files changed, 103 insertions(+), 32 deletions(-)

commit cd84e2ab32fe4648f9d172cdefe08798336938d2
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 23:15:45 2006 -0800

    Add documentation for cairo_font_face_get_type,
    cairo_scaled_font_get_type, cairo_surface_get_type, and
    cairo_pattern_get_type.

 src/cairo-font.c        |    6 ++++++
 src/cairo-pattern.c     |    6 ++++++
 src/cairo-scaled-font.c |    6 ++++++
 src/cairo-surface.c     |    6 ++++++
 4 files changed, 24 insertions(+), 0 deletions(-)

commit 5797f814852bb4f6ef559890640b8cd24ec5fa45
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 23:12:43 2006 -0800

    Implement cairo_pattern_get_type

 src/cairo-pattern.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 5ae0b9f912b7f5fd1700cbf18763a05493f55b62
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 23:11:32 2006 -0800

    Implement cairo_surface_get_type

 src/cairo-directfb-surface.c  |    1 +
 src/cairo-glitz-surface.c     |    1 +
 src/cairo-image-surface.c     |    1 +
 src/cairo-meta-surface.c      |    1 +
 src/cairo-paginated-surface.c |    5 +++++
 src/cairo-pdf-surface.c       |    1 +
 src/cairo-ps-surface.c        |    1 +
 src/cairo-surface.c           |   15 +++++++++++++++
 src/cairo-svg-surface.c       |    1 +
 src/cairo-win32-surface.c     |    1 +
 src/cairo-xcb-surface.c       |    1 +
 src/cairo-xlib-surface.c      |    1 +
 src/cairoint.h                |   12 ++++++++++++
 13 files changed, 42 insertions(+), 0 deletions(-)

commit 2984f60a3a4571a8d4179fdc64a9e67ce9854f21
Author: Keith Packard <keithp@evo.keithp.com>
Date:   Mon Feb 27 20:09:24 2006 -0800

    Need cairo_analyze_surface_get_extents

 src/cairo-analyze-surface.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 9ca67992a5816db49e8dca866816481483896814
Author: Keith Packard <keithp@evo.keithp.com>
Date:   Mon Feb 27 20:05:57 2006 -0800

    Support meta surface patterns

 src/cairo-paginated-surface.c |   11 ++++++++++-
 src/cairo-ps-surface.c        |   39 ++++++++++++++++++++++++++-------------
 2 files changed, 36 insertions(+), 14 deletions(-)

commit ad247974ebcfc5ede9fd3856eeaee4860318d118
Author: Keith Packard <keithp@evo.keithp.com>
Date:   Mon Feb 27 19:34:32 2006 -0800

    Release pattern source image when done with it

 src/cairo-ps-surface.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 59e4a32d550d14cfaa0687e716c7df0cadf56adc
Author: Keith Packard <keithp@evo.keithp.com>
Date:   Mon Feb 27 19:23:47 2006 -0800

    Primitive ps glyph support. Fix ps strokes to not leave path defined

 src/cairo-ps-surface.c  |   52 +++++++++++++++++++++++++++++++++++++++++++---
 src/cairo-scaled-font.c |    2 +-
 src/cairoint.h          |    2 +-
 3 files changed, 50 insertions(+), 6 deletions(-)

commit 06b83b89fc4271060c63b284d7909162b92152f1
Author: Keith Packard <keithp@evo.keithp.com>
Date:   Mon Feb 27 17:49:53 2006 -0800

    Support image surface patterns

 src/cairo-ps-surface.c |   39 +++++++++++++++++++++++++++++++--------
 1 files changed, 31 insertions(+), 8 deletions(-)

commit 1769830e6eea08744830c1c7ea9220d56808831a
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 17:22:45 2006 -0800

    Implement cairo_scaled_font_get_type

 src/cairo-atsui-font.c  |    1 +
 src/cairo-ft-font.c     |    1 +
 src/cairo-scaled-font.c |    6 ++++++
 src/cairo-win32-font.c  |    1 +
 src/cairoint.h          |    2 ++
 5 files changed, 11 insertions(+), 0 deletions(-)

commit f2245a7932b857ff70dc0476490090d906ae61f8
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 17:07:22 2006 -0800

    Remove unused RCS $Id:$ tags.

 src/cairo-wideint.c |    3 +--
 src/cairo-wideint.h |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit ce683a240236fbe8083f284195acf0f78aa05048
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 15:12:15 2006 -0800

    Drop gratuitous structure with single function pointer. Rename
    paginated_set_mode to set_paginated_mode.

 src/cairo-paginated-surface-private.h |   10 +++-------
 src/cairo-paginated-surface.c         |   12 ++++++------
 src/cairo-ps-surface.c                |   31 +++++++++++++++----------------
 3 files changed, 24 insertions(+), 29 deletions(-)

commit aecb07a26d1db73cf6eee183de0f77615dea6830
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 14:58:51 2006 -0800

    cairo_analysis_surface: Rename region_[un]supported() to get_[un]supported().

 src/cairo-analysis-surface-private.h |    4 ++--
 src/cairo-analysis-surface.c         |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 2660e79e674a55e71014f83e9247372edd9ab531
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Feb 27 14:56:41 2006 -0800

    Rename cairo_analyze_surface_t to cairo_analysis_surface_t.

 src/Makefile.am                      |    6 +-
 src/cairo-analysis-surface-private.h |   55 ++++++++
 src/cairo-analysis-surface.c         |  246 ++++++++++++++++++++++++++++++++++
 src/cairo-analyze-surface-private.h  |   55 --------
 src/cairo-analyze-surface.c          |  246 ----------------------------------
 src/cairo-paginated-surface.c        |   18 ++--
 6 files changed, 313 insertions(+), 313 deletions(-)

commit f9d4482137e7f13e634cc578c64d84ffdea16bca
Author: Keith Packard <keithp@evo.keithp.com>
Date:   Mon Feb 27 17:14:57 2006 -0500

    rename evaluate surface to analyze surface, pull to separate files

 src/Makefile.am                       |    2 +
 src/cairo-analyze-surface-private.h   |   55 ++++++++
 src/cairo-analyze-surface.c           |  246 +++++++++++++++++++++++++++++++++
 src/cairo-paginated-surface-private.h |    2 +-
 src/cairo-paginated-surface.c         |  210 ++--------------------------
 src/cairo-ps-surface.c                |   10 +-
 6 files changed, 319 insertions(+), 206 deletions(-)

commit cb3a445150e3771d23854849c2a1c991eaee712c
Author: Keith Packard <keithp@evo.keithp.com>
Date:   Mon Feb 27 19:47:14 2006 +0100

    Primitive "real" postscript output for stroke/fill/paint

 src/cairo-paginated-surface-private.h |   15 +-
 src/cairo-paginated-surface.c         |  241 ++++++++++++++++-
 src/cairo-pdf-surface.c               |    3 +-
 src/cairo-ps-surface.c                |  470 +++++++++++++++-----------------
 4 files changed, 467 insertions(+), 262 deletions(-)

commit 1a1441912604c89e2912ec764fe26b7a9db995a3
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Fri Feb 17 23:37:54 2006 -0800

    Win32: Handle BitBlt in get_image failure and AlphaBlend not being supported
    
    If the BitBlt in get_image fails, we pretty much can't do anything -- so
    fill the destination with white and hope for the best.  This enables
    somewhat accurate printing of complex operations.  Also, check the
    destination device caps before calling AlphaBlend; return UNSUPPORTED if
    the destination DC can't do AlphaBlend.
    (cherry picked from 9831de538e347a624af5b0ca38242b198b64bd45 commit)

 src/cairo-win32-surface.c |   18 +++++++++++++++---
 1 files changed, 15 insertions(+), 3 deletions(-)

commit 2d784815ffac1ca8c10dac12525f2e8d0b412c1a
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Fri Feb 17 23:34:51 2006 -0800

    Win32: Set surface format based on device caps
    
    If the DC is a display DC, inspect its depth and set out local format
    appropriately.  If it's not a display DC, assume RGB24.
    (cherry picked from 6dd0a70d271f93df95f4bcaff5073b9bf90cecb6 commit)

 src/cairo-win32-surface.c |   27 +++++++++++++++++++++++++--
 1 files changed, 25 insertions(+), 2 deletions(-)

commit 68ed40b6da242816a43cd68cc2c7feb779cf0acf
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Fri Feb 17 23:24:06 2006 -0800

    Win32: Fix up src coords before calling AlphaBlend/BitBlt to avoid invalid calls
    
    Fixes up src coords and width/height before calling AlphaBlend/BitBlt; it's
    an error to try to use a region that extents outside of the source surface
    as a source DC.
    
    Doesn't repair the extra region relative to the operator -- e.g. regions
    outside of an ARGB source surface with SOURCE operator should be cleared
    to fully transparent black in the destination.
    (cherry picked from bc19c5b64b0e38e9d20045907d7b47d79f6afc60 commit)

 src/cairo-win32-surface.c |   31 +++++++++++++++++++++++++++++--
 1 files changed, 29 insertions(+), 2 deletions(-)

commit 0852cd449259eb9a52bfa63f19428c47c78baf91
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Mon Feb 27 12:49:27 2006 +0100

    Win32: rename cairo_surface_create_dib to cairo_surface_create_with_dib
    
    Also adds some documentation for the win32 creation functions.
    (cherry picked from 3a148bd620d709237d98a72f65118759bfc5a76d commit)

 src/cairo-win32-font.c    |    2 +-
 src/cairo-win32-surface.c |   55 +++++++++++++++++++++++++++-----------------
 src/cairo-win32.h         |    6 ++--
 3 files changed, 38 insertions(+), 25 deletions(-)

commit 0fe8a93d95ab0b2235133fa089be8ec99d1a5248
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Fri Feb 17 23:17:23 2006 -0800

    Win32: expose win32 DIB (image) surface creation function, and DC getter
    
    Adds cairo_win32_surface_create_dib() for creating a win32 DIB-backed
    surface with a particular format.  Also exposes
    cairo_win32_surface_get_dc() to obtain the DC of a win32 surface.
    (cherry picked from 0813a1b9b6f35d786fe8cb0d4748771023956cde commit)

 src/cairo-win32-font.c    |    2 +-
 src/cairo-win32-private.h |    5 -----
 src/cairo-win32-surface.c |   31 ++++++++++++++++++++++++++++---
 src/cairo-win32.h         |    8 ++++++++
 4 files changed, 37 insertions(+), 9 deletions(-)

commit f4b34df6b6c07024a1b552236d8e0db959771b15
Author: Vladimir Vukicevic <vladimir@h-216.office.mozilla.org>
Date:   Wed Feb 15 13:14:52 2006 -0800

    Have mark_dirty always invalidate the last clip set on the surface
    
    mark_dirty will force cairo to set its own clip the next time the cairo clip
    is applied after mark_dirty; otherwise we run the risk of cairo's cached
    clip and the device clip getting out of sync if any clip-related functions
    are used on the native device back-end.
    (cherry picked from 1935a28949da8569f924e37714ec19571fa95987 commit)
    (cherry picked from ef8b472f0ffab7b8b828d7297c7e454bb22bd5ec commit)

 src/cairo-surface.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit e0f4eecb91c8f7f09ef4977703d4ca21b06797a9
Author: Vladimir Vukicevic <vladimir@h\-216.office.mozilla.org>
Date:   Wed Feb 15 12:43:01 2006 -0800

    Win32: Rework clip and extents handling
    
    - Save extents at surface creation and always return these
    - Simplify clipping paths
    (cherry picked from a67722b3d7280e6c2375778c2d46556cca261bfc commit)
    (cherry picked from 7ce09732a978749a4da814feb77f50161dc42c91 commit)

 src/cairo-win32-private.h |    2 +-
 src/cairo-win32-surface.c |   92 +++++++++++++++++----------------------------
 2 files changed, 36 insertions(+), 58 deletions(-)

commit f6b4fabaf59227d6cafcdd7e27cf0d8e26b4eeb8
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Tue Feb 14 11:55:00 2006 -0800

    Misc compilation fixes (C++-style comments, M_PI decls, etc.)
    (cherry picked from d0cc56b9a24fa59febc15ac5de073da0e785e1cc commit)
    (cherry picked from a6a054abe45287eb950c294e20366594313138f5 commit)

 pixman/src/fbcompose.c |    8 ++++++++
 pixman/src/pixregion.c |    6 +++---
 src/cairo-atsui-font.c |   10 ++++++++++
 src/cairoint.h         |    4 ++++
 4 files changed, 25 insertions(+), 3 deletions(-)

commit dba214b944a16dd7ee781f495cd5fbe83f678451
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sun Feb 26 10:46:04 2006 +0100

    Use C-style comments rather than C++-style

 pixman/src/fbcompose.c             |    4 ++--
 pixman/src/pixman-xserver-compat.h |    2 +-
 src/cairo-atsui-font.c             |   23 ++++++++++++-----------
 src/cairo-directfb-surface.c       |    2 +-
 src/cairo-quartz-surface.c         |   11 ++++++-----
 5 files changed, 22 insertions(+), 20 deletions(-)

commit 5a3c30eafe0b77f69434e139a2e247c8eb4230d7
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Feb 24 15:32:26 2006 -0800

    Implement cairo_font_face_get_type.
    
    Add font type to font_face_backend.
    Also export new CAIRO_FONT_TYPE_TOY.

 src/cairo-atsui-font.c |    1 +
 src/cairo-font.c       |    7 +++++++
 src/cairo-ft-font.c    |    1 +
 src/cairo-win32-font.c |    1 +
 src/cairo.h            |    1 +
 src/cairoint.h         |    3 +++
 6 files changed, 14 insertions(+), 0 deletions(-)

commit 5928d03b496420b2d0a89cf8e2d294081a60cc67
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Feb 24 15:25:19 2006 -0800

    Remove private cairo_pattern_type in favor of new public one. Rename
    all values to now include TYPE. Drop _GRADIENT from LINEAR and RADIAL.

 src/cairo-meta-surface.c     |    2 +-
 src/cairo-pattern.c          |   68 +++++++++++++++++++++---------------------
 src/cairo-pdf-surface.c      |   10 +++---
 src/cairo-ps-surface.c       |   26 ++++++++--------
 src/cairo-surface-fallback.c |    2 +-
 src/cairo-xlib-surface.c     |    2 +-
 src/cairo.h                  |   12 ++++----
 src/cairoint.h               |    7 ----
 8 files changed, 61 insertions(+), 68 deletions(-)

commit f58f39d7afee8d8a663569f149651c789aa95da8
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Feb 24 15:06:50 2006 -0800

    cairo.h: Fix typo (thanks to Torsten Schoenfeld)

 src/cairo.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2fc9fd79e794129b26cc8f9b62a5aa4604cb99d9
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Feb 24 11:37:50 2006 -0800

    cairo.h: Fix two typos in the documentation.

 src/cairo.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9287d60d60f55ae3838a7cecfa9fa04a5f95e8de
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Feb 24 11:24:03 2006 -0800

    Add get_type functions: cairo_surface_get_type,
    cairo_pattern_get_type, cairo_font_face_get_type, and
    cairo_scaled_font_get_type.

 src/cairo-surface.c |    3 +-
 src/cairo.h         |  134 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 134 insertions(+), 3 deletions(-)

commit d0e02a948e83e3b1b330c9cb0aa4930b42bf485c
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Feb 24 09:18:17 2006 -0800

    autogen.sh: Pass --foreign option to automake so that it doesn't
    complain that ChangeLog does not exist.

 autogen.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cb778760cb87e727a701603bcea3a2cdc063d785
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Feb 23 22:07:13 2006 -0800

    cairo_close_path: Document that there will be a current point after
    cairo_close_path.

 src/cairo.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 1dc1b57b4eaa55b7a5cafe39f818f7c87352ea6d
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Feb 23 22:01:07 2006 -0800

    cairo_new_sub_path: Making cairo_arc easier to use and more.
    
    This adds a new function which has as its only effect the elimination
    of
    the current point. This makes it much easier to use the various
    cairo_arc calls when the initial line_to is not actually desired.
    
    This function also unifies and generalizes the long-existing behavior
    of cairo_line_to being treated as cairo_move_to when there is no
    current point. With the addition of cairo_new_sub_path this becomes a
    documented feature with similar behavior in cairo_curve_to as well.

 .gitignore                      |    1 +
 src/cairo-path-stroke.c         |   24 +++---------
 src/cairo-path.c                |   40 +++++++++++++++-----
 src/cairo-pdf-surface.c         |   48 ++++++------------------
 src/cairo-ps-surface.c          |   53 +++++++-------------------
 src/cairo-svg-surface.c         |   17 +-------
 src/cairo.c                     |   60 ++++++++++++++++++++++++++---
 src/cairo.h                     |    3 +
 src/cairoint.h                  |    3 +
 test/.gitignore                 |    1 +
 test/Makefile.am                |    4 ++
 test/new-sub-path-ref.png       |  Bin 0 -> 386 bytes
 test/new-sub-path-rgb24-ref.png |  Bin 0 -> 355 bytes
 test/new-sub-path.c             |   79 +++++++++++++++++++++++++++++++++++++++
 14 files changed, 209 insertions(+), 124 deletions(-)

commit 0354956a09cf5a45feed256c1d880bbb9b7c7c42
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Feb 23 20:45:30 2006 -0800

    Remove ChangeLog as it is no longer maintained as a separate file (instead it is implicitly generated)

 ChangeLog |13825 -------------------------------------------------------------
 1 files changed, 0 insertions(+), 13825 deletions(-)

commit 07205ddc4b3f7ee0416e487fffcf59d324d18bfe
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Fri Feb 24 00:04:05 2006 +0100

    Mark private functions as cairo_private
    (cherry picked from a1c72cd8f244e97d4b6fe3e5d3efa622c8b3f7f9 commit)

 src/cairo-paginated-surface-private.h |    2 +-
 src/cairoint.h                        |   14 +++++++-------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit b2912241f63bf3f8ee14ab4309fc820afdf33e1c
Author: Christian Biesinger <chb@neuromancer.(none)>
Date:   Tue Feb 21 21:00:48 2006 +0100

    Add missing gradient functions to pixman-remap.h

 pixman/src/pixman-remap.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 0fc25c9853441f1fc2e49e7c77dbf9a99f590868
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Feb 18 21:45:58 2006 +0100

    Don't call _cairo_error when returning an error
    
    Only return it when returning a nil surface.

 src/cairo-beos-surface.cpp |   26 +++++++-------------------
 1 files changed, 7 insertions(+), 19 deletions(-)

commit 5c5ea6d5233a669f6a7dff57ed0afba01131b7b5
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Feb 18 19:36:18 2006 +0100

    Fix typo.

 src/cairoint.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f4d9e5596258284fa7fef01c91ad854544e2b9a2
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Thu Feb 16 23:37:16 2006 +0100

    Use TRUE/FALSE instead of 1/0 for boolean values
    (cherry picked from e1703520169e0cf972a6edcaa8660d14806d8c6f commit)

 src/cairo-xcb-surface.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 57edf3f28fa09d2ec24d85dcc91a220d901a4452
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Thu Feb 16 09:05:52 2006 -0800

    Normalize indentation after previous commit.

 src/cairo-ft-font.c |  312 +++++++++++++++++++++++++--------------------------
 1 files changed, 155 insertions(+), 157 deletions(-)

commit 0152bd3a562442853ab930eaea316c08b34f6ba6
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Thu Feb 16 09:02:29 2006 -0800

    Allow _get_bitmap_surface to work for 0x0 glyphs, (fix for bug #5734).
    
    Patch from: Behdad Esfahbod <freedesktop@behdad.org>
    Reviewed by: Carl Worth <cworth@cworth.org>

 src/cairo-ft-font.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit f12aa15466844b67ec22544c4feee17389ba4aeb
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Wed Feb 15 16:50:57 2006 -0800

    Add Mozilla patches to ROADMAP

 ROADMAP |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit fd9566ebd921f1d5b06ac25d466e15f28fd3112b
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Wed Feb 15 16:36:12 2006 -0800

    Slip 1.2.0 release date out to 2006-03-08

 ROADMAP |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 32ec3ccf1729fbf6da73924238e4a30f1975bbd2
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Wed Feb 15 15:40:41 2006 -0800

    Annoying churn of tmpl file. (We really need to get all of these built files out of version control.)

 doc/public/tmpl/cairo-beos.sgml |   19 -------------------
 1 files changed, 0 insertions(+), 19 deletions(-)

commit d88c19071f6748b190cb17e6724b67705863a9b0
Author: Carl Worth <cworth@raht.cworth.org>
Date:   Wed Feb 15 15:00:26 2006 -0800

    Rename .cvsignore to .gitignore. Add *~ and *.o.

 .cvsignore                     |   20 -------
 .gitignore                     |   24 ++++++++
 doc/.cvsignore                 |    2 -
 doc/.gitignore                 |    3 +
 doc/public/.cvsignore          |   16 ------
 doc/public/.gitignore          |   17 ++++++
 doc/public/tmpl/.cvsignore     |    1 -
 doc/public/tmpl/.gitignore     |    3 +
 doc/tutorial/slides/.cvsignore |    7 ---
 doc/tutorial/slides/.gitignore |    7 +++
 doc/tutorial/src/.cvsignore    |    7 ---
 doc/tutorial/src/.gitignore    |    8 +++
 pixman/.cvsignore              |   19 -------
 pixman/.gitignore              |   20 +++++++
 pixman/src/.cvsignore          |    8 ---
 pixman/src/.gitignore          |   10 ++++
 src/.cvsignore                 |   11 ----
 src/.gitignore                 |   13 +++++
 test/.cvsignore                |  114 ---------------------------------------
 test/.gitignore                |  116 ++++++++++++++++++++++++++++++++++++++++
 20 files changed, 221 insertions(+), 205 deletions(-)

commit f4270b3dfc5e6905c58adb2f6b5d9a049dc616fa
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Feb 13 14:11:36 2006 +0000

    convert _cairo_svg_surface_old_show_glyphs to _cairo_svg_surface_show_glyphs.

 ChangeLog               |    5 +++++
 src/cairo-svg-surface.c |   22 ++++++++--------------
 2 files changed, 13 insertions(+), 14 deletions(-)

commit 921dcc16f980fcf9a8df4c193720e8ec1e53f1dd
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Feb 13 12:41:10 2006 +0000

    Add mask support and switch to SVG 1.2 for compositing operators.
    return xml node instead of cairo status. (emit_composite_svg_pattern): ditto. (emit_composite_pattern): ditto. (emit_operator): use SVG 1.2 operators, since feComposite filter always composite resulting surface to current canvas. (_cairo_svg_surface_composite): removed. (_cairo_svg_surface_fill_rectangles): removed. (intersect): removed. (_cairo_svg_surface_composite_trapezoids): removed. (emit_paint): new. (_cairo_svg_surface_paint): new. (_cairo_svg_surface_mask): new. (_cairo_svg_surface_stroke): emit operator.

 ChangeLog               |   19 +++
 src/cairo-svg-surface.c |  294 ++++++++++++++---------------------------------
 2 files changed, 105 insertions(+), 208 deletions(-)

commit 8ff1866724a8c82a3332db828ffada4ebd4ca144
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Feb 11 12:57:56 2006 +0000

    Adds the BeOS surface functions to the list of functions for which to generate documentation.

 ChangeLog                        |   10 ++++++++++
 doc/public/cairo-docs.xml        |    1 +
 doc/public/cairo-sections.txt    |    7 +++++++
 doc/public/language-bindings.xml |    1 +
 doc/public/tmpl/cairo-beos.sgml  |   38 ++++++++++++++++++++++++++++++++++++++
 5 files changed, 57 insertions(+), 0 deletions(-)

commit 9c05d2aab15b589197436af5287ae9297c0314bd
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Feb 2 12:47:58 2006 +0000

    fix filename.
    shh!

 ChangeLog         |    5 +++++
 test/.cvsignore   |    4 ++--
 test/cairo-test.c |    2 +-
 3 files changed, 8 insertions(+), 3 deletions(-)

commit be7b6251f3ff6b86df3456fad561f4c0acb3c3ab
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Sun Jan 29 13:25:10 2006 +0000

    fix offset of pattern stops.

 ChangeLog               |    5 +++++
 src/cairo-svg-surface.c |    6 ++----
 2 files changed, 7 insertions(+), 4 deletions(-)

commit d157e1fcd5f74e51587fc9eb342ce38ccbf73433
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jan 25 19:17:34 2006 +0000

    Make watermark consistently translucent Use fill for dung outline Fix text locations

 ChangeLog                                   |   12 ++++
 doc/tutorial/slides/cairo-code.svg          |    4 +-
 doc/tutorial/slides/cairo-large-content.svg |    2 +-
 doc/tutorial/slides/cairo-separator.svg     |    8 ++--
 doc/tutorial/slides/cairo-title.svg         |    4 +-
 doc/tutorial/slides/cairo.svg               |   79 +++++++++++----------------
 6 files changed, 54 insertions(+), 55 deletions(-)

commit 3bcaab9fe1cd05ace2073922975d07f6fb01a20f
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 25 15:34:30 2006 +0000

    Add a CONTROL-Q keybinding to quit.

 ChangeLog                                     |    5 +++++
 doc/tutorial/src/include/cairo-tutorial-gtk.h |   17 +++++++++++++++++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit 29479a8b12e3f2575de6ef899142dcd0cd8e21a4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jan 25 15:29:25 2006 +0000

    Adopt proposed new cairo color scheme. Recolor scarab, eliminate gradient in dung Use new blue background color. Rework font sizes, use bold for titles. Change tutorial title.
    reviewed by: cworth

 ChangeLog                                   |   17 +
 doc/tutorial/slides/cairo-blank.svg         |   22 +-
 doc/tutorial/slides/cairo-code.svg          |  114 ++++--
 doc/tutorial/slides/cairo-large-content.svg |  102 ++++--
 doc/tutorial/slides/cairo-separator.svg     |   97 ++++-
 doc/tutorial/slides/cairo-title.svg         |  563 ++++++++++++++++++++++++++-
 doc/tutorial/slides/cairo.svg               |  113 ++++--
 doc/tutorial/slides/tutorial.xml            |    4 +-
 8 files changed, 869 insertions(+), 163 deletions(-)

commit 2d2c5fd5b003d681b57380a5d11ffc4dd3903b35
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 25 14:31:17 2006 +0000

    Shrink the font size to make the tutorial instructions fit.
    Format text to solve all problematic line wrapping.
    Add my name to the README.

 ChangeLog                           |   10 ++++
 doc/tutorial/slides/cairo-blank.svg |    2 +-
 doc/tutorial/slides/tutorial.xml    |   89 ++++++++++++++++++-----------------
 doc/tutorial/src/README             |    4 +-
 4 files changed, 58 insertions(+), 47 deletions(-)

commit dc64fcc68ccbe92392a88167e83cc5994f69cf66
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 25 10:22:32 2006 +0000

    Move the magic header files to be down in an include directory and more out of the way.
    Look for the headers in -I./include.
    Make the circle track the width and height of the window dynamically.
    Remove boring expander example.
    Add more interesting LCA exmaple.
    Add some notes about how to use this stuff.

 ChangeLog                                      |   28 +++
 doc/tutorial/src/Makefile                      |   12 +-
 doc/tutorial/src/README                        |   66 ++++++
 doc/tutorial/src/cairo-tutorial-gtk.h          |  116 -----------
 doc/tutorial/src/cairo-tutorial-pdf.h          |   74 -------
 doc/tutorial/src/cairo-tutorial-png.h          |   74 -------
 doc/tutorial/src/cairo-tutorial-xlib.h         |  219 ---------------------
 doc/tutorial/src/cairo-tutorial.h              |   41 ----
 doc/tutorial/src/circle.c                      |   13 +-
 doc/tutorial/src/expander.c                    |   13 --
 doc/tutorial/src/include/cairo-tutorial-gtk.h  |  116 +++++++++++
 doc/tutorial/src/include/cairo-tutorial-pdf.h  |   74 +++++++
 doc/tutorial/src/include/cairo-tutorial-png.h  |   74 +++++++
 doc/tutorial/src/include/cairo-tutorial-xlib.h |  251 ++++++++++++++++++++++++
 doc/tutorial/src/include/cairo-tutorial.h      |   41 ++++
 doc/tutorial/src/lca.c                         |   32 +++
 16 files changed, 696 insertions(+), 548 deletions(-)

commit 9abe21ac70e0d1ae75397f40455f1d55fc5b5018
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 25 08:41:14 2006 +0000

    Here's the actual template I was referring to in my previous commit.
    Add a bunch more slides. Most of the text is in place now---just missing some formatting and a bunch of examples.

 ChangeLog                                   |    9 +
 doc/tutorial/slides/cairo-large-content.svg |  855 +++++++++++++++++++++++++++
 doc/tutorial/slides/tutorial.xml            |  434 +++++++-------
 3 files changed, 1084 insertions(+), 214 deletions(-)

commit 649d8a09187490c68c9b110385f043ceb13a8972
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 25 07:33:56 2006 +0000

    Add Red Hat logos to slide templates.
    Add header/footer-less slide variant for slides needed an extra bit of space.
    Start getting slides ready for linux.conf.au 2006 tutorial, updating for cairo 1.0 API, and adding better organization. Verify and fix all the little example shell programs.
    Really remove the building of the
    -pdf programs this time.

 ChangeLog                               |   18 ++
 doc/tutorial/slides/cairo-blank.svg     |    2 +-
 doc/tutorial/slides/cairo-code.svg      |  367 ++++++++++++++++++++++++++++++-
 doc/tutorial/slides/cairo-separator.svg |  367 ++++++++++++++++++++++++++++++-
 doc/tutorial/slides/cairo.svg           |  368 ++++++++++++++++++++++++++++++-
 doc/tutorial/slides/rendering-model.png |  Bin 0 -> 63917 bytes
 doc/tutorial/slides/tutorial.xml        |  105 +++++++--
 doc/tutorial/src/Makefile               |    2 +-
 8 files changed, 1200 insertions(+), 29 deletions(-)

commit ea9f65b0d4cc88b504a6c104b242477264fef1e7
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 25 02:10:23 2006 +0000

    A few random changes to the slides.
    Remove pdf build by default, (since it is disabled by defalt in cairo 1.0.2).
    Change draw interface to accept a width and height.
    Fix the destroy event handler so that clicking on the window manager's 'close window' button works.

 ChangeLog                              |   20 ++++++++++++++++++++
 doc/tutorial/slides/tutorial.xml       |   29 ++++++++++++++++-------------
 doc/tutorial/src/Makefile              |    1 +
 doc/tutorial/src/cairo-tutorial-gtk.h  |    6 +++---
 doc/tutorial/src/cairo-tutorial-pdf.h  |    4 ++--
 doc/tutorial/src/cairo-tutorial-png.h  |    4 ++--
 doc/tutorial/src/cairo-tutorial-xlib.h |    4 ++--
 doc/tutorial/src/circle.c              |    5 +----
 doc/tutorial/src/expander.c            |    5 +----
 9 files changed, 48 insertions(+), 30 deletions(-)

commit d6ff77c297ebfd97707479d3850f4c2c86f0678f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jan 22 02:33:26 2006 +0000

    Add cairo_scaled_font_text_extents.
    New function.
    Improve documentation.

 ChangeLog               |   11 +++++++++
 src/cairo-scaled-font.c |   55 +++++++++++++++++++++++++++++++++++++++++++---
 src/cairo.h             |    5 ++++
 3 files changed, 67 insertions(+), 4 deletions(-)

commit bfc2b49ad921c62a36154dd761ebca7490a57d9f
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Jan 21 11:54:17 2006 +0000

    Updating BeOS reference images, the tests use a black background now.

 ChangeLog                                 |   13 +++++++++++++
 test/mask-beos-rgb24-ref.png              |  Bin 73512 -> 71028 bytes
 test/mask-beos_bitmap-argb32-ref.png      |  Bin 87641 -> 87641 bytes
 test/mask-beos_bitmap-rgb24-ref.png       |  Bin 73512 -> 71028 bytes
 test/set-source-beos-rgb24-ref.png        |  Bin 124 -> 124 bytes
 test/set-source-beos_bitmap-rgb24-ref.png |  Bin 124 -> 124 bytes
 test/trap-clip-beos-rgb24-ref.png         |  Bin 64729 -> 63088 bytes
 test/trap-clip-beos_bitmap-rgb24-ref.png  |  Bin 64729 -> 63088 bytes
 8 files changed, 13 insertions(+), 0 deletions(-)

commit 9fe49346354e1785ff83be69bc1b775a41b7960a
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Jan 21 09:46:13 2006 +0000

    Update BeOS test code per the cairo_format_t -> cairo_content_t changes.

 ChangeLog                |    9 +++++++++
 test/cairo-test-beos.cpp |    8 ++++----
 test/cairo-test-beos.h   |    4 ++--
 3 files changed, 15 insertions(+), 6 deletions(-)

commit 2afe78c0c2c61186d532d3fa5717e295c8c6272b
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Jan 21 09:39:10 2006 +0000

    Don't mix declarations and code. This makes the code valid ISO C, fixes a gcc -pedantic warning, and unbreaks the build with the compiler Zeta ships with.

 ChangeLog                     |   11 +++++++++++
 pixman/src/fbpict.c           |    6 +++---
 src/cairo-paginated-surface.c |    5 +++--
 test/cairo-test.c             |    2 +-
 4 files changed, 18 insertions(+), 6 deletions(-)

commit f1fd1cc7a9043ae277e4abe421b13812214a3c64
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 20 15:25:54 2006 +0000

    Add getter functions for cairo_scaled_font_t.

 ChangeLog               |    8 +++++
 src/cairo-scaled-font.c |   77 ++++++++++++++++++++++++++++++++++++++++++++++-
 src/cairo.h             |   15 +++++++++
 3 files changed, 99 insertions(+), 1 deletions(-)

commit a6ad853ee1a78585859ed77d5d8707fcfd448eab
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 20 15:15:40 2006 +0000

    Fix test to use fontconfig properly so that the test no longer fails. Fixes bug #4674. (Thnks to sunmoon1997 for the fix).

 ChangeLog                         |    6 ++++++
 test/ft-font-create-for-ft-face.c |   24 +++++++++++++++++++-----
 2 files changed, 25 insertions(+), 5 deletions(-)

commit 13511972b612c322815a2849fa8f812249d71d8e
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 20 14:48:07 2006 +0000

    Check font_face->status and return a nil scaled font if it is in an error state. (Thanks to Christian Biesinger and sunmoon1997 who pointed this out as part of bug #4674).
    With this bug fix, the ft-font-create-for-ft-face test fails (as it should) since it is abusing fontconfig.

 ChangeLog               |   10 ++++++++++
 src/cairo-scaled-font.c |    5 ++++-
 2 files changed, 14 insertions(+), 1 deletions(-)

commit 074f886c00d560daec90f1d6f6212ecf923f4d66
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jan 19 17:48:22 2006 +0000

    Rip the cairo_content_t argument out of ps/pdf_surface_create as per discussion on cairo mailing list. Instead these surface will behave as if CONTENT_COLOR_ALPHA had been passed (that is, compositing operators will behave as if destination alpha were available).
    This also has the benefit of preserving the API that has been in place for PS/PDF surface since the (experimental) stuff in 1.0.0.
    Track API change.
    Continue testing PS/PDF surfaces in the CAIRO_CONTENT_COLOR mode but do it by rendering to an intermediate similar surface rather than constructing the target surface differently.

 ChangeLog               |   29 +++++++++++++++++++
 src/cairo-pdf-surface.c |   27 +++--------------
 src/cairo-pdf.h         |    2 -
 src/cairo-ps-surface.c  |   24 +--------------
 src/cairo-ps.h          |    2 -
 test/cairo-test.c       |   71 +++++++++++++++++++++++++++++++++++++++-------
 test/multi-page.c       |    4 +-
 7 files changed, 98 insertions(+), 61 deletions(-)

commit 14acc7f132fd90d1ba37ddf7ffe9688261cd587b
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Jan 19 12:44:00 2006 +0000

    add missing header. Fix #5544.

 ChangeLog      |    4 ++++
 test/svg2png.c |    1 +
 2 files changed, 5 insertions(+), 0 deletions(-)

commit ec45efa57cded99f70e65b23989625243d57eb1e
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 18 16:44:19 2006 +0000

    Fix compilation-breaking typo.

 ChangeLog               |    5 +++++
 src/cairo-pdf-surface.c |    6 ++++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit c634e547758aa73d229ed209a8c6e56f06a90d0d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 18 16:40:17 2006 +0000

    Change documentation to recommend cairo_paint rather than cairo_rectangle;cairo_fill for clearing a surface.
    Add documentation. Add a cairo_content_t argument to PDF surface constructors.
    Add documentation. Add a cairo_content_t argument to PS surface constructors.
    Track changes in PS/PDF surface constructor API.

 ChangeLog                 |   20 +++++++++++
 src/cairo-image-surface.c |    4 +-
 src/cairo-pdf-surface.c   |   79 ++++++++++++++++++++++++++++++++++++--------
 src/cairo-pdf.h           |    2 +
 src/cairo-ps-surface.c    |   70 ++++++++++++++++++++++++++++++++++-----
 src/cairo-ps.h            |    2 +
 test/cairo-test.c         |    4 +-
 test/multi-page.c         |    4 +-
 8 files changed, 155 insertions(+), 30 deletions(-)

commit ba69dfefa793d26805ba2ffb17c67d31f5a99ad1
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 18 09:46:42 2006 +0000

    Fix documentation of cairo_arc which erroneously claimed M_PI radians == 90 degrees to correctly say that M_PI/2.0 radians == 90 degrees. This closes bug #5649 (with thanks to kengruven@gmail.com).

 ChangeLog   |    7 +++++++
 src/cairo.c |    4 ++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit b5c5fb613d5d554f6ebb3e1a10dbb1e7038b47c7
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jan 17 16:59:08 2006 +0000

    Big change to the test infrastructure and supporting internals. The goal now is to test both a COLOR_ALPHA and a COLOR content for each surface backend, (since the semantics are different and we probably need to support both in each backend.
    The PS/PDF backends don't allow a content to be passed in right now, so they fail against the rgb24 tests, but the trivial addition to the constructors will allow them to pass all tests with both content values.
    And new constructors (currently internal only) to create an image surface with a cairo_content_t rather than a cairo_format_t.
    Add a cairo_content_t argument to the constructor.
    Add a cairo_content_t to the constructor and use this content value when constructing intermediate image surfaces in acquire_source, show_page, copy_page, and snapshot.
    Add image flattening by compositing over white, as is done in cairo-ps-surface.c.
    Track changes to cairo-paginates-surface which now requires a cairo_content_t value (no change to public PS/PDF constructors yet).
    Track change in meta-surface and paginated-surface interfaces by now accepting a cairo_content_t rather than a cairo_format_t.
    Ignore new output files (argb32 from pdf and ps as well as rgb24 from test-fallback, test-meta, and test-paginated).
    Add new utility for flattening PNG images in order to generate the -argbf-ref.png images.
    Add image_diff_flattened for comparing flattened output from PS and PDF backend with ARGB reference images by first blending the reference images over white.
    Get rid of conditional, format-specific background-color initialization before running tests. Now uses ARGB(0,0,0,0) in all cases. Switch from specifying tests with a format value to specifying tests with a content value. Add support for a 'fake' COLOR_ALPHA_FLATTENED content for testing the PS and PDF output against a flattened version of the argb32 reference images (first blended over white).
    Track change in cairo_ps_surface_create (now requires cairo_content_t value).
    Adjust tests that draw in default (black) to first paint white so that the results are visible.
    Adjust ARGB32 reference images for new white background for changed tests.
    Adjust RGB24 reference images for new black background due to changed initialization (and the tests themselves being unchanged).

 ChangeLog                                       |  143 +++++++++++
 src/cairo-image-surface.c                       |   31 +++-
 src/cairo-meta-surface-private.h                |    6 +-
 src/cairo-meta-surface.c                        |    7 +-
 src/cairo-paginated-surface-private.h           |    1 +
 src/cairo-paginated-surface.c                   |   25 ++-
 src/cairo-pdf-surface.c                         |   87 ++++++--
 src/cairo-pdf.h                                 |    6 +-
 src/cairo-ps-surface.c                          |   16 +-
 src/cairo-ps.h                                  |    6 +-
 src/cairoint.h                                  |   12 +
 src/test-fallback-surface.c                     |    6 +-
 src/test-fallback-surface.h                     |    2 +-
 src/test-meta-surface.c                         |   11 +-
 src/test-meta-surface.h                         |    2 +-
 src/test-paginated-surface.c                    |   17 +-
 src/test-paginated-surface.h                    |   10 +-
 test/.cvsignore                                 |    8 +
 test/Makefile.am                                |    3 +-
 test/buffer-diff.c                              |   94 ++++++++
 test/buffer-diff.h                              |    7 +
 test/cairo-test.c                               |  287 ++++++++++++++---------
 test/caps-joins-ref.png                         |  Bin 1262 -> 1488 bytes
 test/caps-joins.c                               |    6 +
 test/caps-sub-paths-ref.png                     |  Bin 164 -> 197 bytes
 test/caps-sub-paths.c                           |    6 +
 test/clip-fill-rule-pixel-aligned-rgb24-ref.png |  Bin 194 -> 184 bytes
 test/clip-fill-rule-rgb24-ref.png               |  Bin 495 -> 380 bytes
 test/clip-nesting-rgb24-ref.png                 |  Bin 846 -> 955 bytes
 test/clip-operator-rgb24-ref.png                |  Bin 20991 -> 16507 bytes
 test/clip-twice-rgb24-ref.png                   |  Bin 1278 -> 1120 bytes
 test/dash-caps-joins-ref.png                    |  Bin 2347 -> 3219 bytes
 test/dash-caps-joins.c                          |    6 +
 test/dash-offset-negative-ref.png               |  Bin 155 -> 171 bytes
 test/dash-offset-negative.c                     |    6 +
 test/fill-and-stroke-rgb24-ref.png              |  Bin 299 -> 257 bytes
 test/fill-rule-rgb24-ref.png                    |  Bin 2320 -> 1722 bytes
 test/gradient-alpha-rgb24-ref.png               |  Bin 152 -> 142 bytes
 test/leaky-polygon-ref.png                      |  Bin 255 -> 368 bytes
 test/leaky-polygon.c                            |    6 +
 test/line-width-ref.png                         |  Bin 171 -> 201 bytes
 test/line-width.c                               |    4 +
 test/mask-ctm-rgb24-ref.png                     |  Bin 140 -> 124 bytes
 test/mask-rgb24-ref.png                         |  Bin 73292 -> 71069 bytes
 test/mask-surface-ctm-rgb24-ref.png             |  Bin 140 -> 124 bytes
 test/multi-page.c                               |    2 +-
 test/nil-surface-rgb24-ref.png                  |  Bin 106 -> 106 bytes
 test/operator-clear-rgb24-ref.png               |  Bin 5677 -> 4218 bytes
 test/operator-source-rgb24-ref.png              |  Bin 16746 -> 14699 bytes
 test/paint-with-alpha-rgb24-ref.png             |  Bin 146 -> 142 bytes
 test/path-data-ref.png                          |  Bin 387 -> 579 bytes
 test/path-data.c                                |    6 +
 test/png-flatten.c                              |   77 ++++++
 test/rel-path-rgb24-ref.png                     |  Bin 115 -> 228 bytes
 test/scale-source-surface-paint-rgb24-ref.png   |  Bin 146 -> 136 bytes
 test/set-source-rgb24-ref.png                   |  Bin 114 -> 120 bytes
 test/show-text-current-point-ref.png            |  Bin 1606 -> 2411 bytes
 test/show-text-current-point.c                  |    6 +
 test/source-surface-scale-paint-rgb24-ref.png   |  Bin 136 -> 133 bytes
 test/text-antialias-gray-ref.png                |  Bin 740 -> 1084 bytes
 test/text-antialias-gray.c                      |    6 +
 test/text-antialias-none-ref.png                |  Bin 276 -> 298 bytes
 test/text-antialias-none.c                      |    6 +
 test/text-pattern-rgb24-ref.png                 |  Bin 2704 -> 2339 bytes
 test/transforms-ref.png                         |  Bin 302 -> 361 bytes
 test/transforms.c                               |    6 +
 test/trap-clip-rgb24-ref.png                    |  Bin 64728 -> 63087 bytes
 test/unbounded-operator-rgb24-ref.png           |  Bin 7555 -> 6047 bytes
 68 files changed, 756 insertions(+), 174 deletions(-)

commit 0b48d620f11a1efb611d2ad6888c8e5d8f64db03
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sun Jan 15 04:44:45 2006 +0000

    Update BeOS reference images per the recent gradient changes

 ChangeLog                                |    9 +++++++++
 test/mask-beos-rgb24-ref.png             |  Bin 73554 -> 73512 bytes
 test/mask-beos_bitmap-argb32-ref.png     |  Bin 87543 -> 87641 bytes
 test/mask-beos_bitmap-rgb24-ref.png      |  Bin 73554 -> 73512 bytes
 test/trap-clip-beos-rgb24-ref.png        |  Bin 64724 -> 64729 bytes
 test/trap-clip-beos_bitmap-rgb24-ref.png |  Bin 64724 -> 64729 bytes
 6 files changed, 9 insertions(+), 0 deletions(-)

commit c79cda6150a71846ce546b27f243d858ec5fd037
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sat Jan 14 06:53:43 2006 +0000

    Ignore glitz-glx test output

 ChangeLog       |    4 ++++
 test/.cvsignore |    2 ++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 59eff46fdf201f6269daf5fa101eafdf4f881e30
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 13 13:41:45 2006 +0000

    Fix things up to conform with Adobe PostScript Document Structuring Conventions Specification. Thanks to Michael Sweet for bringing several items to our attention. Things that are fixed: Add Pages: (atend) to header, add Pages: N to trailer, properly advertise DocumentData of Binary rather than Clean7Bit, remove fictitious EndPage, move showpage to after the grestore.

 ChangeLog              |   12 ++++++++++++
 src/cairo-ps-surface.c |   25 +++++++++----------------
 2 files changed, 21 insertions(+), 16 deletions(-)

commit 6f3cb04d9c8bb1e72de3b6ea71b475f9457ffcb9
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 13 11:02:25 2006 +0000

    Rip out the misguided paint-with-white and RGB24 surface code and go back to using ARGB32. It turns out that the PS backend already has its own blend-with-white code, and the test-paginated-surface really wants ARGB32.

 ChangeLog                     |   10 ++++++++++
 src/cairo-paginated-surface.c |   28 ++++------------------------
 2 files changed, 14 insertions(+), 24 deletions(-)

commit b4e4568962e53c6b85027165da62b73020ec4586
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 13 09:25:28 2006 +0000

    Eliminate cast of state->dx.elements which has been wrong since the internals of cairo_array_t changed on 2005-12-21. Now, hopefully less than all text will be broken on win32.

 ChangeLog              |    7 +++++++
 src/cairo-win32-font.c |    4 +++-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 4e4b38e75930e3da8c33a02eae77fb736659ff44
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jan 12 16:47:05 2006 +0000

    Add a call to cairo_copy_page, so that that gets called at least once within the test suite.
    Fix broken implementation of copy_page in the paginated surface by hiding it from the target surface which sees only show_page operations. (It's hard to do better than that unless we can guarantee thathe subsequent page won't trigger any image fallbacks.)

 ChangeLog                     |   13 +++++++++++++
 src/cairo-paginated-surface.c |   29 ++++++++---------------------
 test/multi-page.c             |   20 ++++++++++++++------
 3 files changed, 35 insertions(+), 27 deletions(-)

commit 25882cd5e9d51f84338af6278c50d268b3d0091c
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jan 12 16:35:12 2006 +0000

    Add a new CAIRO_HAS_MULTI_PAGE_SURFACES automake conditional.
    Remove backend-specific tests (ps-surface, pdf-surface, and pdf-clip) that are now redundant with the ps and pdf support in the rest of the test suite.
    Add a new one-off test for testing show_page with both the ps and pdf backends.

 ChangeLog          |   17 +++++
 configure.in       |    2 +
 test/.cvsignore    |    9 +--
 test/Makefile.am   |   21 ++----
 test/multi-page.c  |  170 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 test/pdf-clip.c    |  134 -----------------------------------------
 test/pdf-surface.c |  111 ----------------------------------
 test/ps-surface.c  |  122 -------------------------------------
 8 files changed, 199 insertions(+), 387 deletions(-)

commit 3647ff95f968a68f938fa7cdea9d48880f1064bd
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jan 12 13:36:36 2006 +0000

    Some fixes for the fact that multi-page output was totally broken for cairo_ps_surface_t (at least):
    Move the Y-axis-flipping to be on a per-page basis (as it was before and as it must be). Put page number back in, (still missing th number of pages from the header).
    Add multi-page output for better testing.

 ChangeLog              |   20 +++++++++++++
 src/cairo-ps-surface.c |   72 ++++++++++++++++++++++++++++++++++-------------
 test/ps-surface.c      |   29 +++++++++++++------
 3 files changed, 92 insertions(+), 29 deletions(-)

commit 107a52ed6190a72882598eec5f2cf0fab24f4cb1
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 11 16:29:17 2006 +0000

    Paint with white to intermediate RGB24 images before replaying meta-surface to preserve default white background instead of forcing a black background instead.

 ChangeLog                     |    9 +++++++++
 src/cairo-paginated-surface.c |   22 +++++++++++++++++++++-
 2 files changed, 30 insertions(+), 1 deletions(-)

commit ebeaeeccece1a6cbe68db347ad782f2dd482afc3
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 11 16:01:25 2006 +0000

    Note that PS backend has now been switched over to use cairo_paginated_surface_t.
    Switch from ARGB32 to RGB24 for intermediate image surface since that's all that the current users of cairo_paginated_surface support anyway.
    Switch cairo_ps_surface_t over to use the new cairo_paginated_surface_t. This drastically simplifies the implementation, but temporarily puts the PostScript output back into the land of one-image-per-page. To be fixed soon though with improvements to cairo_paginated_surface_t. Everything still passes the test suite which is good. The test suite currently does no testing of multi-page output, which is quite bad.

 ChangeLog                     |   34 ++
 ROADMAP                       |   11 +-
 src/cairo-paginated-surface.c |    6 +-
 src/cairo-ps-surface.c        |  758 ++++++++++++-----------------------------
 4 files changed, 254 insertions(+), 555 deletions(-)

commit c23d7d4758c7915505437b0fc8b57df9ef628289
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 11 11:53:33 2006 +0000

    Note that from here on out, the PDF output should always pass the entire test suite!
    Add new functions needed by users of cairo_paginated_surface_t.
    Always snapshot a paginated surface to an image surface, rather than a surface similar to the target. We do this since paginated target surfaces are allowed to not be complete surfaces, (such as not implementing acquire_source_surface).
    Switch the implementation of cairo_pdf_surface_t to use cairo_paginated_surface_t. For now this means that all PDF output is fallback images, but this can change incrementally as we go forward.

 ChangeLog                             |   25 +++++++++++++++++++++++++
 ROADMAP                               |   22 ++++++++++++----------
 src/cairo-paginated-surface-private.h |    6 ++++++
 src/cairo-paginated-surface.c         |   24 ++++++++++++++++++++----
 src/cairo-pdf-surface.c               |   32 +++++++++++++++++++++++++++-----
 5 files changed, 90 insertions(+), 19 deletions(-)

commit 953561ebbd7e58ecb3e6cec0e2446cf3dac3f146
Author: Anders Carlsson <andersca@imendio.com>
Date:   Tue Jan 10 07:54:17 2006 +0000

    Remove old scale matrix since it exists in our base class.
    (_cairo_atsui_font_set_metrics): Fix descent calculation.

 ChangeLog              |   12 ++++++++++++
 src/cairo-atsui-font.c |   18 +++++++-----------
 2 files changed, 19 insertions(+), 11 deletions(-)

commit ae807fc9361fcb77b1cefc09cb180f045510768b
Author: Anders Carlsson <andersca@imendio.com>
Date:   Tue Jan 10 05:28:59 2006 +0000

    Add cairo-quartz-private.h
    If the destination surface is a quartz surface, get the clip mask from it.
    Added.
    Keep a copy of the clip mask around.
    (_cairo_surface_is_quartz): New function which determines if a given surface is a quartz surface.

 ChangeLog                  |   21 +++++++++++++++
 src/Makefile.am            |    2 +-
 src/cairo-atsui-font.c     |   33 +++++++++++++++++++++++-
 src/cairo-quartz-private.h |   61 ++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-quartz-surface.c |   37 +++++++++++++++-----------
 5 files changed, 136 insertions(+), 18 deletions(-)

commit d6cb82c37284aa0b5fb8e427faf0b360c9b26168
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jan 9 17:18:12 2006 +0000

    Add printf format attribute to cairo_test_log.

 ChangeLog         |    4 ++++
 test/cairo-test.h |    9 ++++++++-
 2 files changed, 12 insertions(+), 1 deletions(-)

commit ff5207ed11ed04df8f436c5d59e04ed0c3f4cc7f
Author: Anders Carlsson <andersca@imendio.com>
Date:   Mon Jan 9 10:29:22 2006 +0000

    Use uint32_t instead of uint;

 pixman/ChangeLog     |    7 +++++++
 pixman/src/icimage.c |    8 ++++----
 2 files changed, 11 insertions(+), 4 deletions(-)

commit 7ce7b20a821c93c0edb9b2899c52b13f8067d860
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 6 14:24:55 2006 +0000

    Reviewed by keithp
    Change the paginated surface to force all output to come from an image surface (to be refined incrementally as we hook real surface backends up to it).

 ChangeLog                     |   10 ++++++++++
 src/cairo-paginated-surface.c |   24 ++++++++++++++++++++++--
 2 files changed, 32 insertions(+), 2 deletions(-)

commit fbb8a62797657a98905b92bd01bfa995cc823def
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jan 6 14:11:07 2006 +0000

    Reviewed by keithp
    Implement copy_page for paginated surface. Fix show_page to destroy the meta-surface and create a new one.
    Change these functions to advertise when they are not supported, so that _cairo_paginated_copy_page can implement things differently depending on whether or not it is personal.
    Check return values from _cairo_surface_show/copy_page.

 ChangeLog                     |   21 ++++++++++++++++
 src/cairo-gstate.c            |   20 +++++++++++++-
 src/cairo-paginated-surface.c |   54 ++++++++++++++++++++++++++++++++++++++++-
 src/cairo-surface.c           |   16 +++++++----
 src/cairoint.h                |    4 +-
 5 files changed, 104 insertions(+), 11 deletions(-)

commit 88875100d6910d62edcaf7fadc2146594ad3268b
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Jan 5 15:17:02 2006 +0000

    Slip 1.2.0 projected data (again) out to 2006-01-13. Note that win32 is now incorporated into the test suite and is only failing two tests (self-copy and trap-clip). Note new progress on cairo_push/pop_group. Add item to support pango's hex-box drawing. Note that gradient computation performance has been improved. Note that experimental SVG backend has been added.

 ChangeLog |   10 ++++++++++
 ROADMAP   |   28 ++++++++++++++++++++++++----
 2 files changed, 34 insertions(+), 4 deletions(-)

commit 6995a83597217bd422e74d79ce3c989334ada871
Author: David Reveman <davidr@novell.com>
Date:   Thu Jan 5 15:00:37 2006 +0000

    Gradient updates in SVG backend and no sorting of color stops in SVG or PDF backend

 ChangeLog               |    7 ++++
 src/cairo-pdf-surface.c |   20 -------------
 src/cairo-svg-surface.c |   73 ++++++++++++++++++++++-------------------------
 3 files changed, 41 insertions(+), 59 deletions(-)

commit 421504802570978aa6a107a96587cc8014fbd58c
Author: David Reveman <davidr@novell.com>
Date:   Thu Jan 5 05:14:14 2006 +0000

    Update gradient code in glitz backend

 ChangeLog                 |    3 +++
 src/cairo-glitz-surface.c |   30 +++++++++++++++---------------
 2 files changed, 18 insertions(+), 15 deletions(-)

commit 5ac6e85455fce862989033d5ff98576d159664bd
Author: David Reveman <davidr@novell.com>
Date:   Thu Jan 5 05:06:50 2006 +0000

    Update gradient code in PDF backend

 ChangeLog               |    5 +++++
 src/cairo-pdf-surface.c |   30 +++++++++++++++---------------
 2 files changed, 20 insertions(+), 15 deletions(-)

commit 9737b4de39162a86844e07f50aa76e881063dab9
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 4 17:59:03 2006 +0000

    2005-10-10 David Reveman <davidr@novell.com>
    Throw away old gradient code from within cairo-pattern.c in favor of using new support in pixman for gradients.
    Update reference images for all tests involving gradients since the gradient output has changed slightly.

 ChangeLog                             |   40 +++
 src/cairo-image-surface.c             |   14 +-
 src/cairo-matrix.c                    |   17 +
 src/cairo-pattern.c                   |  594 ++++++++-------------------------
 src/cairoint.h                        |   29 +-
 test/clip-operator-ref.png            |  Bin 37134 -> 36956 bytes
 test/clip-operator-rgb24-ref.png      |  Bin 21014 -> 20991 bytes
 test/gradient-alpha-ref.png           |  Bin 154 -> 155 bytes
 test/gradient-alpha-rgb24-ref.png     |  Bin 147 -> 152 bytes
 test/linear-gradient-ref.png          |  Bin 12719 -> 12750 bytes
 test/linear-gradient-rgb24-ref.png    |  Bin 12719 -> 11700 bytes
 test/mask-ref.png                     |  Bin 87846 -> 87837 bytes
 test/mask-rgb24-ref.png               |  Bin 73124 -> 73292 bytes
 test/operator-clear-ref.png           |  Bin 4971 -> 4933 bytes
 test/operator-clear-rgb24-ref.png     |  Bin 5704 -> 5677 bytes
 test/operator-source-ref.png          |  Bin 19982 -> 19684 bytes
 test/operator-source-rgb24-ref.png    |  Bin 16909 -> 16746 bytes
 test/text-pattern-ref.png             |  Bin 2731 -> 2725 bytes
 test/text-pattern-rgb24-ref.png       |  Bin 2686 -> 2704 bytes
 test/trap-clip-ref.png                |  Bin 71701 -> 71785 bytes
 test/trap-clip-rgb24-ref.png          |  Bin 64724 -> 64728 bytes
 test/unbounded-operator-ref.png       |  Bin 11994 -> 11964 bytes
 test/unbounded-operator-rgb24-ref.png |  Bin 7581 -> 7555 bytes
 23 files changed, 221 insertions(+), 473 deletions(-)

commit 19441311e471b661b6b2a6854f030aafa7715d5d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 4 16:39:23 2006 +0000

    2005-10-10 David Reveman <davidr@novell.com>
    Some major performance improvements to the general composite code used for gradients and transformed images. Like fetching of mask scanline before source scanline so that only the necessary pixels from source needs to be computed in case of gradients or transformed images as source. This patch also include some gradient specific fixes and performance improvement.

 pixman/ChangeLog       |   22 +-
 pixman/src/fbcompose.c | 1205 ++++++++++++++++++++++++++++++------------------
 pixman/src/icimage.c   |   17 +-
 pixman/src/icimage.h   |    9 +
 4 files changed, 785 insertions(+), 468 deletions(-)

commit 305a83721f5c6423fc1e7fbb0cf1d67c0f92ecb7
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jan 4 16:26:10 2006 +0000

    Originally: 2005-10-10 David Reveman <davidr@novell.com>
    Add entries for gradient support.
    Add PictureGradientColor.
    Add necessary functionality for gradient support.
    Enable gradient support.

 pixman/ChangeLog       |   13 ++
 pixman/src/fbcompose.c |   91 +++++++++-----
 pixman/src/icimage.c   |  334 +++++++++++++++++++++++++++++++++++++++++++++---
 pixman/src/icimage.h   |   72 +++++++++++
 pixman/src/icint.h     |    7 +
 pixman/src/pixman.h    |   48 ++++++--
 6 files changed, 510 insertions(+), 55 deletions(-)

commit c6cdfc5770c6bfb5d708cb1c13921079f611299a
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Tue Jan 3 09:23:48 2006 +0000

    Clamp surface dimensions to a minimum of 1. (_cairo_glitz_surface_get_image): Set the glitz clip to NULL before calling glitz_get_pixels, to return the full surface contents. Restore clip afterwards. (_cairo_glitz_surface_composite_trapezoid): Return UNSUPPORTED if the antialias is anything other than DEFAULT/GRAY.
    Try to recover a standard cairo_format_t from given pixman format masks, so that various things that only work with a standard format work correctly.
    Remove cairo_glitz_surface_write_to_png, replace with generic cairo_surface_write_to_png (since it works with image-surface create_with_masks fix)

 ChangeLog                 |   19 ++++++++++++++++++
 src/cairo-glitz-surface.c |   30 +++++++++++++++++++++++++++-
 src/cairo-image-surface.c |   45 +++++++++++++++++++++++++++++++++++++++++++-
 test/cairo-test.c         |   46 ++++++++++++--------------------------------
 4 files changed, 104 insertions(+), 36 deletions(-)

commit bd265e008b6cb48565569733d48cb5bd2d4ba1b9
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Tue Jan 3 07:29:57 2006 +0000

    Clean up output some; show only images that fail, otherwise just show pass/fail squares.

 ChangeLog         |    5 +++
 test/make-html.pl |   81 +++++++++++++++++++++++++++++++++++++++++------------
 2 files changed, 68 insertions(+), 18 deletions(-)

commit 71369489d831ef0ec050f3e9da6226617e2ffa1b
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Fri Dec 30 14:16:10 2005 +0000

    no more has_clip boolean. Init clip_level. (_cairo_surface_intersect_clip_path): a NULL path means reset of clipping region, not back to previous clipping level.

 ChangeLog               |   11 +++++++++--
 src/cairo-svg-surface.c |   12 ++++++------
 2 files changed, 15 insertions(+), 8 deletions(-)

commit 23e5e558414cbbb5e20a6b8b5e68f21c6a3ed15d
Author: Michael Emmel <mike.emmel@gmail.com>
Date:   Thu Dec 29 07:17:01 2005 +0000

    New directfb backend for cairo includes test suite and example to run the test is in the comment at the top of cairo-test-directfb.c enable with
    --enable-directfb

 configure.in                 |   25 ++
 src/Makefile.am              |    9 +-
 src/cairo-directfb-surface.c |  804 ++++++++++++++++++++++++++++++++++++++++++
 src/cairo-directfb.h         |   60 ++++
 src/cairo-features.h.in      |    2 +
 test/Makefile.am             |    4 +
 test/cairo-test-directfb.c   |  127 +++++++
 test/cairo-test-directfb.h   |   23 ++
 test/cairo-test.c            |   11 +
 9 files changed, 1064 insertions(+), 1 deletions(-)

commit f7236b84603c45d9c67cc5dfed6305a8a1241f6c
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed Dec 28 02:28:56 2005 +0000

    namespace declarations for SVG and XLINK (#5411).

 ChangeLog               |    5 +++++
 src/cairo-svg-surface.c |    5 ++++-
 2 files changed, 9 insertions(+), 1 deletions(-)

commit 78d892d70eb28a92f3300727ecc753cd564a5fe7
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Tue Dec 27 09:47:58 2005 +0000

    Add BeOS-specific reference images for tests where the maximum color difference is 1.

 ChangeLog                                 |   13 +++++++++++++
 test/mask-beos-rgb24-ref.png              |  Bin 0 -> 73554 bytes
 test/mask-beos_bitmap-argb32-ref.png      |  Bin 0 -> 87543 bytes
 test/mask-beos_bitmap-rgb24-ref.png       |  Bin 0 -> 73554 bytes
 test/set-source-beos-rgb24-ref.png        |  Bin 0 -> 124 bytes
 test/set-source-beos_bitmap-rgb24-ref.png |  Bin 0 -> 124 bytes
 test/trap-clip-beos-rgb24-ref.png         |  Bin 0 -> 64724 bytes
 test/trap-clip-beos_bitmap-rgb24-ref.png  |  Bin 0 -> 64724 bytes
 8 files changed, 13 insertions(+), 0 deletions(-)

commit f036c28fa3aa7f9d18cd47b4b5dc7f728af04d5f
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Mon Dec 26 19:08:53 2005 +0000

    Implement composite for the beos backend. Don't map CAIRO_OPERATOR_ADD to B_OP_ADD for now, something's broken there.

 ChangeLog                  |    6 +++
 src/cairo-beos-surface.cpp |   99 +++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 104 insertions(+), 1 deletions(-)

commit 4fe93bcf92f4aeb5ea78bf48e109b4f5b7555181
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Mon Dec 26 16:44:41 2005 +0000

    Don't require that the caller locks the view; do it in cairo code.
    Remove the now-unneeded locking

 ChangeLog                  |    6 +++++
 src/cairo-beos-surface.cpp |   52 +++++++++++++++++++++++++++++++++++++++++++-
 test/cairo-test-beos.cpp   |   19 ++++++---------
 3 files changed, 65 insertions(+), 12 deletions(-)

commit 36850c7f32c25031a1ed8387a78c6edc43d9f67d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 21 17:08:28 2005 +0000

    Remove some unneeded backend functions (composite, fill_rectangles, composite_trapezoids, old_show_glyphs).

 ChangeLog              |    6 ++
 src/cairo-ps-surface.c |  128 ++----------------------------------------------
 2 files changed, 10 insertions(+), 124 deletions(-)

commit 0a009c925f34ad82f2130a6dae731c7cda0bcb35
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 21 17:04:01 2005 +0000

    Don't implement create_similar for the test-meta or the paginated surface. This was slowing things down a _lot_ (about 11× for the mask test for example) without any improvement in output quality. We can revisit this again later if there's any output improvement to be had down the road.

 ChangeLog                     |   10 ++++++++++
 src/cairo-paginated-surface.c |   11 +----------
 src/test-meta-surface.c       |   14 +-------------
 3 files changed, 12 insertions(+), 23 deletions(-)

commit e71e2fc4f186eecde0b987c3e82ffbecafeebcad
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 21 16:46:44 2005 +0000

    Add a private cairo_paginated_surface_t which builds on top of the meta surface and is intended to provide an easy interface with common functionality for the various paginated surface types (ps, pdf, etc.).
    Add test_paginated_surface_t which is another test surface enabled with --enable-test-surfaces. The test_meta_surface code served as the basis for cairo_paginated_surface_t so that test surface may be entirely superfluous now.

 ChangeLog                             |   32 +++
 src/Makefile.am                       |    5 +-
 src/cairo-paginated-surface-private.h |   46 +++++
 src/cairo-paginated-surface.c         |  337 +++++++++++++++++++++++++++++++++
 src/test-paginated-surface.c          |   67 +++++++
 src/test-paginated-surface.h          |   52 +++++
 test/cairo-test.c                     |   85 +++++++++
 7 files changed, 623 insertions(+), 1 deletions(-)

commit c78685399307431903613733ddc936a104376943
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 21 16:35:32 2005 +0000

    Here is a cleaner implementation of the _cairo_array_t change which was previously committed inadvertently.
    Fix buggy implementation of _cairo_array_snapshot by changing array->elements to be a pointer to a pointer. This extra level of indirection allows the snapshot array to point to a pointer which will itself get changed when new storage is needed for a growing array. Previously, the snapshot would be left pointing at stale storage.
    Fix to call _cairo_array_index rather than grabbing array->elements directly and casting (which cast is now wrong with the change in implementation of array->index).

 ChangeLog                |   23 +++++++++++++++++++++++
 src/cairo-array.c        |   42 ++++++++++++++++++++++++++++++++++--------
 src/cairo-meta-surface.c |    4 ++--
 src/cairo-win32-font.c   |    4 +++-
 src/cairoint.h           |    2 +-
 5 files changed, 63 insertions(+), 12 deletions(-)

commit 122a83643b79ec197979e01620dd5dc21620e0e0
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 21 12:20:06 2005 +0000

    Revert inadvertent commit (immediately previous).

 ChangeLog                |   13 +++++++++++
 src/cairo-array.c        |   53 ++++++++++++++-------------------------------
 src/cairo-meta-surface.c |   15 ++++--------
 src/cairo-win32-font.c   |   18 +++++++--------
 src/cairoint.h           |    2 +-
 5 files changed, 44 insertions(+), 57 deletions(-)

commit 5280c09b7d5d903455cad75dd4885478e8fa2761
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 21 12:08:57 2005 +0000

    Fix indentation.

 ChangeLog                |    4 +++
 src/cairo-array.c        |   53 +++++++++++++++++++++++++++++++--------------
 src/cairo-meta-surface.c |   15 ++++++++----
 src/cairo-win32-font.c   |   18 ++++++++-------
 src/cairoint.h           |    2 +-
 src/test-meta-surface.h  |    4 +-
 test/.cvsignore          |    1 +
 7 files changed, 64 insertions(+), 33 deletions(-)

commit 3eb2a252ad22295725281908448e88a2c53462ae
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 21 12:07:25 2005 +0000

    Remove cruft from old commands that the meta surface no longer implements (composite, fill_rectangles, composite_trapezoids, and set_clip_region).

 ChangeLog                        |    6 ++++
 src/cairo-meta-surface-private.h |   49 --------------------------------------
 2 files changed, 6 insertions(+), 49 deletions(-)

commit 088c664b9c891580b4f92bf5419f6757a09e96cc
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Wed Dec 21 08:19:47 2005 +0000

    Fix some typos

 ChangeLog           |    8 ++++++++
 src/cairo-ft-font.c |    2 +-
 src/cairo-gstate.c  |    4 ++--
 src/cairoint.h      |    2 +-
 4 files changed, 12 insertions(+), 4 deletions(-)

commit 90c1837e175f3380b29ad8bb929f9e5787371e24
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Wed Dec 21 07:25:01 2005 +0000

    store surfaces in a <g> node, and clip to surface area. Now SVG backend should pass pixman-rotate test. (emit_composite_svg_pattern): emit transformation matrix. (_cairo_svg_surface_intersect_clip_path): don't use xmlBuffer here.

 ChangeLog               |    8 +++++
 src/cairo-svg-surface.c |   72 ++++++++++++++++++++++++++++------------------
 2 files changed, 52 insertions(+), 28 deletions(-)

commit e95376c1c3d586d52808e16a4b13a8eef9a9abad
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Dec 20 10:30:11 2005 +0000

    Add some comments describing what a cairo_meta_surface_t is.
    Remove unused _test_fallback_surface_create_for_data.
    Remove unused _test_meta_surface_create_for_data. Add missing source file src/test-meta-surface.h.

 ChangeLog                   |   14 ++++++++++++
 src/cairo-meta-surface.c    |   19 ++++++++++++++++
 src/test-fallback-surface.c |   28 ------------------------
 src/test-fallback-surface.h |    7 ------
 src/test-meta-surface.c     |   38 --------------------------------
 src/test-meta-surface.h     |   50 +++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 83 insertions(+), 73 deletions(-)

commit 7cc38be7d1e5967cf4f09bd6c0a1ac8f7b059ad8
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Dec 20 09:37:15 2005 +0000

    Move more fallback code from cairo-gstate.c to cairo-surface-fallback.c where it belongs. In the process, clean up the function names a bit and make the whole mess static.

 ChangeLog                    |   16 ++
 src/cairo-gstate.c           |  538 -------------------------------------
 src/cairo-surface-fallback.c |  607 +++++++++++++++++++++++++++++++++++++++---
 src/cairoint.h               |   25 --
 4 files changed, 592 insertions(+), 594 deletions(-)

commit ff486bec0fb1f991217ac9023c0559176ba19a0f
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Dec 19 22:45:41 2005 +0000

    Begin moving fallback code out of cairo-surface.c and into cairo-surface-fallback.c.

 ChangeLog                            |   22 ++
 src/Makefile.am                      |    2 +
 src/cairo-surface-fallback-private.h |  119 +++++++
 src/cairo-surface-fallback.c         |  625 +++++++++++++++++++++++++++++++++
 src/cairo-surface.c                  |  644 ++--------------------------------
 5 files changed, 797 insertions(+), 615 deletions(-)

commit 75b2fe93f09324b509630d86e0b01de830d853cf
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Dec 19 22:01:39 2005 +0000

    Use _cairo_surface_paint rather than _cairo_surface_fill_rectangle as only the former is guaranteed to work with all backends.
    Refine the comment describing this test surface.
    Add new test surface for exercising cairo_meta_surface.
    Simplify the image and test_fallback targets by not using create_for_data. Allow for NULL cleanup target functions. Add support for the test_meta_surface.

 ChangeLog                   |   31 ++++
 src/Makefile.am             |    3 +-
 src/cairo-surface.c         |   15 ++-
 src/test-fallback-surface.c |    8 +-
 src/test-meta-surface.c     |  375 +++++++++++++++++++++++++++++++++++++++++++
 test/.cvsignore             |    1 +
 test/cairo-test.c           |   53 ++----
 7 files changed, 444 insertions(+), 42 deletions(-)

commit 606d23b2874288c18f7373ffa47b0fb6b63b3451
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Mon Dec 19 17:16:28 2005 +0000

    Use correct color when OPERATOR_SOURCE is used on a surface without alpha information.

 ChangeLog                  |    5 +++++
 src/cairo-beos-surface.cpp |   11 +++++++++++
 2 files changed, 16 insertions(+), 0 deletions(-)

commit d0eaab305c69b386fde72fb0a325df2c5d62385d
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Dec 19 15:33:32 2005 +0000

    fix stroke linewidth and dashes, I hope. Emit stroke-dashoffset.

 ChangeLog               |    5 +++++
 src/cairo-svg-surface.c |   12 ++++++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit a83a42b248a8fe22e513b0b61dd7ca1981d7b4dd
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 19 15:08:05 2005 +0000

    Use NULL clip instead of special serial zero cairo_clip_t Should make using surfaces easier.

 ChangeLog           |   11 +++++++++++
 src/cairo-clip.c    |    6 ++++++
 src/cairo-gstate.c  |   31 ++++++++++++++++++-------------
 src/cairo-surface.c |   28 +++++++++++++++++++---------
 4 files changed, 54 insertions(+), 22 deletions(-)

commit ffe10b7c877ef71ee4e982fcf4a1de5b4476b243
Author: Emmanuel Pacaud <emmanuel.pacaud@univ-poitiers.fr>
Date:   Mon Dec 19 14:18:06 2005 +0000

    Shhhh...

 test/.cvsignore |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit ec574cd6f0a4244a45d69894f41db1910585e05d
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Mon Dec 19 13:59:34 2005 +0000

    CAIRO_CAN_TEST_SVG_SURFACE depends on librsvg.
    cairo_svg_surface_t owns a xml node, for support of svg_surface_composite. (_cairo_svg_surface_create_for_document): init xml_node. All surfaces except first one are stored in defs node. (emit_composite_image_pattern): returns pattern size, and don't call emit_transform if is_pattern == TRUE. (emit_composite_svg_pattern): do something. (emit_composite_pattern): returns pattern size. (_cairo_svg_surface_composite): xml_node is stored in cairo_svg_surface_t now. (emit_surface_pattern): emit surface pattern width here. Fix property names. (_cairo_svg_path_close_path): don't close path if no current point. (_cairo_svg_surface_fill_rectangles): new. (_cairo_svg_surface_fill): emit fill rule. xml_node is in surface now. (_cairo_svg_surface_composite_trapezoids): xml_node is in surface now. (_cairo_svg_surface_stroke): ditto. (_cairo_svg_surface_intersect_clip_path): ditto. Emit fill rule.
    ignore svg2png.
    build svg2png utility.
    test SVG backend if CAIRO_HAS_SVG_SURFACE && CAIRO_CAN_TEST_SVG_SURFACE.
    new.

 ChangeLog               |   30 ++++++++
 configure.in            |   10 +++
 src/cairo-svg-surface.c |  178 +++++++++++++++++++++++++++++++++++++++--------
 test/.cvsignore         |    1 +
 test/Makefile.am        |    8 ++-
 test/cairo-test.c       |   69 ++++++++++++++++++
 test/svg2png.c          |   62 ++++++++++++++++
 7 files changed, 329 insertions(+), 29 deletions(-)

commit 70c45dd5020af78ee2532ceb8d55eea619bc4aaa
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Mon Dec 19 11:01:42 2005 +0000

    Some final changes to the beos backend before checkin were wrong, fixing.

 ChangeLog                  |    6 ++++++
 configure.in               |    2 +-
 src/cairo-beos-surface.cpp |    4 ++--
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 9af7220b68f97db4dd2b91ce414d2d7ac3194410
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Mon Dec 19 10:17:22 2005 +0000

    Use gtk-doc syntax rather than doxygen syntax for internal functions (to avoid warnings from gtk-doc when it processes this file)

 ChangeLog                  |    6 ++++++
 src/cairo-beos-surface.cpp |   30 +++++++++++++++++++++---------
 2 files changed, 27 insertions(+), 9 deletions(-)

commit 6142bc534850dda7ecf823c2a672ed65c13978eb
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sun Dec 18 17:20:06 2005 +0000

    Mention new --enable-svg option
    Add notes for the new BeOS backend
    Add disabled by default BeOS backend
    Add BeOS files
    New
    New
    BEOS_SURFACE_FEATURE
    BeOS mutex functions
    Ignore files generates by the BeOS tests
    Add cairo-test-beos.*
    New.
    Test BeOS backend.

 ChangeLog                  |   17 +
 INSTALL                    |    1 +
 README                     |    5 +
 configure.in               |   44 +++
 src/Makefile.am            |   11 +
 src/cairo-beos-surface.cpp |  731 ++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-beos.h           |   61 ++++
 src/cairo-features.h.in    |    2 +
 src/cairoint.h             |   11 +
 test/.cvsignore            |    3 +
 test/Makefile.am           |    6 +
 test/cairo-test-beos.cpp   |  239 +++++++++++++++
 test/cairo-test-beos.h     |   26 ++
 test/cairo-test.c          |   13 +
 14 files changed, 1170 insertions(+), 0 deletions(-)

commit 93da7fa203a8e4bce40aab590a8c245400013787
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Sun Dec 18 16:37:14 2005 +0000

    Move enum to cairoint.h
    add CAIRO_BEGIN_DECLS and CAIRO_END_DECLS, and move an enum from cairo-clip-private.h here (C++ doesn't like forward-declarations of enums). Final patch for allowing C++ backends.
    reviewed by: cworth

 ChangeLog                |   10 ++++++++++
 src/cairo-clip-private.h |    6 ------
 src/cairoint.h           |   10 +++++++++-
 3 files changed, 19 insertions(+), 7 deletions(-)

commit 2c8859c8b51b10fd52b032aef54bb394e9acb011
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Fri Dec 16 16:23:04 2005 +0000

    make the SVG backend freetype message actually mention SVG rather than PDF.

 ChangeLog    |    5 +++++
 configure.in |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 464d3fc563442ebe0efcdd1689e4b83cc92c794b
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Dec 16 11:48:48 2005 +0000

    Return a test_fallback_surface_t rather than a cairo_image_surface_t for better testing, (otherwise, an image surface would meet the semantic demands of create_similar just fine).

 ChangeLog                   |    8 ++++++++
 src/test-fallback-surface.c |   10 +++++++---
 2 files changed, 15 insertions(+), 3 deletions(-)

commit c75232f8abfb1dc56ff669d3b102f71f9cd892c1
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Dec 16 11:31:10 2005 +0000

    Add a new option --enable-test-surfaces.
    New surface backend for testing only. It has as many NULL backend entries as possible.
    Add support to test the new test_fallback backend.

 ChangeLog                   |   22 ++++
 configure.in                |   19 ++++-
 src/Makefile.am             |   11 ++-
 src/test-fallback-surface.c |  225 +++++++++++++++++++++++++++++++++++++++++++
 src/test-fallback-surface.h |   57 +++++++++++
 test/.cvsignore             |    1 +
 test/Makefile.am            |   18 ++--
 test/cairo-test.c           |   34 +++++++
 8 files changed, 373 insertions(+), 14 deletions(-)

commit 79eee2c303c09c33d2f5bc4fc4d88b9608c201d6
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Dec 16 11:21:24 2005 +0000

    Don't export cairo_image_surface_set_clip_region.
    Eliminate some unnecessary _cairo_image_abstract_surface variations of backend function.
    Remove errant include of cairo-pdf.h.

 ChangeLog                 |   11 +++++++++++
 src/cairo-font-subset.c   |    4 ++--
 src/cairo-image-surface.c |   32 +++++++++-----------------------
 src/cairoint.h            |    4 ----
 4 files changed, 22 insertions(+), 29 deletions(-)

commit 6ba7772138d5ce64cef13b296cb61f94b49f9c24
Author: Christian Biesinger <cbiesinger@web.de>
Date:   Fri Dec 16 03:02:35 2005 +0000

    Globally rename "operator" to "op", to allow writing backends in C++
    reviewed by: cworth

 CODING_STYLE                     |    2 +-
 ChangeLog                        |   88 +++++++++++++++++++++++++++
 src/cairo-atsui-font.c           |    2 +-
 src/cairo-clip-private.h         |    2 +-
 src/cairo-clip.c                 |    4 +-
 src/cairo-ft-font.c              |    2 +-
 src/cairo-gstate-private.h       |    2 +-
 src/cairo-gstate.c               |   90 ++++++++++++++--------------
 src/cairo-image-surface.c        |   24 ++++----
 src/cairo-meta-surface-private.h |   16 +++---
 src/cairo-meta-surface.c         |   30 +++++-----
 src/cairo-pdf-surface.c          |   10 ++--
 src/cairo-ps-surface.c           |   90 ++++++++++++++--------------
 src/cairo-scaled-font.c          |   10 ++--
 src/cairo-surface.c              |  122 +++++++++++++++++++-------------------
 src/cairo-svg-surface.c          |   20 +++---
 src/cairo-win32-font.c           |    8 +-
 src/cairo-win32-surface.c        |   16 +++---
 src/cairo-xcb-surface.c          |   18 +++---
 src/cairo-xlib-surface.c         |   80 ++++++++++++------------
 src/cairoint.h                   |   56 +++++++++---------
 test/get-and-set.c               |    8 +-
 22 files changed, 394 insertions(+), 306 deletions(-)

commit 11d20940b28906af2d9dac687b96d38895c7eec1
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Dec 15 08:58:08 2005 +0000

    Make poppler check require poppler >= 0.4.1.

 ChangeLog    |    4 ++++
 configure.in |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 88615148caa317200efcb9768a9f310323546697
Author: Stuart Parmenter <pavlov@pavlov.net>
Date:   Wed Dec 14 19:56:09 2005 +0000

    #define access _access and #define F_OK to 0 on for MSVC
    add CAIRO_BEGIN_DECLS and CAIRO_END_DECLS

 ChangeLog         |    6 ++++++
 test/cairo-test.c |    2 ++
 test/cairo-test.h |    4 ++++
 3 files changed, 12 insertions(+), 0 deletions(-)

commit 9becae35c085d5f7afe08781c4e2546ee7c7287c
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 14 16:45:39 2005 +0000

    Remove dead code from cairo-meta-surface: vestiges of meta-surface backend implementations of composite, fill_rectangles, composite_trapezoids, set_clip_region, and old_show_glyphs.

 ChangeLog                        |    9 ++
 pixman/src/.cvsignore            |    2 +
 src/cairo-meta-surface-private.h |    6 +-
 src/cairo-meta-surface.c         |  233 +-------------------------------------
 4 files changed, 15 insertions(+), 235 deletions(-)

commit 77540a2dfafeea1de9d45847bd93621d7cafa92d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 14 16:22:06 2005 +0000

    Add preliminary support for --enable-gcov. Thanks to Pierre-Alain Joye (with inspiration from the PHP gcov support by Jani Taskinen and Ilia Alshanetsky).
    Ignore *.gcda and *.gcno gcov data files.

 ChangeLog       |    9 ++++++
 configure.in    |   76 ++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/.cvsignore  |    2 +
 test/.cvsignore |    1 +
 4 files changed, 85 insertions(+), 3 deletions(-)

commit bb418ab4e538b035f3a5d7a56d142198d8e432ff
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Dec 13 16:31:14 2005 +0000

    Make creator be cairo, not Cairo.

 ChangeLog              |    5 +++++
 src/cairo-ps-surface.c |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit c2c4f0bb251423737d46fcde7ffe8711547abf09
Author: Vladimir Vukicevic <vladimir@pobox.com>
Date:   Mon Dec 12 11:56:40 2005 +0000

    bump glitz req to 0.5.1, test for backends
    Add glitz backend (original patches from sunmoon1997@gmail.com), including glx, wgl, and agl support. Add CAIRO_TEST_TARGET environment variable for limiting backends to test.
    Takes all *.log files and spits out html to stdout that can be used to view all test results at once.

 ChangeLog         |   12 ++
 configure.in      |   31 +++-
 src/Makefile.am   |   21 ++-
 test/Makefile.am  |   14 ++
 test/cairo-test.c |  540 +++++++++++++++++++++++++++++++++++++++++++++++++++--
 test/make-html.pl |  161 ++++++++++++++++
 6 files changed, 753 insertions(+), 26 deletions(-)

commit 840f93698d5a89634c573f25911e9dc6020a46e1
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Dec 8 13:22:09 2005 +0000

    shhh...

 ChangeLog       |    4 ++++
 test/.cvsignore |    4 ++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit b2f973e7f4a5bf4d953d52dfb71cb84472d32770
Author: Emmanuel Pacaud <emmanuel.pacaud@free.fr>
Date:   Thu Dec 8 13:09:26 2005 +0000

    add optionnal disabled by default SVG backend.
    include SVG backend files.
    include SVG_SURFACE_FEATURE.
    rename dtostr to _cairo_dtostr for use in cairo-svg-surface.c.
    _cairo_dtostr declaration.
    new.
    new.
    build svg-surface and svg-clip.
    new.
    new.

 ChangeLog                 |   16 +
 configure.in              |   50 ++-
 src/Makefile.am           |    7 +
 src/cairo-features.h.in   |    2 +
 src/cairo-output-stream.c |    6 +-
 src/cairo-svg-surface.c   | 1330 +++++++++++++++++++++++++++++++++++++++++++++
 src/cairo-svg.h           |   63 +++
 src/cairoint.h            |    3 +
 test/Makefile.am          |   10 +-
 test/svg-clip.c           |  134 +++++
 test/svg-surface.c        |  115 ++++
 11 files changed, 1723 insertions(+), 13 deletions(-)

commit 73df5f2d6222d4847e4a4b821867be6b6963abf6
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 7 16:16:20 2005 +0000

    Note that that PDF backend has been incorporated into the test suite.

 ChangeLog |    5 +++++
 ROADMAP   |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 45c350e32810fecc09adecf5941ce9640543fb75
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 7 16:06:11 2005 +0000

    Add checks for poppler and friends which are needed by pdf2png. Set CAIRO_CAN_TEST_PDF_SURFACE as both a #define and an automake conditional.
    Build pdf2png if possible.
    Add support for testing the PDF backend.
    New utility program to convert a PDF file into a PNG image using poppler (thanks to Kristian Høgsberg).
    Ignore new stuff generated by PDF backend testing.

 ChangeLog         |   18 +++++++++++
 configure.in      |   11 ++++++
 test/.cvsignore   |    3 ++
 test/Makefile.am  |    6 +++
 test/cairo-test.c |   70 +++++++++++++++++++++++++++++++++++++++++-
 test/pdf2png.c    |   88 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 194 insertions(+), 2 deletions(-)

commit 964c56e72bf5d4b1911b59070413e3424b88b6f4
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 7 12:19:10 2005 +0000

    Note that self-copy now works with the PS backend.
    Add _cairo_array_init_snapshot and checks for is_snapshot throughout.
    Add a new surface->backend->snapshot function.
    Implement _cairo_meta_surface_snapshot and _cairo_meta_surface_acquire/release_source_image. Change _cairo_meta_surface_create to require the width and height in pixels to be used when replaying for purposed of _cairo_meta_surface_aquire_source_image.
    Track change in prototype of _cairo_meta_surface_create. Implement _cairo_ps_surface_snapshot by deferring down into _cairo_meta_surface_snapshot.

 ChangeLog                        |   35 +++++++++++
 ROADMAP                          |    6 +-
 src/cairo-array.c                |   36 ++++++++++++
 src/cairo-meta-surface-private.h |   12 +++-
 src/cairo-meta-surface.c         |  116 +++++++++++++++++++++++++++++++++++--
 src/cairo-ps-surface.c           |   23 +++++++-
 src/cairo-surface.c              |   53 ++++++++++-------
 src/cairoint.h                   |   12 ++++
 8 files changed, 257 insertions(+), 36 deletions(-)

commit 96be55124f3abcb03ed3a901bc4f099185ab8864
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 7 11:53:30 2005 +0000

    Fix to check cairo_surface_status rather than !surface which is always false. (cleanup_ps): Fix leak of filename memory.

 ChangeLog         |    6 ++++++
 test/cairo-test.c |    4 +++-
 2 files changed, 9 insertions(+), 1 deletions(-)

commit 0883155111ab9597d335c7d43ae47c163b5c0e4d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Dec 7 11:44:28 2005 +0000

    Use more portable shell syntax, ('test =' rather than 'test =='). Thanks to Richard Lloyd and Klaus Heinz. Closes bug #4823.

 ChangeLog    |    6 ++++++
 configure.in |    8 ++++----
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 4484830d6cbb5792304e3b6e4c4a07b6172f1a72
Author: David Reveman <davidr@novell.com>
Date:   Mon Dec 5 08:33:04 2005 +0000

    glitz backend gradient fix

 ChangeLog                 |    5 +++++
 src/cairo-glitz-surface.c |    6 +++---
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 57fe7920195474a865cc18f0c976f3ae5df87973
Author: David Reveman <davidr@novell.com>
Date:   Sun Dec 4 07:47:44 2005 +0000

    More updates to track latest changes to glitz

 ChangeLog                 |    6 ++++++
 src/cairo-glitz-surface.c |    3 +++
 2 files changed, 9 insertions(+), 0 deletions(-)

commit 2802950123c808246d0e9c40b1b7cc45043f9335
Author: David Reveman <davidr@novell.com>
Date:   Tue Nov 29 15:48:34 2005 +0000

    Track changes to glitz

 ChangeLog                 |    5 +++
 src/cairo-glitz-surface.c |   68 ++++++++++++++++-----------------------------
 2 files changed, 29 insertions(+), 44 deletions(-)

commit 9e7076fd27b69b4de21a617a9cb0fa74f91f6bec
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 21 11:46:40 2005 +0000

    Remove duplicate definitions of pixman_color_to_pixel and pixman_composite.

 ChangeLog                 |    5 +++++
 pixman/ChangeLog          |    5 +++++
 pixman/src/pixman-remap.h |    2 --
 3 files changed, 10 insertions(+), 2 deletions(-)

commit 674ed1932e2264493e5f746989f02a6f2e0259a9
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 21 10:50:20 2005 +0000

    Add reminder to fix all memory leaks (as determined by the test suite) before release 1.2.0.
    Patch leak of patterns as noted in bug #5100 (thanks to Richard Stellingwerff <remenic@gmail.com>).

 ChangeLog          |    9 +++++++++
 ROADMAP            |    4 ++++
 src/cairo-gstate.c |    4 ++++
 3 files changed, 17 insertions(+), 0 deletions(-)

commit 345ba540b1977db7e1a31f88aa8c8b2cdb32f11d
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Nov 18 09:15:43 2005 +0000

    Remove spurios INT_ prefixes which break the build with very recent binutils.

 ChangeLog                 |    5 +++++
 pixman/ChangeLog          |    5 +++++
 pixman/src/pixman-remap.h |    4 ++--
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 49136c04f2fcbf463334bf256c72b7b280e2e819
Author: Stuart Parmenter <pavlov@pavlov.net>
Date:   Thu Nov 17 11:55:20 2005 +0000

    Hooked up tests to run on Windows with a Windows surface

 ChangeLog         |    6 ++++++
 test/cairo-test.c |   53 ++++++++++++++++++++++++++++++++++++++++++++++-------
 2 files changed, 52 insertions(+), 7 deletions(-)

commit a16d93f367af721a535ed13fc5bc07636e6549d2
Author: Anders Carlsson <andersca@imendio.com>
Date:   Mon Nov 14 12:57:31 2005 +0000

    If the surface is flipped, flip the CG coordinate system before drawing the images.
    (cairo_quartz_surface_create):
    Add "flipped" argument to cairo_quartz_surface_create.

 ChangeLog                  |   11 +++++++++++
 src/cairo-quartz-surface.c |   13 +++++++++++++
 src/cairo-quartz.h         |    1 +
 3 files changed, 25 insertions(+), 0 deletions(-)

commit b5759f9e0746b48064c031009be8cd203f9bbaa5
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Nov 10 16:25:18 2005 +0000

    Change scheduled release date of 1.2.0 out to 2005-12-15.

 ChangeLog |    5 +++++
 ROADMAP   |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 5b6c912667f62f808b9cf533b4486ce906197543
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Nov 8 17:43:13 2005 +0000

    Note that PS is now passing all tests except for self-copy.
    Add missing glue to hook up PS backend with new meta-surface support for the 5 basic drawing operations. Currently, this forces image fallbacks for all operations.
    Switch from gs device of pngalpha to png16m which for some reason gives the correct result for nil-surface now, while pngalpha does not.
    Key off of N_OPERATORS as the loop control for easier trimming down of this test case when debugging.
    Rename stroke_style parameter to style in backend->stroke parameter list.
    Remove PS-specific reference images for many tests which are now using more fallback paths than before.

 ChangeLog                                      |   46 ++++++
 ROADMAP                                        |   10 +-
 src/cairo-ps-surface.c                         |  196 +++++++++++++++++++++---
 src/cairoint.h                                 |    2 +-
 test/cairo-test.c                              |    2 +-
 test/caps-joins-ps-rgb24-ref.png               |  Bin 1420 -> 0 bytes
 test/caps-sub-paths-ps-rgb24-ref.png           |  Bin 237 -> 0 bytes
 test/clip-fill-rule-ps-rgb24-ref.png           |  Bin 309 -> 0 bytes
 test/clip-nesting-ps-rgb24-ref.png             |  Bin 517 -> 0 bytes
 test/clip-operator.c                           |    2 +-
 test/clip-twice-ps-rgb24-ref.png               |  Bin 605 -> 0 bytes
 test/dash-caps-joins-ps-rgb24-ref.png          |  Bin 2362 -> 0 bytes
 test/dash-offset-negative-ps-rgb24-ref.png     |  Bin 202 -> 0 bytes
 test/fill-and-stroke-ps-rgb24-ref.png          |  Bin 328 -> 0 bytes
 test/fill-rule-ps-rgb24-ref.png                |  Bin 2167 -> 0 bytes
 test/leaky-polygon-ps-rgb24-ref.png            |  Bin 353 -> 0 bytes
 test/line-width-ps-rgb24-ref.png               |  Bin 242 -> 0 bytes
 test/path-data-ps-rgb24-ref.png                |  Bin 440 -> 0 bytes
 test/rectangle-rounding-error-ps-rgb24-ref.png |  Bin 365 -> 0 bytes
 test/show-text-current-point-ps-rgb24-ref.png  |  Bin 1477 -> 0 bytes
 test/text-antialias-gray-ps-rgb24-ref.png      |  Bin 714 -> 0 bytes
 test/text-antialias-none-ps-rgb24-ref.png      |  Bin 714 -> 0 bytes
 test/text-antialias-subpixel-ps-rgb24-ref.png  |  Bin 714 -> 0 bytes
 test/transforms-ps-rgb24-ref.png               |  Bin 418 -> 0 bytes
 test/unantialiased-shapes-ps-rgb24-ref.png     |  Bin 9899 -> 0 bytes
 25 files changed, 231 insertions(+), 27 deletions(-)

commit 48218fec48d1bfa2a93cc21f8f9df569e40ca79e
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Nov 8 17:16:21 2005 +0000

    Add support to cairo_meta_surface for the 5 basic drawing operations. Remove _cairo_meta_surface_get_extents and _cairo_meta_surface_old_show_glyphs.
    Remove size for _cairo_meta_surface_create. It is no longer needed now that get_extents is not a required backend function.
    Track change in cairo_meta_surface_create no longer requiring a size
    Qualify the glyphs argument to backend->show_glyphs as const.
    Whitespace style cleanup.

 ChangeLog                        |   31 +++
 src/cairo-meta-surface-private.h |   99 +++++---
 src/cairo-meta-surface.c         |  553 +++++++++++++++++++++++---------------
 src/cairo-ps-surface.c           |    6 +-
 src/cairo-scaled-font.c          |    4 +-
 src/cairo-surface.c              |   10 +-
 src/cairoint.h                   |    8 +-
 7 files changed, 451 insertions(+), 260 deletions(-)

commit c66a3db4c3e33f10ebadfa818f532e21e9b8927f
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Nov 8 11:44:18 2005 +0000

    Split the 1.2.0 features into "essential" and "desired".

 ChangeLog |    5 +++++
 ROADMAP   |   12 ++++++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 75881041f009af01a7f13b3488db493d7a91b456
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Nov 8 11:39:21 2005 +0000

    Slip the 1.2 release by two weeks to 2005-11-15.

 ChangeLog |    4 ++++
 ROADMAP   |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 632b948c8c162b90c8d8bc5eb56c505af89e61de
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 13:23:31 2005 +0000

    Add new _cairo_array_allocate function for growing the array and getting a pointer to the buffer of new data. This is intended to be used in place of the abuse of passing data=NULL to _cairo_array_append_multiple.
    Add new function to be used instead of the abuse of pasing data=NULL to cairo_pdf_ft_font_write.
    Just return a status now instead of a pointer to the written buffer, since cairo_pdf_ft_font_allocate_write_buffer should now be used instead when a pointer is needed.
    Switch to use cairo_pdf_ft_font_allocate_write_buffer.
    Fix use of uninitialized status value.
    initialization just to keep the compiler quiet about possibly uninitialized variables.

 ChangeLog                |   39 ++++++++++++++++++++++++++++++++
 src/cairo-array.c        |   46 ++++++++++++++++++++++++++++---------
 src/cairo-font-subset.c  |   56 ++++++++++++++++++++++++++++++++++++----------
 src/cairo-meta-surface.c |    6 +---
 src/cairo-pattern.c      |    3 +-
 src/cairoint.h           |   10 ++++++-
 6 files changed, 130 insertions(+), 30 deletions(-)

commit 3930b6ab775113cbeae7375cab3ed5854a795755
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 10:50:39 2005 +0000

    Use field-by-field copying rather than whole structure copying. This avoids the hidden copies being overlooked in future code modifications.

 ChangeLog          |    7 +++++++
 src/cairo-gstate.c |   28 +++++++++++++++++++---------
 2 files changed, 26 insertions(+), 9 deletions(-)

commit 9cf7fafffc4a6275f30bd946626ec9932a74caa0
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 10:48:01 2005 +0000

    Fix to copy region if NULL.

 ChangeLog        |    5 +++++
 src/cairo-clip.c |    4 +++-
 2 files changed, 8 insertions(+), 1 deletions(-)

commit 80e4c6307d0967b2a9ab0f1ca95443d5b00540e5
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 10:46:23 2005 +0000

    Reorder function bodies to match the order of fields in the structure definition. Some style cleanups.
    Fix bug in that several fields were not being copied.

 ChangeLog        |    9 +++++++++
 src/cairo-clip.c |   43 ++++++++++++++++++++++++++-----------------
 2 files changed, 35 insertions(+), 17 deletions(-)

commit 8d09247fcd456881ede2ef277baa7a9c71721b2c
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 10:29:37 2005 +0000

    Two more instances of copy-and-reference in a single step.

 ChangeLog          |    5 +++++
 src/cairo-gstate.c |    4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 66e69f18ec4e61a195039dc100ac5db3f389f476
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 10:26:18 2005 +0000

    Perform copy and reference in a single step.
    Remove unnecessary checks for NULL before _destroy() functions. Reset pointers to NULL after _destroy().

 ChangeLog          |    9 +++++++++
 src/cairo-gstate.c |   21 +++++++++------------
 2 files changed, 18 insertions(+), 12 deletions(-)

commit 36523b96565a4b4015ddb3172c14690774edb92c
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 10:17:37 2005 +0000

    Reorder function bodies to match to match the order of the fields in the structure definition.

 ChangeLog          |    6 ++++++
 src/cairo-gstate.c |   14 +++++++-------
 2 files changed, 13 insertions(+), 7 deletions(-)

commit 9796a54fa197206df914252a3511bfb30ce95039
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 10:02:06 2005 +0000

    Style fix: test-and-bail rather than making the working body conditional.
    Allow destroy to work on a NULL object.

 ChangeLog          |    9 +++++++++
 src/cairo-gstate.c |   44 +++++++++++++++++++++++++-------------------
 2 files changed, 34 insertions(+), 19 deletions(-)

commit 201d4e2ce76fe534009c6910cf42c5456b497047
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 09:49:51 2005 +0000

    Add functions to initialize and copy cairo_stroke_style_t objects.
    Use new _cairo_stroke_style functions rather than direct modification.
    Add missing prototype for _cairo_font_options_init_copy.

 ChangeLog                |   15 ++++++++
 src/Makefile.am          |    1 +
 src/cairo-gstate.c       |   26 ++++----------
 src/cairo-stroke-style.c |   87 ++++++++++++++++++++++++++++++++++++++++++++++
 src/cairoint.h           |   16 ++++++++
 5 files changed, 126 insertions(+), 19 deletions(-)

commit a9e2cf8d9b6e49375cb6051b749c72b8dea97bfd
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 09:33:38 2005 +0000

    Remove unused prototypes for _cairo_gstate_begin_group and _cairo_gstate_end_group.

 ChangeLog      |    5 +++++
 src/cairoint.h |    6 ------
 2 files changed, 5 insertions(+), 6 deletions(-)

commit ed160b63a12a8018f6fa40a026c8b9bb942523c7
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 09:30:38 2005 +0000

    Add documentation for _cairo_gstate_create, _cairo_gstate_init_copy, and _cairo_gstate_clone.

 ChangeLog          |    5 +++++
 src/cairo-gstate.c |   31 +++++++++++++++++++++++++++++++
 2 files changed, 36 insertions(+), 0 deletions(-)

commit fe324c44153cf37a51b51883780daee5500173be
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Nov 7 09:26:47 2005 +0000

    Add a function for copying font options rather than just using direct structure copying.

 ChangeLog                |    6 ++++++
 src/cairo-font-options.c |   12 +++++++++++-
 2 files changed, 17 insertions(+), 1 deletions(-)

commit f79d48640f26fd5c02d949ac759090dafaa002ec
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Nov 5 22:43:06 2005 +0000

    Add missing declarations for status variables. Thanks to Mikael Hallendal for pointing this out.

 ChangeLog              |    6 ++++++
 src/cairo-ps-surface.c |    2 ++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 9341c254a00c732c9ce415233447ed47a7cbce7c
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Nov 4 16:13:30 2005 +0000

    Rename old, rarely used _cairo_array_append to _cairo_array_append_multiple. Add much more common _cairo_array_append. Fix both to return a cairo_status_t. Remove undocumented code to allow a non-copying append when elements is NULL, (let's not encourage unintialized data, shall we?)
    Cleanup to not rely on undocumented copy-avoidance in _cairo_array_append.
    Track change in number of arguments and return value of _cairo_array_append.

 ChangeLog                |   31 +++++++++++++++
 src/cairo-array.c        |   96 +++++++++++++++++++++++++++++----------------
 src/cairo-font-subset.c  |   11 +++--
 src/cairo-meta-surface.c |   57 +++++++++++++++++++---------
 src/cairo-pdf-surface.c  |   29 ++++++++++----
 src/cairo-ps-surface.c   |    9 +++-
 src/cairo-win32-font.c   |   19 ++++++---
 src/cairoint.h           |    9 +++-
 8 files changed, 185 insertions(+), 76 deletions(-)

commit feef096e2586d162c4ccd072bfadc39f1de4502a
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Nov 4 15:15:30 2005 +0000

    Add documentation for all _cairo_array interface functions.

 ChangeLog         |    5 +++
 src/cairo-array.c |   73 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 78 insertions(+), 0 deletions(-)

commit 39eca22bfe2af91c926d00a4c3f19c03280b6c8b
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Nov 4 11:16:38 2005 +0000

    Rework support in the surface backend for the five basic drawing operations (paint, mask, stroke, fill, and show_glyphs). Now, all 5 operations have backend functions, and all use a consistent convention for argument naming and ordering. The old fill_path has been replaced with a new fill. The old show_glyphs function was recently renamed to old_show_glyphs and has not yet been ported to the new show_glyphs, (so all backends have a NULL show_glyphs function). In fact, of the 5 new backend functions, fill is the only one that has an implementation in any backend. As part of this cleanup a new cairo_stroke_style_t object is introduced to capture the many settings unique to the stroke operation, (line_width, line_cap, line_join, miter_limit, dash, num_dashes, and dash_offset).
    Track changes in surface backend from fill_path to fill.
    Track the new canonical argument naming and ordering for the 5 drawing operations.
    Move various stroke style settings into new cairo_stroke_style_t.
    Drop NULL fill_path backend function which no longer exists.

 ChangeLog                        |   57 ++++++++
 src/cairo-glitz-surface.c        |    1 -
 src/cairo-gstate-private.h       |   10 +--
 src/cairo-gstate.c               |  161 ++++++++++-------------
 src/cairo-meta-surface-private.h |    8 +-
 src/cairo-meta-surface.c         |   71 ++++++----
 src/cairo-path-stroke.c          |  142 +++++++-------------
 src/cairo-pdf-surface.c          |   31 +++--
 src/cairo-ps-surface.c           |   87 +++++++------
 src/cairo-surface.c              |  265 +++++++++++++++++---------------------
 src/cairo-win32-surface.c        |    1 -
 src/cairo-xcb-surface.c          |    1 -
 src/cairo-xlib-surface.c         |    1 -
 src/cairoint.h                   |  142 ++++++++++++--------
 14 files changed, 497 insertions(+), 481 deletions(-)

commit 719334c52cd8dd8aaf10284632b018fd1a3b9d6c
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Nov 1 16:40:37 2005 +0000

    Rename surface->backend->show_glyphs to surface->backend->old_show_glyphs.
    Move show_glyphs fallback from gstate to surface where it belongs.
    Reviewed by: keithp

 ChangeLog                  |   29 +++++++
 src/cairo-atsui-font.c     |   26 +++---
 src/cairo-glitz-surface.c  |   26 +++---
 src/cairo-gstate.c         |  109 +++------------------------
 src/cairo-image-surface.c  |    2 +-
 src/cairo-meta-surface.c   |   28 ++++----
 src/cairo-pdf-surface.c    |   26 +++---
 src/cairo-ps-surface.c     |   78 ++++++++++----------
 src/cairo-quartz-surface.c |    2 +-
 src/cairo-surface.c        |  180 +++++++++++++++++++++++++++++++++++++++-----
 src/cairo-win32-surface.c  |    2 +-
 src/cairo-xcb-surface.c    |    2 +-
 src/cairo-xlib-surface.c   |  104 +++++++++++++-------------
 src/cairoint.h             |   34 +++++---
 14 files changed, 372 insertions(+), 276 deletions(-)

commit a3ae0aecc47863145e5dd9f461d696e89c9e7c30
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 1 10:33:34 2005 +0000

    Clean up argument order for _fallback_stroke to match other functions

 ChangeLog           |    6 ++++++
 src/cairo-surface.c |    6 +++---
 2 files changed, 9 insertions(+), 3 deletions(-)

commit a7228cc37a0cd967296e41639e624e9af1520a22
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Oct 31 16:55:21 2005 +0000

    Originally 2005-10-28 Keith Packard <keithp@keithp.com>:
    Remove pen_regular field from the gstate.
    Move stroke fallback from gstate to surface where it belongs.
    Eliminate dependence on cairo_gstate_t object.
    Fix to include just cairo-clip-private.h rather than cairo-gstate.private.h.

 ChangeLog                  |   28 +++++++
 src/cairo-gstate-private.h |    2 -
 src/cairo-gstate.c         |  113 +++++++++++---------------
 src/cairo-meta-surface.c   |    2 +-
 src/cairo-path-stroke.c    |  185 +++++++++++++++++++++++++++++---------------
 src/cairo-pen.c            |   27 ++----
 src/cairo-surface.c        |   90 +++++++++++++++++++++-
 src/cairoint.h             |   41 +++++++++-
 8 files changed, 335 insertions(+), 153 deletions(-)

commit 3cae05c4c503ce71c4967bd3f748cdfa3bb76ebc
Author: Tor Lillqvist <tml@novell.com>
Date:   Mon Oct 31 11:10:13 2005 +0000

    Call _cairo_scaled_glyph_set_path().

 ChangeLog              |    5 +++++
 src/cairo-win32-font.c |    4 ++++
 2 files changed, 9 insertions(+), 0 deletions(-)

commit 1a25220634013c4ef475f92110ede366e0847572
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 28 21:00:42 2005 +0000

    Use _cairo_pattern_get_extents in _fallback_paint to bound paint operators.

 ChangeLog           |    6 ++++++
 src/cairo-surface.c |   27 ++++++++++++++++++---------
 2 files changed, 24 insertions(+), 9 deletions(-)

commit 83ff8ea194763659be84e7cfa59ad2e1711fb3da
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 28 20:49:59 2005 +0000

    Bound mask fallback operation by transformed mask and source. This should speed up any applications calling cairo_mask with a bounded source or mask operand.

 ChangeLog           |    9 +++++
 src/cairo-pattern.c |   85 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/cairo-surface.c |   23 +++++++++----
 src/cairoint.h      |    4 ++
 4 files changed, 113 insertions(+), 8 deletions(-)

commit 93cbc71a7998485d768a3b4cb4f26b2a443c81c5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 28 20:41:22 2005 +0000

    Split _cairo_operator_bounded into two separate functions _cairo_operator_bounded_by_mask and _cairo_operator_bound_by_source to distinguish between how operators use source and mask operands.

 ChangeLog                 |   18 ++++++++++++++
 src/cairo-gstate.c        |   56 ++++++++++++++++++++++++++++++++++++++------
 src/cairo-image-surface.c |    6 +---
 src/cairo-xlib-surface.c  |    8 ++----
 src/cairoint.h            |    5 +++-
 5 files changed, 75 insertions(+), 18 deletions(-)

commit 1540504bd66a75a2fed8352ebfe8b029b3f199dd
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 27 17:16:46 2005 +0000

    Fix leak of pattern (missing _cairo_pattern_fini).
    Move mask fallback from gstate to surface where it belongs.
    Temporarily export some previously private cairo_gstate functions, (soon to become private cairo_fallback functions).

 ChangeLog           |   17 +++++++++++
 src/cairo-gstate.c  |   76 ++++++------------------------------------------
 src/cairo-surface.c |   81 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/cairoint.h      |   25 +++++++++++++++-
 4 files changed, 131 insertions(+), 68 deletions(-)

commit ce7b19fc3434ff733fd6f00add017386ad4a7974
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 27 15:06:53 2005 +0000

    Move paint fallback from gstate to surface where it belongs.
    Add clip pointer to surface.

 ChangeLog           |   11 ++++++++
 src/cairo-gstate.c  |   27 ++++----------------
 src/cairo-surface.c |   66 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/cairoint.h      |    7 +++++
 4 files changed, 89 insertions(+), 22 deletions(-)

commit e406f4b0f0fc90dc6ad8aba000122a7345195478
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Oct 25 16:02:08 2005 +0000

    Add explicit NULLs for unimplmented backend functions to better document what might be improved here.

 ChangeLog               |    5 +++++
 src/cairo-xcb-surface.c |    8 +++++++-
 2 files changed, 12 insertions(+), 1 deletions(-)

commit 8471ad29abb7abf96b5762675dd05b6ca3cca186
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Oct 25 15:57:28 2005 +0000

    Add critical bug #4863 to the 1.0.4 roadmap.

 ChangeLog |    4 ++++
 ROADMAP   |    1 +
 2 files changed, 5 insertions(+), 0 deletions(-)

commit 09114cc62759efaee4102d05d6e0331193dba75e
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Oct 25 15:55:57 2005 +0000

    Add mention of suspected bug in PS backend.

 BUGS      |   10 ++++++++++
 ChangeLog |    4 ++++
 2 files changed, 14 insertions(+), 0 deletions(-)

commit 16d79e212986d814bdc03b2f83c03371811ebb9f
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Oct 18 16:09:21 2005 +0000

    Mark the composite-integer-translate-source test as now passing for the PS backend (6 to go).
    Use fallbacks for any operation using a pattern other than a solid pattern, since it's the only type that will actually emit anything right now.
    Add comments indicating these functions are not yet implemented.

 ChangeLog              |   14 ++++++++++++++
 ROADMAP                |    2 +-
 src/cairo-ps-surface.c |   13 +++++++++++++
 3 files changed, 28 insertions(+), 1 deletions(-)

commit 85abc42302529192a3e3eecf0bc3ff54258cbb4e
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Oct 18 15:58:32 2005 +0000

    Mark the operator-source and trap-clip tests as now passing for the PS backend (7 to go).
    Replace the surface->fallback_region with a page-level surface->fallback Boolean instead, since that's all it was being used as anyway.
    Do nothing in the ps_output->fallback case.
    Do nothing in the ! ps_output->fallback case.
    Reviewed by: keithp

 ChangeLog              |   20 ++++++++++++++++++++
 ROADMAP                |    4 ++--
 src/cairo-ps-surface.c |   38 ++++++++++++++++++++++++--------------
 3 files changed, 46 insertions(+), 16 deletions(-)

commit c88dbd077a8f501409f7a9ecd5b3f93aad21bdfa
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Oct 18 12:41:01 2005 +0000

    Added list of 9 remaining PS backend test suite failures to the 1.2.0 roadmap.

 ChangeLog |    5 +++++
 ROADMAP   |   10 +++++++++-
 2 files changed, 14 insertions(+), 1 deletions(-)

commit d93767c6ee4ca18ad2c93d8fce2ec82dca7ee21c
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Oct 18 12:04:41 2005 +0000

    Add reference images for antialiasing modes which are basically not applicable to the PS output.

 ChangeLog                                     |    7 +++++++
 test/text-antialias-none-ps-rgb24-ref.png     |  Bin 0 -> 714 bytes
 test/text-antialias-subpixel-ps-rgb24-ref.png |  Bin 0 -> 714 bytes
 3 files changed, 7 insertions(+), 0 deletions(-)

commit 99d02f2adc24c98b6f2e2d49f4cb909ff35d7926
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 13 21:04:28 2005 +0000

    Add verified image for PS output for dash-offset-negative.

 ChangeLog                                  |    6 ++++++
 test/Makefile.am                           |    1 +
 test/dash-offset-negative-ps-rgb24-ref.png |  Bin 0 -> 202 bytes
 3 files changed, 7 insertions(+), 0 deletions(-)

commit 4f97b2edb533c9b0329a8d7ec8e4f16447a04f12
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 13 21:00:52 2005 +0000

    New function to create a snapshot copy of a pattern.
    Port code to use _init_pattern_with_snapshot rather than _cairo_pattern_init_copy for all source and mask patterns.
    New function to create a snapshot copy of a surface (still preliminary---no support for meta-surfaces or any other surface for which acquire_source_surface will fail).
    Add new surface->is_snapshot and initialize to FALSE.
    Assert that none of these surface-modifying functions are ever called with a snapshot surface.
    Reviewed by: keithp, otaylor

 ChangeLog                |   37 ++++++++++++++++++
 src/cairo-meta-surface.c |   33 +++++++++++++--
 src/cairo-surface.c      |   95 +++++++++++++++++++++++++++++++++++++++++++++-
 src/cairoint.h           |    6 +++
 4 files changed, 165 insertions(+), 6 deletions(-)

commit 9d27993cedf512f17b232986b6667e26c3a06ed0
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 13 20:15:29 2005 +0000

    Add comment for obviously broken function.

 ChangeLog               |    5 +++++
 src/cairo-pdf-surface.c |    2 ++
 2 files changed, 7 insertions(+), 0 deletions(-)

commit 31a561e2c233ab93c6e644e00d8e6d26e12b9bef
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 13 16:55:14 2005 +0000

    Push fill_path fallbacks down from gstate into the surface where all the other fallbacks are.
    Add _cairo_surface_is_meta.
    Add antialias to the fill_path meta-surface command.
    Add an antialias parameter to the backend fill_path function.
    Fix test description.
    Reviewed by: keithp

 ChangeLog                        |   26 +++++++++++++++
 src/cairo-gstate.c               |   27 ++-------------
 src/cairo-meta-surface-private.h |    3 ++
 src/cairo-meta-surface.c         |   22 +++++++++++-
 src/cairo-pdf-surface.c          |    9 +++--
 src/cairo-ps-surface.c           |   22 +++++++++++--
 src/cairo-surface.c              |   65 +++++++++++++++++++++++++++++++------
 src/cairoint.h                   |   21 +++++++-----
 test/fill-and-stroke.c           |    2 +-
 9 files changed, 144 insertions(+), 53 deletions(-)

commit 097f240c6d2403f1a3530c61a8c437444f936d97
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 13 07:33:07 2005 +0000

    Fix indentation.

 ChangeLog          |    5 +++++
 src/cairo-gstate.c |   22 +++++++++++-----------
 2 files changed, 16 insertions(+), 11 deletions(-)

commit d31d5db04fe5706e26f117def1fffda627ccf8cf
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 13 07:30:15 2005 +0000

    Increment libtool versioning to 5:0:3 in anticipation of 1.2.0 which will add interfaces. The motivation for this is to make the 1.1.1 release install a library which will be considered newer than 1.0.2.
    Add a release-verify-soname-major check to verify that the soname major number is always 2 as part of the release-publish target.
    Reviewed by: otaylor

 ChangeLog    |   13 +++++++++++++
 Makefile.am  |   10 +++++++++-
 configure.in |    6 +++---
 3 files changed, 25 insertions(+), 4 deletions(-)

commit cd859a23d022d2aa84649e6e076cd75834800263
Author: Tor Lillqvist <tml@novell.com>
Date:   Wed Oct 12 15:05:09 2005 +0000

    Intersect clip region with target surface so we don't waste time and memory.
    Reviewed by: cworth

 ChangeLog        |    7 +++++++
 src/cairo-clip.c |    9 ++++++++-
 2 files changed, 15 insertions(+), 1 deletions(-)

commit 1fa004f2a6a8cb7147657c74a3b3fc469b778f34
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Oct 12 14:23:11 2005 +0000

    Add extend-reflect to the 1.2.0 roadmap. Mark dashed splines and clip-all as fixed.
    Mark extend-reflect as an expected failure.

 ChangeLog             |    9 +++++++++
 ROADMAP               |    6 ++++--
 test/Makefile.am      |    1 +
 test/extend-reflect.c |    3 ++-
 4 files changed, 16 insertions(+), 3 deletions(-)

commit 7dcbcdf75c5d9a7a691d741ecd1d36160fb725e3
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Oct 12 13:37:00 2005 +0000

    Add a couple of tests to improve our coverage (clipping under both fill rules).

 ChangeLog                                       |   14 ++++
 test/.cvsignore                                 |    2 +
 test/Makefile.am                                |    6 ++
 test/clip-fill-rule-pixel-aligned-ref.png       |  Bin 0 -> 195 bytes
 test/clip-fill-rule-pixel-aligned-rgb24-ref.png |  Bin 0 -> 194 bytes
 test/clip-fill-rule-pixel-aligned.c             |   95 +++++++++++++++++++++++
 test/clip-fill-rule-ps-rgb24-ref.png            |  Bin 0 -> 309 bytes
 test/clip-fill-rule-ref.png                     |  Bin 0 -> 431 bytes
 test/clip-fill-rule-rgb24-ref.png               |  Bin 0 -> 495 bytes
 test/clip-fill-rule.c                           |   79 +++++++++++++++++++
 10 files changed, 196 insertions(+), 0 deletions(-)

commit 990dfde44762a2e85f4d85f1e2a93a7b976533cd
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Oct 12 13:33:38 2005 +0000

    Add return value at ASSERT_NOT_REACHED.

 ChangeLog               |    5 +++++
 src/cairo-pdf-surface.c |    1 +
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 67d20cd4b247c4c9fef88067915d27e934b4356d
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Oct 12 13:24:35 2005 +0000

    Doc churn

 doc/public/tmpl/cairo-pattern.sgml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d794c624cc81512ab89301f0bb7bc033a9006d00
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Oct 11 13:20:44 2005 +0000

    Implement non-uniformly spaced color stops for PDF gradients. Patch from Jens Taprogge (#4722).

 ChangeLog               |    8 +++
 src/cairo-pdf-surface.c |  155 ++++++++++++++++++++++++++++++++++++-----------
 2 files changed, 127 insertions(+), 36 deletions(-)

commit f1044bb3c7753e17833a2dc0db508a80eeb810b7
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Mon Oct 10 12:45:15 2005 +0000

    Call it CAIRO_EXTEND_PAD instead of CAIRO_EXTEND_NEAREST.
    Update everybody to use _PAD instead of _NEAREST.

 ChangeLog                 |   14 ++++++++++++++
 src/cairo-glitz-surface.c |    2 +-
 src/cairo-image-surface.c |    2 +-
 src/cairo-pattern.c       |    2 +-
 src/cairo-xcb-surface.c   |    2 +-
 src/cairo-xlib-surface.c  |    2 +-
 src/cairo.h               |    4 ++--
 src/cairoint.h            |    2 +-
 8 files changed, 22 insertions(+), 8 deletions(-)

commit f39816e0161d357d8a23ae943d1bd70633795d63
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Oct 10 09:36:39 2005 +0000

    Transform source pattern for _cairo_surface_fill_path() also (#4673).
    Use cairo_fill_preserve() instead of cairo_save()/cairo_restore().
    Add missing return values.

 ChangeLog               |   11 +++++++++++
 src/cairo-gstate.c      |    7 ++++++-
 src/cairo-pdf-surface.c |    7 +++----
 test/pdf-surface.c      |    6 +-----
 test/ps-surface.c       |    6 +-----
 5 files changed, 22 insertions(+), 15 deletions(-)

commit 7fdf45ce61f958aaecf6e8c7042947d3ebbcfd9d
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Mon Oct 10 09:16:21 2005 +0000

    Add documentation for the extend modes.
    Document the extend functions for patterns.
    Remove some redundancy in the documentation.

 ChangeLog           |   10 ++++++++++
 src/cairo-pattern.c |   20 ++++++++++++++++++++
 src/cairo.c         |    4 ----
 src/cairo.h         |   13 +++++++++++++
 4 files changed, 43 insertions(+), 4 deletions(-)

commit 935764d91c6fee4aa30ea59464f4670e5f70f7c8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 9 20:40:12 2005 +0000

    Switch fallback from list of rects to region. Check operator and patterns for non-ps drawing ability. Operators can sometimes be always opaque, independent of the pattern, sometimes always translucent, independent of the pattern and sometimes depend on whether is translucent.
    reviewed by: cworth

 ChangeLog              |   20 +++++
 src/cairo-ps-surface.c |  183 ++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 165 insertions(+), 38 deletions(-)

commit a0e970fad268c90ab79a682116773b21d4120ccc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 9 20:31:44 2005 +0000

    Add const to _cairo_surface_is_image parameter

 ChangeLog                 |    6 ++++++
 src/cairo-image-surface.c |    2 +-
 src/cairoint.h            |    2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 2a3593e35ccedb9f9eb82390652e566dc651896b
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Oct 9 20:01:42 2005 +0000

    Doc SGML churn

 doc/public/tmpl/cairo-pattern.sgml |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b207dfe8228d624b88ee871c1f82d0321df4a3ef
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Oct 9 14:51:55 2005 +0000

    Add a new test to start investigating bug 4183.
    The new test.
    Ignore the new test.

 ChangeLog             |    6 ++++++
 test/.cvsignore       |    1 +
 test/Makefile.am      |    4 ++++
 test/extend-reflect.c |   37 +++++++++++++++++++++++++++++++++++++
 4 files changed, 48 insertions(+), 0 deletions(-)

commit bb86d6664d607cb4f6b88618209d1c5dc74683ba
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Oct 9 14:29:54 2005 +0000

    Make space for the new bits needed by expand.

 pixman/ChangeLog     |    4 ++++
 pixman/src/icimage.h |    4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit eeb56e713b26e55cf1a5704d1e09b65457a7c457
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 9 14:28:15 2005 +0000

    The comment said 'blend over white', the code did 'blend under garbage'. I made the code look like the comment. More tests pass now. mmm.
    reviewed by: cworth

 ChangeLog              |    9 +++++++++
 src/cairo-ps-surface.c |    7 ++++++-
 2 files changed, 15 insertions(+), 1 deletions(-)

commit 951c7a65924146c6acf6658ea17eca946fe0f069
Author: Carl Worth <cworth@cworth.org>
Date:   Sun Oct 9 13:33:21 2005 +0000

    Make surface image data static to work around a bug in cairo-meta-surface.c (not copying source surface pattern data).

 ChangeLog                         |   11 +++++++++++
 test/filter-nearest-offset.c      |    2 +-
 test/mask-ctm.c                   |    2 +-
 test/mask-surface-ctm.c           |    2 +-
 test/paint-with-alpha.c           |    2 +-
 test/scale-source-surface-paint.c |    2 +-
 test/source-surface-scale-paint.c |    2 +-
 7 files changed, 17 insertions(+), 6 deletions(-)

commit ea7ac21d3b5c488e3d1ec82c18d66ae3f356d16f
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Oct 9 09:18:16 2005 +0000

    Add a "nearest" extend mode, where the closest pixel is repeated for pixels outside of the source area. Note that for gradients, applications which had explicitly set a repeat mode of NONE will now need to change to use NEAREST to get the same behaviour.
    Split CARIO_EXTEND_DEFAULT to indicate defaults for surfaces and gradients. The default for gradients is still the NEAREST beaviour.
    Support the NEAREST mode, change NONE to be TRANSPARENT.
    Update the extend mode code to use the pixman support.
    Handle NEAREST, note that support for NONE is not yet handled for gradients.
    Add a check for NEAREST but don't do anything useful.
    Add a check for NEAREST but don't do anything useful.
    Update a comment about the extend support in the image backend.
    reviewed by: davidr, cworth, otaylor

 ChangeLog                 |   26 ++++++++++++++++++++++++++
 src/cairo-glitz-surface.c |    5 ++++-
 src/cairo-image-surface.c |   18 ++++++------------
 src/cairo-pattern.c       |   16 +++++++++++-----
 src/cairo-pdf-surface.c   |    2 --
 src/cairo-xcb-surface.c   |    2 ++
 src/cairo-xlib-surface.c  |    1 +
 src/cairo.h               |    3 ++-
 src/cairoint.h            |    3 ++-
 9 files changed, 54 insertions(+), 22 deletions(-)

commit 32eb6ce206e225c5ae972d44fcd704b807555dd1
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Oct 9 09:09:53 2005 +0000

    Add extended repeat modes, copied from XRender.
    Cleanup to use the new repeat modes.
    Be explicit about which repeat mode we want.
    reviewed by: davidr, cworth, otaylor

 pixman/ChangeLog     |   10 ++++++++++
 pixman/src/icimage.c |    9 +++++----
 pixman/src/icrect.c  |    2 +-
 pixman/src/pixman.h  |   14 +++++++++++---
 4 files changed, 27 insertions(+), 8 deletions(-)

commit a8dbfc42a75d1304bd1ddb6f885f507d47e96e76
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Oct 8 22:44:56 2005 +0000

    Remove 1.0.2 entries now that it is out. Note that the PS backend has now been added to the test suite.

 ChangeLog |    5 +++++
 ROADMAP   |   17 +++++------------
 2 files changed, 10 insertions(+), 12 deletions(-)

commit e26dbd950084477ffe26ba405fd7558ed74196cf
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Oct 8 13:04:18 2005 +0000

    Add ps-backend-specific reference images for test for which the current output is fine, but just happens to not be identical to the existing reference images, (ie. just minor differences shape-boundary pixels).

 ChangeLog                                      |   17 +++++++++++++++++
 test/caps-sub-paths-ps-rgb24-ref.png           |  Bin 0 -> 237 bytes
 test/dash-caps-joins-ps-rgb24-ref.png          |  Bin 0 -> 2362 bytes
 test/fill-and-stroke-ps-rgb24-ref.png          |  Bin 0 -> 328 bytes
 test/fill-rule-ps-rgb24-ref.png                |  Bin 0 -> 2167 bytes
 test/leaky-polygon-ps-rgb24-ref.png            |  Bin 0 -> 353 bytes
 test/line-width-ps-rgb24-ref.png               |  Bin 0 -> 242 bytes
 test/path-data-ps-rgb24-ref.png                |  Bin 0 -> 440 bytes
 test/rectangle-rounding-error-ps-rgb24-ref.png |  Bin 0 -> 365 bytes
 test/show-text-current-point-ps-rgb24-ref.png  |  Bin 0 -> 1477 bytes
 test/text-antialias-gray-ps-rgb24-ref.png      |  Bin 0 -> 714 bytes
 test/transforms-ps-rgb24-ref.png               |  Bin 0 -> 418 bytes
 12 files changed, 17 insertions(+), 0 deletions(-)

commit 94dece56a5dca2f10b9c8d2914ff62177a88410b
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Oct 8 11:58:20 2005 +0000

    Ignore output of PS tests.
    Fix the PS tests to work again, (track change in create_surface interface).

 ChangeLog         |    7 +++++++
 test/.cvsignore   |    2 ++
 test/cairo-test.c |    9 +++++++--
 3 files changed, 16 insertions(+), 2 deletions(-)

commit 24dce0dbb30ca7864416185b11cafff42db9a2b7
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Oct 8 11:57:45 2005 +0000

    Enable PS and PDF backends by default, (in preparation for 1.2.0)

 ChangeLog    |    5 +++++
 configure.in |   15 ++++-----------
 2 files changed, 9 insertions(+), 11 deletions(-)

commit 4d84a70b9f4799d66641a3a0c5438098011690c2
Author: Carl Worth <cworth@cworth.org>
Date:   Sat Oct 8 10:50:08 2005 +0000

    Fix typo leading to truncated error message (Christian Biesinger <cbiesinger@web.de>).

 ChangeLog    |    5 +++++
 configure.in |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 27e12fc1dbbed563788a8088b31459ae6cffb77a
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 7 13:21:01 2005 +0000

    Apply patch from #4672 by Jens Taprogge to implement color stop sorting and multiple color stops for gradients.

 ChangeLog               |   11 ++++
 src/cairo-pdf-surface.c |  117 +++++++++++++++++++++++++++++++++++------------
 2 files changed, 98 insertions(+), 30 deletions(-)

commit e6239b1d93bb88594310e57d8e7a2fd9e655ca58
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 6 12:50:08 2005 +0000

    Add ChangeLog information for code that was accidentally committed along with an earlier bug fix:
    Add missing initialization for ximage.xoffset.
    Ignore the -argb32-out.png and -rgb24-out.png images as well.
    Pass a format to the surface create functions. (create_image_surface): Condense create_argb_image_surface and create_rgb_image_surface into a single function. (create_xlib_surface): Add support for CAIRO_FORMAT_RGB24 in addition to CAIRO_FORMAT_ARGB32. Add a new target for testing xlib with CAIRO_FORMAT_RGB24.

 ChangeLog |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 74af57339c271ab26b5e32647ef26b23929a57a7
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Oct 6 11:32:54 2005 +0000

    Add missing initialization for ximage.xoffset.

 ChangeLog                |    5 +++++
 src/cairo-xlib-surface.c |    1 +
 test/.cvsignore          |    6 ++++++
 test/cairo-test.c        |   45 +++++++++++++++++++++++----------------------
 4 files changed, 35 insertions(+), 22 deletions(-)

commit de3358f883eabfe819f68bc2c2c8c4d43a4d0056
Author: Anders Carlsson <andersca@imendio.com>
Date:   Tue Oct 4 13:48:25 2005 +0000

    Invoke PKG_PROG_PKG_CONFIG so $PKG_CONFIG will be set early on.

 ChangeLog    |    5 +++++
 configure.in |    4 ++++
 2 files changed, 9 insertions(+), 0 deletions(-)

commit 1810eaf8f2317faa976d0be3f538e8d036227f22
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Oct 3 17:49:25 2005 +0000

    Add notes for the 1.0.2 release.

 ChangeLog |    4 +++
 NEWS      |   82 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 86 insertions(+), 0 deletions(-)

commit 9529d20d323ecf9012b010cf16b2df52e405ba2b
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Oct 3 17:39:33 2005 +0000

    Add a couple of potential bugs to BUGS.

 BUGS |   16 +++++++++++-----
 1 files changed, 11 insertions(+), 5 deletions(-)

commit cdaa48655c328fd2fd34c264b6f8e1d9ec2af1f7
Author: Anders Carlsson <andersca@imendio.com>
Date:   Fri Sep 30 08:31:36 2005 +0000

    Bring the ATSUI backend up to date wrt the new font backend changes. Also, add cairo_atsui_font_face_create_for_atsu_font_id which takes an ATSUFontID and returns a cairo_font_face_t.

 ChangeLog              |   24 ++
 src/cairo-atsui-font.c |  708 +++++++++++++++++++++++-------------------------
 src/cairo-atsui.h      |    3 +
 3 files changed, 359 insertions(+), 376 deletions(-)

commit a0286781793bf2da6ba67029c8719eb614cb345a
Author: Bertram Felgenhauer <int-e@gmx.de>
Date:   Thu Sep 29 20:00:14 2005 +0000

    simplify id initialisation of last patch
    reviewed by: keithp

 ChangeLog        |    5 +++++
 src/cairo-hull.c |   13 +++++++------
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 04170ed2854c7cb4506ddc3c64470748f1e67ffd
Author: Bertram Felgenhauer <int-e@gmx.de>
Date:   Thu Sep 29 17:34:31 2005 +0000

    ChangeLog cosmetics.

 ChangeLog |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit fa2d0ab5b7744fa929e77ee61e93476c425777e3
Author: Bertram Felgenhauer <int-e@gmx.de>
Date:   Thu Sep 29 17:26:20 2005 +0000

    Using a pointer comparison as the fallback total order was wrong - these pointers are not stable. So we introduce our own total order instead.
    mark 4599 as fixed
    reviewed by: cworth

 ChangeLog        |   10 ++++++++++
 ROADMAP          |    2 +-
 src/cairo-hull.c |   14 +++++++++-----
 3 files changed, 20 insertions(+), 6 deletions(-)

commit d3e7dad53eb25aff2608af08057bb86d864de145
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 29 14:31:08 2005 +0000

    Add rgb24 surface tests, support per-target reference images and support PS surface testing
    reviewed by: cworth

 ChangeLog                                          |   69 ++++++++
 test/Makefile.am                                   |  159 ++++++++++++------
 test/a8-mask-rgb24-ref.png                         |  Bin 0 -> 128 bytes
 test/cairo-test.c                                  |  176 +++++++++++++++++---
 test/caps-joins-ps-rgb24-ref.png                   |  Bin 0 -> 1420 bytes
 test/caps-joins-rgb24-ref.png                      |  Bin 0 -> 1398 bytes
 test/caps-sub-paths-rgb24-ref.png                  |  Bin 0 -> 186 bytes
 test/clip-all-rgb24-ref.png                        |  Bin 0 -> 114 bytes
 test/clip-nesting-ps-rgb24-ref.png                 |  Bin 0 -> 517 bytes
 test/clip-nesting-rgb24-ref.png                    |  Bin 0 -> 846 bytes
 test/clip-operator-rgb24-ref.png                   |  Bin 0 -> 21014 bytes
 test/clip-twice-ps-rgb24-ref.png                   |  Bin 0 -> 605 bytes
 test/clip-twice-rgb24-ref.png                      |  Bin 0 -> 1278 bytes
 ...ite-integer-translate-over-repeat-rgb24-ref.png |  Bin 0 -> 353 bytes
 .../composite-integer-translate-over-rgb24-ref.png |  Bin 0 -> 13041 bytes
 ...omposite-integer-translate-source-rgb24-ref.png |  Bin 0 -> 14017 bytes
 test/create-from-png-rgb24-ref.png                 |  Bin 0 -> 115 bytes
 test/create-from-png-stream-rgb24-ref.png          |  Bin 0 -> 115 bytes
 test/dash-caps-joins-rgb24-ref.png                 |  Bin 0 -> 2946 bytes
 test/dash-offset-negative-rgb24-ref.png            |  Bin 0 -> 170 bytes
 test/fill-and-stroke-rgb24-ref.png                 |  Bin 0 -> 299 bytes
 test/fill-rule-rgb24-ref.png                       |  Bin 0 -> 2320 bytes
 test/filter-nearest-offset-rgb24-ref.png           |  Bin 0 -> 254 bytes
 test/gradient-alpha-rgb24-ref.png                  |  Bin 0 -> 147 bytes
 test/leaky-polygon-rgb24-ref.png                   |  Bin 0 -> 344 bytes
 test/line-width-rgb24-ref.png                      |  Bin 0 -> 199 bytes
 test/linear-gradient-rgb24-ref.png                 |  Bin 0 -> 12719 bytes
 test/mask-ctm-rgb24-ref.png                        |  Bin 0 -> 140 bytes
 test/mask-rgb24-ref.png                            |  Bin 0 -> 73124 bytes
 test/mask-surface-ctm-rgb24-ref.png                |  Bin 0 -> 140 bytes
 test/move-to-show-surface-rgb24-ref.png            |  Bin 0 -> 115 bytes
 test/nil-surface-rgb24-ref.png                     |  Bin 0 -> 106 bytes
 test/operator-clear-rgb24-ref.png                  |  Bin 0 -> 5704 bytes
 test/operator-source-rgb24-ref.png                 |  Bin 0 -> 16909 bytes
 test/paint-rgb24-ref.png                           |  Bin 0 -> 116 bytes
 test/paint-with-alpha-rgb24-ref.png                |  Bin 0 -> 146 bytes
 test/path-data-rgb24-ref.png                       |  Bin 0 -> 523 bytes
 test/pixman-rotate-rgb24-ref.png                   |  Bin 0 -> 385 bytes
 test/rectangle-rounding-error-rgb24-ref.png        |  Bin 0 -> 298 bytes
 test/rel-path-rgb24-ref.png                        |  Bin 0 -> 115 bytes
 test/scale-source-surface-paint-rgb24-ref.png      |  Bin 0 -> 146 bytes
 test/self-copy-rgb24-ref.png                       |  Bin 0 -> 291 bytes
 test/self-intersecting-rgb24-ref.png               |  Bin 0 -> 304 bytes
 test/set-source-rgb24-ref.png                      |  Bin 0 -> 114 bytes
 test/show-text-current-point-rgb24-ref.png         |  Bin 0 -> 2173 bytes
 test/source-clip-rgb24-ref.png                     |  Bin 0 -> 180 bytes
 test/source-surface-scale-paint-rgb24-ref.png      |  Bin 0 -> 136 bytes
 test/surface-pattern-rgb24-ref.png                 |  Bin 0 -> 194 bytes
 test/text-antialias-gray-rgb24-ref.png             |  Bin 0 -> 995 bytes
 test/text-antialias-none-rgb24-ref.png             |  Bin 0 -> 284 bytes
 test/text-antialias-subpixel-rgb24-ref.png         |  Bin 0 -> 1121 bytes
 test/text-pattern-rgb24-ref.png                    |  Bin 0 -> 2686 bytes
 test/text-rotate-rgb24-ref.png                     |  Bin 0 -> 16508 bytes
 test/transforms-rgb24-ref.png                      |  Bin 0 -> 318 bytes
 test/translate-show-surface-rgb24-ref.png          |  Bin 0 -> 115 bytes
 test/trap-clip-rgb24-ref.png                       |  Bin 0 -> 64724 bytes
 test/unantialiased-shapes-ps-rgb24-ref.png         |  Bin 0 -> 9899 bytes
 test/unantialiased-shapes-rgb24-ref.png            |  Bin 0 -> 4449 bytes
 test/unbounded-operator-rgb24-ref.png              |  Bin 0 -> 7581 bytes
 59 files changed, 330 insertions(+), 74 deletions(-)

commit 76634781e20b1854e4b49a70b98d9f6900c3aedf
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Sep 29 10:09:59 2005 +0000

    Oops. Reverting debug output that was mistakenly committed.

 ChangeLog           |    5 +++++
 src/cairo-surface.c |   31 -------------------------------
 2 files changed, 5 insertions(+), 31 deletions(-)

commit 4ef5f08563c3f149d52eed26aa16965740ad8de6
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Sep 29 06:49:47 2005 +0000

    Add date of 2005-10-03 for 1.0.2. Add 4630 to the 1.0.2 roadmap.

 ChangeLog           |    5 +++++
 ROADMAP             |    6 +++---
 src/cairo-surface.c |   31 +++++++++++++++++++++++++++++++
 3 files changed, 39 insertions(+), 3 deletions(-)

commit 303e3e9748b6e1970c06203c192ea1b2743f10df
Author: Tor Lillqvist <tml@novell.com>
Date:   Wed Sep 28 10:35:55 2005 +0000

    Use _cairo_utf8_to_utf16 for character conversion.

 ChangeLog              |    5 +++++
 src/cairo-atsui-font.c |   24 ++++++------------------
 2 files changed, 11 insertions(+), 18 deletions(-)

commit dc711cd88d6cc5aa87b41bd72a2ab2fe67554760
Author: Tor Lillqvist <tml@novell.com>
Date:   Wed Sep 28 10:25:23 2005 +0000

    Note that Bug #4612 (Text not being drawn if first character entirely out of surface) is now fixed.
    Add cast so that sign conversion doesn't alter comparison.

 ChangeLog              |    8 ++++++++
 ROADMAP                |    2 +-
 src/cairo-win32-font.c |    8 ++++----
 3 files changed, 13 insertions(+), 5 deletions(-)

commit f41377bc0cbd2dd9df13d1d09437349eb2bcf62a
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 27 15:07:15 2005 +0000

    Add 4612 to the 1.0.2 roadmap.

 ChangeLog |    4 ++++
 ROADMAP   |    2 ++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 58113099f987c003eba22ae6e084520ea920e688
Author: Tor Lillqvist <tml@novell.com>
Date:   Tue Sep 27 13:22:46 2005 +0000

    Note that Bug #4602 (use of 0x0 images causes win32 backend failure) is now fixed.
    Avoid creating size-0 bitmap, which fails.

 ChangeLog                 |    8 ++++++++
 ROADMAP                   |    2 +-
 src/cairo-win32-surface.c |    4 ++--
 3 files changed, 11 insertions(+), 3 deletions(-)

commit abaf346810dc5756d3c12b1cc24e24b1d6acf165
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 27 12:44:32 2005 +0000

    Note that bug #4409 (Dashes are missing initial caps) is now fixed.
    Move face-flipping from inside _cairo_stroker_add_caps to new _cairo_stroker_add_leading_cap variant of _cairo_stoker_add_cap.
    Change to call _cairo_stroker_add_leading_cap or _cairo_stroker_add_trailing_cap as appropriate.
    Remove dash-caps-joins from the XFAIL list and add reference image.

 ChangeLog                    |   21 +++++++++++++++++
 ROADMAP                      |    2 +-
 src/cairo-path-stroke.c      |   51 ++++++++++++++++++++++++++++-------------
 test/Makefile.am             |    1 -
 test/dash-caps-joins-ref.png |  Bin 0 -> 2347 bytes
 test/dash-caps-joins.c       |    3 +-
 6 files changed, 58 insertions(+), 20 deletions(-)

commit 8a6792fe4128a4c15d6d0e798643626416e82a6c
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 27 11:35:18 2005 +0000

    Add two test cases. One for caps and joins (passes), and one for dashed caps and joins, (fails, see bug #4409).

 ChangeLog               |   10 +++++
 test/.cvsignore         |    2 +
 test/Makefile.am        |    7 +++
 test/caps-joins-ref.png |  Bin 0 -> 1262 bytes
 test/caps-joins.c       |   85 ++++++++++++++++++++++++++++++++++++++++++
 test/dash-caps-joins.c  |   95 +++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 199 insertions(+), 0 deletions(-)

commit 38d526f8bedeab53a1cbd5b8424e0c4f15f3b705
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 26 17:21:47 2005 +0000

    Added bug 4599 and 4602 to the 1.0.2 roadmap.

 ChangeLog |    4 ++++
 ROADMAP   |    2 ++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 1010e9052ff7e2283bb4fb6ada81dd1c8bb785ca
Author: Tor Lillqvist <tml@novell.com>
Date:   Mon Sep 26 07:48:10 2005 +0000

    Set LOGFONT::lfHeight negative. A negative lfHeight means "em height" which is what we want, and matches how other toolkits interpret font sizes on Win32. (Positive lfHeight means "cell height".) (#4593) (_cairo_win32_scaled_font_init_glyph_metrics): If GetGlyphOutlineW() fails, print error message and set metrics to zero. (#3927, Hans Breuer) (cairo_win32_scaled_font_select_font): Add detail on what API failed to the error messages.

 ChangeLog              |   13 +++++++++++++
 src/cairo-win32-font.c |   26 ++++++++++++++++----------
 2 files changed, 29 insertions(+), 10 deletions(-)

commit 8649fc9f18f991ef1e02b58bb6a0a874aef16cda
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 19 17:30:27 2005 +0000

    Note that the clip-all test now passes.

 ChangeLog |    4 ++++
 ROADMAP   |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 8fc9e099fd0c53c4e2119cfd0f6c63b48b293043
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 19 17:24:52 2005 +0000

    Avoid attempting to create a size-0 Pixmap, (to prevent the associated X error). This actually showed up when the clip region is empty. Thanks to Radek Doulík for the bug report.
    Remove clip-all from the XFAIL list since it works now.

 ChangeLog                |   11 +++++++++++
 src/cairo-xlib-surface.c |    3 ++-
 test/Makefile.am         |    1 -
 test/clip-all.c          |    3 +--
 4 files changed, 14 insertions(+), 4 deletions(-)

commit fa5d17f4667719803fe27207ca1ec1e7a5882080
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 19 14:24:00 2005 +0000

    Originally: 2005-09-19 Hans Breuer <hans@breuer.org>
    src/cairoint.h : win32 specific definitions for CAIRO_MUTEX_DECLARE, CAIRO_MUTEX_LOCK etc. [not based on win32 mutex but critical sections]
    src/cairo-win32-surface.c : add DllMain() to do global, single-threaded 'mutex' (de)initialization. No ifdefs needed, some variables would simply not be used when the respective backend would not be compiled in.

 ChangeLog                 |   13 +++++++++++++
 src/cairo-win32-surface.c |   34 ++++++++++++++++++++++++++++++++++
 src/cairoint.h            |   10 ++++++++++
 3 files changed, 57 insertions(+), 0 deletions(-)

commit d7bdc9477552382163ee0a0521a13c212015a4e8
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 19 14:14:03 2005 +0000

    Add cairo-cache-private.h which was missing from the list, (thanks to sunmoon1997).

 ChangeLog       |    5 +++++
 src/Makefile.am |    1 +
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 80561375c43d1769c9e1f05b700137b424f20565
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 19 11:56:27 2005 +0000

    Note that 4414 is now fixed.

 ChangeLog |    4 ++++
 ROADMAP   |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 91e188bc78f0f2b3703c249c2fac4e3f6e3c5bcc
Author: David Reveman <davidr@novell.com>
Date:   Mon Sep 19 07:18:51 2005 +0000

    Add missing break to switch statement

 src/cairo-glitz-surface.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 079ee492b518c735046032a118f8662ec8982f71
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Sep 18 19:53:23 2005 +0000

    Fix the MMX test to only check for MMX intrinsics and not the SSE intrinsics.

 ChangeLog    |    5 +++++
 configure.in |    4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 759166f795ab960ddf679f467638be49657f91c1
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Sep 18 19:52:08 2005 +0000

    Only include xmmintrin.h if USE_SSE is defined.

 pixman/ChangeLog   |    4 ++++
 pixman/src/fbmmx.c |    2 ++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 0978f97e9e606c2ec62fe369b584ece6ad4905ef
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Sep 18 19:37:44 2005 +0000

    Bug #4414, reviewed by otaylor, cworth.
    Remove -msse from the MMX CFLAGS as it causes gcc to emit SSE instructions, however the detection code only checks for processors supporting MMX and does not require SSE.

 ChangeLog    |    8 ++++++++
 configure.in |    2 +-
 2 files changed, 9 insertions(+), 1 deletions(-)

commit b7c02401b9c0470f5a95b33f8fde3adebfcec397
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sun Sep 18 19:34:36 2005 +0000

    Bug #4414, reviewed by otaylor, cworth.
    Remove CPU detection code.
    Move CPU detection code out of the MMX file and into the generic code to avoid compiling it with -mmmx and -msse. Using these options causes gcc to use MMX and SSE instructions in the CPU detection code which causes SIGILLs on older processors.

 pixman/ChangeLog    |   11 +++++
 pixman/src/fbmmx.c  |  113 ------------------------------------------------
 pixman/src/fbpict.c |  119 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 129 insertions(+), 114 deletions(-)

commit 6d14b3c1fc6c8dfb389495e88a8c63ff10110ec4
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 16 10:49:48 2005 +0000

    Prefer cairo_bool_t, TRUE, and FALSE over int, 1, and 0.

 ChangeLog               |    6 ++++++
 src/cairo-path-stroke.c |   18 +++++++++---------
 2 files changed, 15 insertions(+), 9 deletions(-)

commit 9cb31827aa81d175309b8c81b99482ebde3ba6d6
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 16 10:27:32 2005 +0000

    Mark 4408 as resolved.

 ChangeLog |    4 ++++
 ROADMAP   |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 5b9be26d269d7e120d73652f7c6d2894cc556939
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 16 10:24:54 2005 +0000

    Tested by: John Ellson Closes bug #4408 https://bugs.freedesktop.org/show_bug.cgi?id=4408
    Add support for dashed splines. (The antialiasing quality isn't perfect, but at least the curves are dashed now).

 ChangeLog               |   11 +++++++
 src/cairo-path-stroke.c |   76 ++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 86 insertions(+), 1 deletions(-)

commit a7459e0057e1a73b7eeb7f6d88e86061b198cbf9
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 16 10:11:52 2005 +0000

    Mark 4260 as resolved. Add 4414 to the 1.0.2 roadmap.

 ChangeLog |    4 ++++
 ROADMAP   |    3 ++-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 34c6f5de9be6102741db455e8447d39deb1289b7
Author: David Reveman <davidr@novell.com>
Date:   Wed Sep 14 09:25:07 2005 +0000

    Change Carl's comment about saturate operator

 ChangeLog                 |    1 +
 src/cairo-glitz-surface.c |   13 +++++++------
 2 files changed, 8 insertions(+), 6 deletions(-)

commit 6121df6b72b56ebe9e775c1b12494dc29817f311
Author: David Reveman <davidr@novell.com>
Date:   Wed Sep 14 09:12:13 2005 +0000

    White-space cleanups to glitz backend

 src/cairo-glitz-surface.c |  200 +++++++++++++++++++++++----------------------
 1 files changed, 102 insertions(+), 98 deletions(-)

commit 82cb5baeb2440545708d66573b29b69c0951de71
Author: David Reveman <davidr@novell.com>
Date:   Wed Sep 14 09:07:00 2005 +0000

    Track changes to glitz and update glyph caching in glitz backend

 ChangeLog                 |    5 +
 configure.in              |    2 +-
 src/cairo-glitz-surface.c |  675 ++++++++++++++++++++++-----------------------
 3 files changed, 331 insertions(+), 351 deletions(-)

commit c9ad68e6e9a86ea0c6c020c9073b4f86c00bb4a6
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 13 15:53:19 2005 +0000

    Set return-value *glyphs to NULL after freeing it in the error case.

 ChangeLog               |    5 +++++
 src/cairo-scaled-font.c |    3 ++-
 2 files changed, 7 insertions(+), 1 deletions(-)

commit b18a3c0580a9ab9dc130b5908d4f21da382f6243
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 13 15:47:59 2005 +0000

    Mark bug #4299 fixed (by the several lock-related commits below). Add clip-all XFAIL to the 1.0.2 roadmap.

 ChangeLog |    5 +++++
 ROADMAP   |    9 +++++----
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 56e7e9d5bd6ccc0a94d4b41058cab200f9dc2654
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 13 12:40:36 2005 +0000

    Add missing locking around the call into the thread-shared cache here.

 ChangeLog               |    5 +++++
 src/cairo-scaled-font.c |   42 +++++++++++++++++++++++++-----------------
 2 files changed, 30 insertions(+), 17 deletions(-)

commit e8708af118458c95ec08148375411627c03c0fca
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 13 12:37:45 2005 +0000

    Adjust parameters to stress things a bit more, (better exposing another locking bug).

 ChangeLog                |    5 +++++
 test/pthread-show-text.c |   10 +++++-----
 2 files changed, 10 insertions(+), 5 deletions(-)

commit ef35d00615fcd95d9db8c22378caa5cb934465b5
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 13 12:26:29 2005 +0000

    Expand locking to encapsulate any modification to the reference count of a scaled font, rather than just modifcations of the scaled_font_map, since scaled fonts are shared between threads.

 ChangeLog               |    8 ++++
 src/cairo-scaled-font.c |   89 ++++++++++++++++++++++++++--------------------
 2 files changed, 58 insertions(+), 39 deletions(-)

commit 258f6f4903eb91187384c2df7591413d9041f184
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 13 12:11:32 2005 +0000

    Add documentation for cairo_test functions.
    Abstract log fie creation into cairo_test_init for use by tests that don't use cairo_test().
    Add new test for bug #4299 as reported by Alexey Shabalin.

 ChangeLog                |   13 +++++
 test/.cvsignore          |    3 +-
 test/Makefile.am         |    7 +++-
 test/cairo-test.c        |   30 ++++++++----
 test/cairo-test.h        |   48 ++++++++++++++++++--
 test/pthread-show-text.c |  110 ++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 195 insertions(+), 16 deletions(-)

commit 999c2a8a2b27412ac2fb59041837c780e6d7eec3
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 12 11:15:52 2005 +0000

    Originally 2005-09-06 Carl Worth <cworth@cworth.org>:
    _cairo_cache_preserve -> _cairo_cache_freeze _cairo_cache_release -> _cairo_cache_thaw
    Track rename of _cairo_cache_freeze/thaw.
    Track rename. Add stacking behavior to _cairo_cache_freeze/thaw. Abstract out shrinking from _cairo_cache_insert so that _cairo_cache_thaw will also shrink as necessary.
    Make this function static since its current limitation to accept an entry rather than a key makes it not as externally useful as would be desirable. Document this limitation.

 ChangeLog                 |   24 +++++++++
 src/cairo-cache-private.h |    8 +--
 src/cairo-cache.c         |  121 +++++++++++++++++++++++++++++++--------------
 src/cairo-scaled-font.c   |    7 +--
 4 files changed, 112 insertions(+), 48 deletions(-)

commit b1a38efd34c6b87581846de88b134b0dd6656753
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Sep 12 11:11:33 2005 +0000

    Fix for bug #4401 as reported by Tim Mooney:
    Don't bother checking for sincos function.
    Don't use sincos function since it is apparently buggy on some platforms, (Tru64 at least).

 ChangeLog          |   10 ++++++++++
 configure.in       |    2 --
 src/cairo-matrix.c |    6 ++----
 3 files changed, 12 insertions(+), 6 deletions(-)

commit a1bca924b9296d769d735d8abaf1353143770def
Author: Owen Taylor <otaylor@redhat.com>
Date:   Mon Sep 12 05:55:11 2005 +0000

    Bug #4260, Reviewed by B. Biggs
    Use & not && for bitwise AND.
    src/fbpict.c src/fbmmx.c: Take 'dest' as an argument, if pict and dest don't match for RGB, BGR, swap result.

 pixman/ChangeLog       |   11 +++++++++++
 pixman/src/fbcompose.c |    4 ++--
 pixman/src/fbmmx.c     |   14 +++++++-------
 pixman/src/fbpict.c    |   20 ++++++++++----------
 pixman/src/fbpict.h    |   12 ++++++++++--
 5 files changed, 40 insertions(+), 21 deletions(-)

commit e06df6a38aa949730ca5497c4e6210b95dc0f117
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 9 17:10:52 2005 +0000

    Add two bugs to the 1.0.2 roadmap: 4408 Missing dashes on stroked curves 4409 Dashes are missing initial caps

 ChangeLog |    6 ++++++
 ROADMAP   |    2 ++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 761cef26677bc7c928d64aa78084e0389de9679f
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Sep 8 16:18:00 2005 +0000

    Add open bug list for 1.0.2.

 ChangeLog |    4 ++++
 ROADMAP   |   14 ++++++--------
 2 files changed, 10 insertions(+), 8 deletions(-)

commit 0b9c0efc3a939c2078f0200e9bfaa14651fd7529
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Sep 7 16:57:59 2005 +0000

    Put win32 mutex locking on the 1.2.0 roadmap.
    Portability improvements for win32 thanks to Hans Breuer <hans@breuer.org>:
    Defined sized-integer types when under the influence of _MSC_VER and without stdint.h.
    Use #error which is more portable than #warning, (and more indicative of where we want to be before the next release).

 AUTHORS                                 |    1 +
 ChangeLog                               |   14 +
 ROADMAP                                 |    4 +
 doc/public/tmpl/cairo-font-options.sgml |  136 ----------
 doc/public/tmpl/cairo-font.sgml         |   48 ----
 doc/public/tmpl/cairo-ft.sgml           |   45 ----
 doc/public/tmpl/cairo-glitz.sgml        |    9 -
 doc/public/tmpl/cairo-image.sgml        |   42 ---
 doc/public/tmpl/cairo-matrix.sgml       |  119 ---------
 doc/public/tmpl/cairo-paths.sgml        |  186 --------------
 doc/public/tmpl/cairo-pattern.sgml      |  165 ------------
 doc/public/tmpl/cairo-pdf.sgml          |   33 ---
 doc/public/tmpl/cairo-png.sgml          |   40 ---
 doc/public/tmpl/cairo-ps.sgml           |   33 ---
 doc/public/tmpl/cairo-quartz.sgml       |   11 -
 doc/public/tmpl/cairo-scaled-font.sgml  |   60 -----
 doc/public/tmpl/cairo-status.sgml       |    9 -
 doc/public/tmpl/cairo-surface.sgml      |  119 ---------
 doc/public/tmpl/cairo-text.sgml         |  123 ---------
 doc/public/tmpl/cairo-transforms.sgml   |  106 --------
 doc/public/tmpl/cairo-types.sgml        |    4 +-
 doc/public/tmpl/cairo-version.sgml      |   16 --
 doc/public/tmpl/cairo-win32-fonts.sgml  |   36 ---
 doc/public/tmpl/cairo-win32.sgml        |    9 -
 doc/public/tmpl/cairo-xcb-xrender.sgml  |   13 -
 doc/public/tmpl/cairo-xcb.sgml          |   35 ---
 doc/public/tmpl/cairo-xlib-xrender.sgml |   14 -
 doc/public/tmpl/cairo-xlib.sgml         |   47 ----
 doc/public/tmpl/cairo.sgml              |  424 -------------------------------
 pixman/src/pixman.h                     |   19 +-
 src/cairoint.h                          |    3 +-
 31 files changed, 37 insertions(+), 1886 deletions(-)

commit 63c208d83d4a6e66ee2b15af8e1cd92ed67626b9
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Sep 7 16:31:22 2005 +0000

    Give cairo_public an empty definition by default.
    Add new cairo_public macro before every public function call prototype.

 ChangeLog                |   18 +++
 src/cairo-features.h.in  |    4 +
 src/cairo-ft.h           |   10 +-
 src/cairo-glitz.h        |    2 +-
 src/cairo-pdf.h          |    6 +-
 src/cairo-ps.h           |    6 +-
 src/cairo-quartz.h       |    2 +-
 src/cairo-win32.h        |   10 +-
 src/cairo-xcb-xrender.h  |    2 +-
 src/cairo-xcb.h          |    6 +-
 src/cairo-xlib-xrender.h |    2 +-
 src/cairo-xlib.h         |    8 +-
 src/cairo.h              |  338 +++++++++++++++++++++++-----------------------
 13 files changed, 218 insertions(+), 196 deletions(-)

commit 05c0c98aee3c67f7a708ad9bfb248ae5c4066312
Author: Tor Lillqvist <tml@novell.com>
Date:   Wed Sep 7 09:07:13 2005 +0000

    Pass appropriate pointer for image_extra to release_dest_image.

 ChangeLog              |    5 +++++
 src/cairo-atsui-font.c |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit c00698ebf5730d2d0bff35e1b6cb69914789529f
Author: Tor Lillqvist <tml@novell.com>
Date:   Wed Sep 7 08:38:43 2005 +0000

    Pass scratch space instead of NULL for image_extra to acquire/release_dest_image.

 ChangeLog              |    6 ++++++
 src/cairo-atsui-font.c |    5 +++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit f2dc1ebe82e9b26346d2948de33ffef0f5bf921b
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Sep 6 15:19:00 2005 +0000

    Ignore cairo.def.
    Remove cairo_private since we only use it in .h files, not .c files.

 ChangeLog          |    7 +++++++
 src/.cvsignore     |    1 +
 src/cairo-gstate.c |    4 ++--
 3 files changed, 10 insertions(+), 2 deletions(-)

commit 5b5eecc2e16109e16b9da78e023274197cb3082c
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 2 16:17:48 2005 +0000

    Make a very preliminary attempt at 1.0.2, 1.2.0, and 1.4.0 roadmaps.

 ChangeLog |    5 ++
 ROADMAP   |  173 +++++++++++++++++++++++++++++++-----------------------------
 2 files changed, 94 insertions(+), 84 deletions(-)

commit 7d93d26e1edd9d0340e7a00b1a74b56667e84b44
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 2 13:42:34 2005 +0000

    Add description of cairo's versioning scheme.

 ChangeLog                          |    5 ++
 doc/public/tmpl/cairo-version.sgml |  102 +++++++++++++++++++++++++++++++++++-
 2 files changed, 106 insertions(+), 1 deletions(-)

commit 93289f14ccc3d1db5c0b64672b8cd49703542010
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Sep 2 11:22:40 2005 +0000

    Clean up some documentation issues pointed out by otaylor.

 ChangeLog                 |    6 ++++++
 src/cairo-cache-private.h |   10 ++++------
 src/cairo-cache.c         |   24 ++++++++++++------------
 3 files changed, 22 insertions(+), 18 deletions(-)

commit 0cfa350fa86c7894eec4e1b99ac7b69bc0c8f296
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 1 20:38:07 2005 +0000

    Oops. Call _cairo_scaled_font_set_metrics to set user-space metrics for scaled fonts.
    reviewed by: otaylor deserves credit for noticing a problem

 ChangeLog           |    8 ++++++++
 src/cairo-ft-font.c |   22 ++++++++++++----------
 2 files changed, 20 insertions(+), 10 deletions(-)

commit 25edf235f090a95f30ea877aa00bc7ee642d4cc5
Author: Bertram Felgenhauer <int-e@gmx.de>
Date:   Thu Sep 1 06:13:46 2005 +0000

    Add missing pair of braces. This fixes a crash on text output.

 ChangeLog               |    5 +++++
 src/cairo-scaled-font.c |    9 +++++----
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 7e4465819b7f0da3f16a18c6ffcf2b8f7a9ee04a
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Sep 1 02:14:31 2005 +0000

    Add includes to get sized-integer types such as uint32_t.
    Fix declaration of image data array to be uint32_t rather than unsigned long. Fixes four out of the remaining five failures in bug #4245.

 ChangeLog                         |   17 +++++++++++++++++
 test/cairo-test.h                 |   26 ++++++++++++++++++++++++++
 test/filter-nearest-offset.c      |    2 +-
 test/mask-ctm.c                   |    2 +-
 test/mask-surface-ctm.c           |    2 +-
 test/move-to-show-surface.c       |    2 +-
 test/paint-with-alpha.c           |    2 +-
 test/scale-source-surface-paint.c |    2 +-
 test/set-source.c                 |    2 +-
 test/source-surface-scale-paint.c |    2 +-
 test/translate-show-surface.c     |    2 +-
 11 files changed, 52 insertions(+), 9 deletions(-)

commit 0f4beab5070ce6f7129ca52953eb002ac7f40b93
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 31 19:11:22 2005 +0000

    Add call to XSynchronize, (the expected clip-all failure isn't occuring without it for some reason).
    Note reason for expected failure.
    src/cairo-scaled-font.c: Add an optional text_to_glyphs() virtual function that the backend can implement instead of ucs4_to_index().
    Protect inclusion of fontconfig.h with HAVE_FCFINI.

 ChangeLog                     |   19 ++
 src/cairo-ft-font.c           |    1 +
 src/cairo-scaled-font.c       |   10 +-
 src/cairo-win32-font.c        |  403 +++++++++++++++++++++++------------------
 src/cairoint.h                |   12 ++
 test/cairo-test.c             |    2 +
 test/create-from-png-stream.c |    6 +-
 test/nil-surface.c            |    2 +-
 8 files changed, 277 insertions(+), 178 deletions(-)

commit f25ebec368caa6b88d39a5c42cd48b8459396505
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 31 16:17:28 2005 +0000

    Add call to XSynchronize, (the expected clip-all failure isn't occuring without it for some reason).
    Note reason for expected failure.

 ChangeLog         |    8 ++++++++
 test/cairo-test.c |    2 ++
 test/clip-all.c   |    3 ++-
 3 files changed, 12 insertions(+), 1 deletions(-)

commit d56b0d1d80032a26501465106dc76abc713c77bf
Author: Owen Taylor <otaylor@redhat.com>
Date:   Wed Aug 31 15:09:35 2005 +0000

    Handle displays which don't match the local endianness by byteswapping on GetImage/PutImage. (#4321, reported by Sjoerd Simons)

 ChangeLog                |    7 ++
 src/cairo-xlib-surface.c |  170 ++++++++++++++++++++++++++++++++++++++--------
 2 files changed, 147 insertions(+), 30 deletions(-)

commit b0c58593b30c1fa085b1e7c8e4897da623b8686d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Aug 31 15:08:02 2005 +0000

    Split out scaled font code to cairo-scaled-font.c
    Replace cairo cache implementation (this code from cworth)
    No more global glyph cache to clean up
    Store glyphs in new per-scaled font caches which hold user-space metrics and device space bounding boxes
    Refactor glyph drawing APIs so that the surface API is invoked directly from the gstate code.
    Add path creation/destruction routines (to hold glyph paths)
    New implementation of scaled fonts which uses per-scaled_font caches for glyphs and keeps user-space metrics, device-space bboxes along with glyph images and/or glyph paths.
    Adapt to new scaled font API changes.
    New cache and scaled_font APIs
    Repond to bug fix in metrics computation for glyphs where y values were rounded up instead of down because of a sign difference between cairo and FreeType.
    Reviewed by: otaylor, cworth

 ChangeLog                            |   95 +++
 src/Makefile.am                      |    1 +
 src/cairo-cache-private.h            |  131 ++++
 src/cairo-cache.c                    |  660 +++++++------------
 src/cairo-debug.c                    |    1 -
 src/cairo-font.c                     |  847 ------------------------
 src/cairo-ft-font.c                  | 1130 ++++++++++++---------------------
 src/cairo-gstate.c                   |   47 +-
 src/cairo-path.c                     |   18 +
 src/cairo-scaled-font.c              | 1165 ++++++++++++++++++++++++++++++++++
 src/cairo-xlib-surface.c             |  801 +++++++-----------------
 src/cairoint.h                       |  391 +++++-------
 test/clip-operator-ref.png           |  Bin 37330 -> 37134 bytes
 test/operator-clear-ref.png          |  Bin 4988 -> 4971 bytes
 test/operator-source-ref.png         |  Bin 19958 -> 19982 bytes
 test/text-antialias-gray-ref.png     |  Bin 727 -> 740 bytes
 test/text-antialias-gray.c           |    2 +-
 test/text-antialias-none-ref.png     |  Bin 278 -> 276 bytes
 test/text-antialias-none.c           |    2 +-
 test/text-antialias-subpixel-ref.png |  Bin 1081 -> 1121 bytes
 test/text-antialias-subpixel.c       |    2 +-
 test/unbounded-operator-ref.png      |  Bin 11929 -> 11994 bytes
 22 files changed, 2460 insertions(+), 2833 deletions(-)

commit 568ce860264e63f86ae45258eb106fb7a74a33a3
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 31 14:43:31 2005 +0000

    Increment CAIRO_VERSION to 1.1.1 after making branch tag BRANCH_1_0.

 ChangeLog    |    5 +++++
 configure.in |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 41c321fffaaa035b71aa8d149e748e1aae6d2317
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 31 13:52:19 2005 +0000

    Add note to use ./autogen.sh instead of ./configure when working with source from cvs.

 ChangeLog |    5 +++++
 INSTALL   |    4 ++++
 2 files changed, 9 insertions(+), 0 deletions(-)

commit eb2316ecc7dfe2f7a87153c0094bda8754f6d36f
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 31 13:33:42 2005 +0000

    Fix test to not try to set a non-invertible matrix. (We'd gotten away with this due to round-off error on many systems). Fixes one out of six failures in bug #4245.

 ChangeLog          |    6 ++++++
 test/get-and-set.c |    4 ++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 464c6dffcf251d4b0089e50b716979da5e3b9a5a
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 31 09:00:01 2005 +0000

    Add Radek Doulík.
    Add test exposing a BadValue (0-size pixmap) bug in cairo-xlib-surface when everything is clipped away (thanks to Radek Doulík <rodo@novell.com>).

 AUTHORS               |    1 +
 ChangeLog             |   10 +++++++
 test/.cvsignore       |    1 +
 test/Makefile.am      |    4 +++
 test/clip-all-ref.png |  Bin 0 -> 118 bytes
 test/clip-all.c       |   69 +++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 85 insertions(+), 0 deletions(-)

commit 44d6afc8a82c2ede19ccc1e27a123b241be6dc67
Author: Owen Taylor <otaylor@redhat.com>
Date:   Tue Aug 30 10:50:27 2005 +0000

    Liberalize the ServerVendor check so that we can handle the Mandriva vendor string. (#4298, Frederic Crozat)

 ChangeLog                |    6 ++++++
 src/cairo-xlib-surface.c |    2 +-
 2 files changed, 7 insertions(+), 1 deletions(-)

commit a4418a63d7b837f0f7c20f5ce6a0e8b31edd97d7
Author: Owen Taylor <otaylor@redhat.com>
Date:   Tue Aug 30 10:42:17 2005 +0000

    Use a 8xN rather than a 1xN strip for a vertical gradient. This is much more tolerant of slow compositing code, and is worth some extra expense computing the gradient. (#4263, found in test case from Richard Stellingwerff)

 ChangeLog           |    8 ++++++++
 src/cairo-pattern.c |   11 +++++++++--
 2 files changed, 17 insertions(+), 2 deletions(-)

commit 2120864edfb1bc51251dca3aeefbfadffb442ad0
Author: Owen Taylor <otaylor@redhat.com>
Date:   Sun Aug 28 12:52:10 2005 +0000

    Use local labels rather than global labels in the assembly, to be robust if the code is inlined in multiple places. (#4283, Reported by Marco Manfredini)

 pixman/ChangeLog   |    6 ++++++
 pixman/src/fbmmx.c |    8 ++++----
 2 files changed, 10 insertions(+), 4 deletions(-)

commit a83537fe02d29fc36a78be0f5599421edf75dc62
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Sat Aug 27 19:32:57 2005 +0000

    Some fixes for warnings from sparse (Part of bug #4208, Kjartan Maraas)
    Use NULL not 0.

 pixman/ChangeLog       |   15 +++++++++++
 pixman/src/fbcompose.c |   66 ++++++++++++++++++++++++------------------------
 pixman/src/fbpict.c    |    4 +-
 pixman/src/icbltone.c  |    6 ++--
 pixman/src/icimage.c   |   10 +++---
 pixman/src/icrect.c    |    2 +-
 pixman/src/ictrap.c    |    6 ++--
 7 files changed, 62 insertions(+), 47 deletions(-)

commit 96342fe7beee1d0c2084cb6e0f44969d5b05b100
Author: Owen Taylor <otaylor@redhat.com>
Date:   Sat Aug 27 18:54:03 2005 +0000

    Make the check for rectangular trapezoids simpler and more accurate. (#4220, found using test case from Richard Stellingwerff)
    reviewed by: cworth

 ChangeLog         |    8 ++++++++
 src/cairo-traps.c |   16 +++++-----------
 2 files changed, 13 insertions(+), 11 deletions(-)

commit 30e3d538dfbd763872117760ec473481e2c5926d
Author: Owen Taylor <otaylor@redhat.com>
Date:   Sat Aug 27 18:49:06 2005 +0000

    Make the vendor string check for XFree86 more liberal, to deal with older versions of gentoo that modified it in a different way. (#4231, fix from Billy Biggs)

 ChangeLog                |    7 +++++++
 src/cairo-xlib-surface.c |    2 +-
 2 files changed, 8 insertions(+), 1 deletions(-)

commit a6acc962f76c1eba9dec3ee1646413f6c82ac6e0
Author: Owen Taylor <otaylor@redhat.com>
Date:   Sat Aug 27 18:46:34 2005 +0000

    Undef MIN/MAX before defining them in case some system header happens to define them. (#4196, Christian Biesinger)

 ChangeLog      |    8 +++++++-
 src/cairoint.h |    3 +++
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 3c53414cf34d2027284bdbd4836d10a2c0d998c0
Author: Owen Taylor <otaylor@redhat.com>
Date:   Sat Aug 27 18:40:46 2005 +0000

    Fix docs not to talk about %NULL returns. #4271, Duncan Coutts.

 ChangeLog                 |    6 ++++++
 src/cairo-image-surface.c |   18 ++++++++++++++----
 2 files changed, 20 insertions(+), 4 deletions(-)

commit c0da73e1b8e5933ca117512499ccac4e208bd8e0
Author: Owen Taylor <otaylor@redhat.com>
Date:   Sat Aug 27 18:36:09 2005 +0000

    Make the code work with
    -fomit-frame-pointer by making sure that %esp isn't modified at the point where we access output operands. (#4269, Patch from Ronald Wahl)

 pixman/ChangeLog   |    7 +++++++
 pixman/src/fbmmx.c |   24 +++++++++++++++++-------
 2 files changed, 24 insertions(+), 7 deletions(-)

commit 03c3935471ad69e8e2d0e6543b7667f972ef1f0c
Author: Tor Lillqvist <tml@novell.com>
Date:   Thu Aug 25 02:59:40 2005 +0000

    Include the documentation, too.

 ChangeLog   |    4 ++++
 Makefile.am |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 1f975f4e82f3090b5f677241c1ca4d344788d27c
Author: Billy Biggs <vektor@dumbterm.net>
Date:   Wed Aug 24 19:20:08 2005 +0000

    Update formatting of the title and short description, as this actually changes how the TOC appears in devhelp.

 ChangeLog                               |   30 ++++++++++++++++++++++++++++++
 doc/public/tmpl/cairo-font-options.sgml |    6 ++----
 doc/public/tmpl/cairo-font.sgml         |    6 ++----
 doc/public/tmpl/cairo-ft.sgml           |    6 ++----
 doc/public/tmpl/cairo-glitz.sgml        |    6 ++----
 doc/public/tmpl/cairo-image.sgml        |    6 ++----
 doc/public/tmpl/cairo-matrix.sgml       |    6 ++----
 doc/public/tmpl/cairo-paths.sgml        |    6 ++----
 doc/public/tmpl/cairo-pattern.sgml      |    6 ++----
 doc/public/tmpl/cairo-pdf.sgml          |    6 ++----
 doc/public/tmpl/cairo-png.sgml          |    6 ++----
 doc/public/tmpl/cairo-ps.sgml           |    6 ++----
 doc/public/tmpl/cairo-quartz.sgml       |    6 ++----
 doc/public/tmpl/cairo-scaled-font.sgml  |    6 ++----
 doc/public/tmpl/cairo-status.sgml       |    6 ++----
 doc/public/tmpl/cairo-surface.sgml      |    6 ++----
 doc/public/tmpl/cairo-text.sgml         |    6 ++----
 doc/public/tmpl/cairo-transforms.sgml   |    6 ++----
 doc/public/tmpl/cairo-types.sgml        |    6 ++----
 doc/public/tmpl/cairo-version.sgml      |    6 ++----
 doc/public/tmpl/cairo-win32-fonts.sgml  |    6 ++----
 doc/public/tmpl/cairo-win32.sgml        |    6 ++----
 doc/public/tmpl/cairo-xcb-xrender.sgml  |    6 ++----
 doc/public/tmpl/cairo-xcb.sgml          |    6 ++----
 doc/public/tmpl/cairo-xlib.sgml         |    6 ++----
 doc/public/tmpl/cairo.sgml              |    6 ++----
 26 files changed, 80 insertions(+), 100 deletions(-)

commit 241a4eb8f76fcd1e6ca7db127410fcca8adf907e
Author: Bertram Felgenhauer <int-e@gmx.de>
Date:   Wed Aug 24 17:44:16 2005 +0000

    add docs-publish as a phony target

 ChangeLog   |    4 ++++
 Makefile.am |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 0bcad6002a62cb5ba2eb733fe1863ac045db1c86
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 24 10:16:14 2005 +0000

    Increment CAIRO_VERSION to 1.0.1 after tagging RELEASE_1_0_0.

 ChangeLog    |    5 +++++
 configure.in |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)
